var yV=Object.defineProperty;var W1=t=>{throw TypeError(t)};var vV=(t,e,n)=>e in t?yV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wi=(t,e,n)=>vV(t,typeof e!="symbol"?e+"":e,n),Xy=(t,e,n)=>e.has(t)||W1("Cannot "+n);var L=(t,e,n)=>(Xy(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?W1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(Xy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),We=(t,e,n)=>(Xy(t,e,"access private method"),n);var Of=(t,e,n,r)=>({set _(s){ge(t,e,s,n)},get _(){return L(t,e,r)}});function xV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Hh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xI={exports:{}},vg={},wI={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=Symbol.for("react.element"),wV=Symbol.for("react.portal"),bV=Symbol.for("react.fragment"),_V=Symbol.for("react.strict_mode"),kV=Symbol.for("react.profiler"),EV=Symbol.for("react.provider"),TV=Symbol.for("react.context"),NV=Symbol.for("react.forward_ref"),SV=Symbol.for("react.suspense"),IV=Symbol.for("react.memo"),CV=Symbol.for("react.lazy"),G1=Symbol.iterator;function jV(t){return t===null||typeof t!="object"?null:(t=G1&&t[G1]||t["@@iterator"],typeof t=="function"?t:null)}var bI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_I=Object.assign,kI={};function mu(t,e,n){this.props=t,this.context=e,this.refs=kI,this.updater=n||bI}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EI(){}EI.prototype=mu.prototype;function A0(t,e,n){this.props=t,this.context=e,this.refs=kI,this.updater=n||bI}var R0=A0.prototype=new EI;R0.constructor=A0;_I(R0,mu.prototype);R0.isPureReactComponent=!0;var Q1=Array.isArray,TI=Object.prototype.hasOwnProperty,P0={current:null},NI={key:!0,ref:!0,__self:!0,__source:!0};function SI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)TI.call(e,r)&&!NI.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:qh,type:t,key:i,ref:o,props:s,_owner:P0.current}}function AV(t,e){return{$$typeof:qh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function D0(t){return typeof t=="object"&&t!==null&&t.$$typeof===qh}function RV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y1=/\/+/g;function Jy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RV(""+t.key):e.toString(36)}function vm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qh:case wV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jy(o,0):r,Q1(s)?(n="",t!=null&&(n=t.replace(Y1,"$&/")+"/"),vm(s,e,n,"",function(u){return u})):s!=null&&(D0(s)&&(s=AV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Y1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Q1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Jy(i,l);o+=vm(i,e,n,c,s)}else if(c=jV(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Jy(i,l++),o+=vm(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(t,e,n){if(t==null)return t;var r=[],s=0;return vm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function PV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},xm={transition:null},DV={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:xm,ReactCurrentOwner:P0};function II(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Mf,forEach:function(t,e,n){Mf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mf(t,function(){e++}),e},toArray:function(t){return Mf(t,function(e){return e})||[]},only:function(t){if(!D0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=mu;Xe.Fragment=bV;Xe.Profiler=kV;Xe.PureComponent=A0;Xe.StrictMode=_V;Xe.Suspense=SV;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DV;Xe.act=II;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_I({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=P0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)TI.call(e,c)&&!NI.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qh,type:t.type,key:s,ref:i,props:r,_owner:o}};Xe.createContext=function(t){return t={$$typeof:TV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EV,_context:t},t.Consumer=t};Xe.createElement=SI;Xe.createFactory=function(t){var e=SI.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:NV,render:t}};Xe.isValidElement=D0;Xe.lazy=function(t){return{$$typeof:CV,_payload:{_status:-1,_result:t},_init:PV}};Xe.memo=function(t,e){return{$$typeof:IV,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=xm.transition;xm.transition={};try{t()}finally{xm.transition=e}};Xe.unstable_act=II;Xe.useCallback=function(t,e){return sr.current.useCallback(t,e)};Xe.useContext=function(t){return sr.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return sr.current.useEffect(t,e)};Xe.useId=function(){return sr.current.useId()};Xe.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return sr.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Xe.useRef=function(t){return sr.current.useRef(t)};Xe.useState=function(t){return sr.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return sr.current.useTransition()};Xe.version="18.3.1";wI.exports=Xe;var p=wI.exports;const fe=Hh(p),xg=xV({__proto__:null,default:fe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV=p,MV=Symbol.for("react.element"),LV=Symbol.for("react.fragment"),VV=Object.prototype.hasOwnProperty,FV=OV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UV={key:!0,ref:!0,__self:!0,__source:!0};function CI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VV.call(e,r)&&!UV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:MV,type:t,key:i,ref:o,props:s,_owner:FV.current}}vg.Fragment=LV;vg.jsx=CI;vg.jsxs=CI;xI.exports=vg;var a=xI.exports,jI={exports:{}},Or={},AI={exports:{}},RI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var ne=z.length;z.push(H);e:for(;0<ne;){var xe=ne-1>>>1,be=z[xe];if(0<s(be,H))z[xe]=H,z[ne]=be,ne=xe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],ne=z.pop();if(ne!==H){z[0]=ne;e:for(var xe=0,be=z.length,Ie=be>>>1;xe<Ie;){var Je=2*(xe+1)-1,yt=z[Je],ht=Je+1,me=z[ht];if(0>s(yt,ne))ht<be&&0>s(me,yt)?(z[xe]=me,z[ht]=ne,xe=ht):(z[xe]=yt,z[Je]=ne,xe=Je);else if(ht<be&&0>s(me,ne))z[xe]=me,z[ht]=ne,xe=ht;else break e}}return H}function s(z,H){var ne=z.sortIndex-H.sortIndex;return ne!==0?ne:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,v=!1,w=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=z)r(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function C(z){if(x=!1,b(z),!w)if(n(c)!==null)w=!0,J(D);else{var H=n(u);H!==null&&ae(C,H.startTime-z)}}function D(z,H){w=!1,x&&(x=!1,_(N),N=-1),v=!0;var ne=m;try{for(b(H),f=n(c);f!==null&&(!(f.expirationTime>H)||z&&!j());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,m=f.priorityLevel;var be=xe(f.expirationTime<=H);H=t.unstable_now(),typeof be=="function"?f.callback=be:f===n(c)&&r(c),b(H)}else r(c);f=n(c)}if(f!==null)var Ie=!0;else{var Je=n(u);Je!==null&&ae(C,Je.startTime-H),Ie=!1}return Ie}finally{f=null,m=ne,v=!1}}var O=!1,I=null,N=-1,E=5,S=-1;function j(){return!(t.unstable_now()-S<E)}function R(){if(I!==null){var z=t.unstable_now();S=z;var H=!0;try{H=I(!0,z)}finally{H?A():(O=!1,I=null)}}else O=!1}var A;if(typeof g=="function")A=function(){g(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=R,A=function(){X.postMessage(null)}}else A=function(){k(R,0)};function J(z){I=z,O||(O=!0,A())}function ae(z,H){N=k(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,J(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var ne=m;m=H;try{return z()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=m;m=z;try{return H()}finally{m=ne}},t.unstable_scheduleCallback=function(z,H,ne){var xe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?xe+ne:xe):ne=xe,z){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ne+be,z={id:h++,callback:H,priorityLevel:z,startTime:ne,expirationTime:be,sortIndex:-1},ne>xe?(z.sortIndex=ne,e(u,z),n(c)===null&&z===n(u)&&(x?(_(N),N=-1):x=!0,ae(C,ne-xe))):(z.sortIndex=be,e(c,z),w||v||(w=!0,J(D))),z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(z){var H=m;return function(){var ne=m;m=H;try{return z.apply(this,arguments)}finally{m=ne}}}})(RI);AI.exports=RI;var zV=AI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=p,Dr=zV;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PI=new Set,qd={};function Il(t,e){qc(t,e),qc(t+"Capture",e)}function qc(t,e){for(qd[t]=e,t=0;t<e.length;t++)PI.add(e[t])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lx=Object.prototype.hasOwnProperty,BV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z1={},X1={};function HV(t){return lx.call(X1,t)?!0:lx.call(Z1,t)?!1:BV.test(t)?X1[t]=!0:(Z1[t]=!0,!1)}function qV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KV(t,e,n,r){if(e===null||typeof e>"u"||qV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var O0=/[\-:]([a-z])/g;function M0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O0,M0);In[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O0,M0);In[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O0,M0);In[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function L0(t,e,n,r){var s=In.hasOwnProperty(e)?In[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KV(e,n,s,r)&&(n=null),r||s===null?HV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=Symbol.for("react.element"),ec=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),cx=Symbol.for("react.profiler"),DI=Symbol.for("react.provider"),OI=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),dx=Symbol.for("react.suspense_list"),U0=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),MI=Symbol.for("react.offscreen"),J1=Symbol.iterator;function Ku(t){return t===null||typeof t!="object"?null:(t=J1&&t[J1]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,ev;function ld(t){if(ev===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ev=e&&e[1]||""}return`
`+ev+t}var tv=!1;function nv(t,e){if(!t||tv)return"";tv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{tv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ld(t):""}function WV(t){switch(t.tag){case 5:return ld(t.type);case 16:return ld("Lazy");case 13:return ld("Suspense");case 19:return ld("SuspenseList");case 0:case 2:case 15:return t=nv(t.type,!1),t;case 11:return t=nv(t.type.render,!1),t;case 1:return t=nv(t.type,!0),t;default:return""}}function hx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tc:return"Fragment";case ec:return"Portal";case cx:return"Profiler";case V0:return"StrictMode";case ux:return"Suspense";case dx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OI:return(t.displayName||"Context")+".Consumer";case DI:return(t._context.displayName||"Context")+".Provider";case F0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U0:return e=t.displayName||null,e!==null?e:hx(t.type)||"Memo";case xa:e=t._payload,t=t._init;try{return hx(t(e))}catch{}}return null}function GV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hx(e);case 8:return e===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QV(t){var e=LI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vf(t){t._valueTracker||(t._valueTracker=QV(t))}function VI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fx(t,e){var n=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=to(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FI(t,e){e=e.checked,e!=null&&L0(t,"checked",e,!1)}function mx(t,e){FI(t,e);var n=to(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?px(t,e.type,n):e.hasOwnProperty("defaultValue")&&px(t,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function px(t,e,n){(e!=="number"||Xm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cd=Array.isArray;function mc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+to(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(cd(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:to(n)}}function UI(t,e){var n=to(e.value),r=to(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ff,$I=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ff=Ff||document.createElement("div"),Ff.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ff.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ed={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YV=["Webkit","ms","Moz","O"];Object.keys(Ed).forEach(function(t){YV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ed[e]=Ed[t]})});function BI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ed.hasOwnProperty(t)&&Ed[t]?(""+e).trim():e+"px"}function HI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=BI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ZV=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vx(t,e){if(e){if(ZV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function xx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wx=null;function z0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bx=null,pc=null,gc=null;function sE(t){if(t=Gh(t)){if(typeof bx!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Eg(e),bx(t.stateNode,t.type,e))}}function qI(t){pc?gc?gc.push(t):gc=[t]:pc=t}function KI(){if(pc){var t=pc,e=gc;if(gc=pc=null,sE(t),e)for(t=0;t<e.length;t++)sE(e[t])}}function WI(t,e){return t(e)}function GI(){}var rv=!1;function QI(t,e,n){if(rv)return t(e,n);rv=!0;try{return WI(t,e,n)}finally{rv=!1,(pc!==null||gc!==null)&&(GI(),KI())}}function Wd(t,e){var n=t.stateNode;if(n===null)return null;var r=Eg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var _x=!1;if(qi)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){_x=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{_x=!1}function XV(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Td=!1,Jm=null,ep=!1,kx=null,JV={onError:function(t){Td=!0,Jm=t}};function e3(t,e,n,r,s,i,o,l,c){Td=!1,Jm=null,XV.apply(JV,arguments)}function t3(t,e,n,r,s,i,o,l,c){if(e3.apply(this,arguments),Td){if(Td){var u=Jm;Td=!1,Jm=null}else throw Error(re(198));ep||(ep=!0,kx=u)}}function Cl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iE(t){if(Cl(t)!==t)throw Error(re(188))}function n3(t){var e=t.alternate;if(!e){if(e=Cl(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return iE(s),t;if(i===r)return iE(s),e;i=i.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function ZI(t){return t=n3(t),t!==null?XI(t):null}function XI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XI(t);if(e!==null)return e;t=t.sibling}return null}var JI=Dr.unstable_scheduleCallback,aE=Dr.unstable_cancelCallback,r3=Dr.unstable_shouldYield,s3=Dr.unstable_requestPaint,en=Dr.unstable_now,i3=Dr.unstable_getCurrentPriorityLevel,$0=Dr.unstable_ImmediatePriority,eC=Dr.unstable_UserBlockingPriority,tp=Dr.unstable_NormalPriority,a3=Dr.unstable_LowPriority,tC=Dr.unstable_IdlePriority,wg=null,Zs=null;function o3(t){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(wg,t,void 0,(t.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:u3,l3=Math.log,c3=Math.LN2;function u3(t){return t>>>=0,t===0?32:31-(l3(t)/c3|0)|0}var Uf=64,zf=4194304;function ud(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function np(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ud(l):(i&=o,i!==0&&(r=ud(i)))}else o=n&~s,o!==0?r=ud(o):i!==0&&(r=ud(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xs(e),s=1<<n,r|=t[n],e&=~s;return r}function d3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xs(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=d3(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Ex(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nC(){var t=Uf;return Uf<<=1,!(Uf&4194240)&&(Uf=64),t}function sv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xs(e),t[e]=n}function f3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function B0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var wt=0;function rC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sC,H0,iC,aC,oC,Tx=!1,$f=[],$a=null,Ba=null,Ha=null,Gd=new Map,Qd=new Map,ka=[],m3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oE(t,e){switch(t){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(e.pointerId)}}function Gu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gh(e),e!==null&&H0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function p3(t,e,n,r,s){switch(e){case"focusin":return $a=Gu($a,t,e,n,r,s),!0;case"dragenter":return Ba=Gu(Ba,t,e,n,r,s),!0;case"mouseover":return Ha=Gu(Ha,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gd.set(i,Gu(Gd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qd.set(i,Gu(Qd.get(i)||null,t,e,n,r,s)),!0}return!1}function lC(t){var e=Lo(t.target);if(e!==null){var n=Cl(e);if(n!==null){if(e=n.tag,e===13){if(e=YI(n),e!==null){t.blockedOn=e,oC(t.priority,function(){iC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wx=r,n.target.dispatchEvent(r),wx=null}else return e=Gh(n),e!==null&&H0(e),t.blockedOn=n,!1;e.shift()}return!0}function lE(t,e,n){wm(t)&&n.delete(e)}function g3(){Tx=!1,$a!==null&&wm($a)&&($a=null),Ba!==null&&wm(Ba)&&(Ba=null),Ha!==null&&wm(Ha)&&(Ha=null),Gd.forEach(lE),Qd.forEach(lE)}function Qu(t,e){t.blockedOn===e&&(t.blockedOn=null,Tx||(Tx=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,g3)))}function Yd(t){function e(s){return Qu(s,t)}if(0<$f.length){Qu($f[0],t);for(var n=1;n<$f.length;n++){var r=$f[n];r.blockedOn===t&&(r.blockedOn=null)}}for($a!==null&&Qu($a,t),Ba!==null&&Qu(Ba,t),Ha!==null&&Qu(Ha,t),Gd.forEach(e),Qd.forEach(e),n=0;n<ka.length;n++)r=ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ka.length&&(n=ka[0],n.blockedOn===null);)lC(n),n.blockedOn===null&&ka.shift()}var yc=aa.ReactCurrentBatchConfig,rp=!0;function y3(t,e,n,r){var s=wt,i=yc.transition;yc.transition=null;try{wt=1,q0(t,e,n,r)}finally{wt=s,yc.transition=i}}function v3(t,e,n,r){var s=wt,i=yc.transition;yc.transition=null;try{wt=4,q0(t,e,n,r)}finally{wt=s,yc.transition=i}}function q0(t,e,n,r){if(rp){var s=Nx(t,e,n,r);if(s===null)mv(t,e,r,sp,n),oE(t,r);else if(p3(s,t,e,n,r))r.stopPropagation();else if(oE(t,r),e&4&&-1<m3.indexOf(t)){for(;s!==null;){var i=Gh(s);if(i!==null&&sC(i),i=Nx(t,e,n,r),i===null&&mv(t,e,r,sp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mv(t,e,r,null,n)}}var sp=null;function Nx(t,e,n,r){if(sp=null,t=z0(r),t=Lo(t),t!==null)if(e=Cl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sp=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i3()){case $0:return 1;case eC:return 4;case tp:case a3:return 16;case tC:return 536870912;default:return 16}default:return 16}}var Fa=null,K0=null,bm=null;function uC(){if(bm)return bm;var t,e=K0,n=e.length,r,s="value"in Fa?Fa.value:Fa.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bm=s.slice(t,1<r?1-r:void 0)}function _m(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bf(){return!0}function cE(){return!1}function Mr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bf:cE,this.isPropagationStopped=cE,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W0=Mr(pu),Wh=Bt({},pu,{view:0,detail:0}),x3=Mr(Wh),iv,av,Yu,bg=Bt({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yu&&(Yu&&t.type==="mousemove"?(iv=t.screenX-Yu.screenX,av=t.screenY-Yu.screenY):av=iv=0,Yu=t),iv)},movementY:function(t){return"movementY"in t?t.movementY:av}}),uE=Mr(bg),w3=Bt({},bg,{dataTransfer:0}),b3=Mr(w3),_3=Bt({},Wh,{relatedTarget:0}),ov=Mr(_3),k3=Bt({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),E3=Mr(k3),T3=Bt({},pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N3=Mr(T3),S3=Bt({},pu,{data:0}),dE=Mr(S3),I3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j3[t])?!!e[t]:!1}function G0(){return A3}var R3=Bt({},Wh,{key:function(t){if(t.key){var e=I3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_m(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G0,charCode:function(t){return t.type==="keypress"?_m(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_m(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P3=Mr(R3),D3=Bt({},bg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=Mr(D3),O3=Bt({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G0}),M3=Mr(O3),L3=Bt({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),V3=Mr(L3),F3=Bt({},bg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U3=Mr(F3),z3=[9,13,27,32],Q0=qi&&"CompositionEvent"in window,Nd=null;qi&&"documentMode"in document&&(Nd=document.documentMode);var $3=qi&&"TextEvent"in window&&!Nd,dC=qi&&(!Q0||Nd&&8<Nd&&11>=Nd),fE=" ",mE=!1;function hC(t,e){switch(t){case"keyup":return z3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nc=!1;function B3(t,e){switch(t){case"compositionend":return fC(e);case"keypress":return e.which!==32?null:(mE=!0,fE);case"textInput":return t=e.data,t===fE&&mE?null:t;default:return null}}function H3(t,e){if(nc)return t==="compositionend"||!Q0&&hC(t,e)?(t=uC(),bm=K0=Fa=null,nc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var q3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q3[t.type]:e==="textarea"}function mC(t,e,n,r){qI(r),e=ip(e,"onChange"),0<e.length&&(n=new W0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sd=null,Zd=null;function K3(t){TC(t,0)}function _g(t){var e=ic(t);if(VI(e))return t}function W3(t,e){if(t==="change")return e}var pC=!1;if(qi){var lv;if(qi){var cv="oninput"in document;if(!cv){var gE=document.createElement("div");gE.setAttribute("oninput","return;"),cv=typeof gE.oninput=="function"}lv=cv}else lv=!1;pC=lv&&(!document.documentMode||9<document.documentMode)}function yE(){Sd&&(Sd.detachEvent("onpropertychange",gC),Zd=Sd=null)}function gC(t){if(t.propertyName==="value"&&_g(Zd)){var e=[];mC(e,Zd,t,z0(t)),QI(K3,e)}}function G3(t,e,n){t==="focusin"?(yE(),Sd=e,Zd=n,Sd.attachEvent("onpropertychange",gC)):t==="focusout"&&yE()}function Q3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _g(Zd)}function Y3(t,e){if(t==="click")return _g(e)}function Z3(t,e){if(t==="input"||t==="change")return _g(e)}function X3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ts=typeof Object.is=="function"?Object.is:X3;function Xd(t,e){if(Ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lx.call(e,s)||!Ts(t[s],e[s]))return!1}return!0}function vE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xE(t,e){var n=vE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vE(n)}}function yC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vC(){for(var t=window,e=Xm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xm(t.document)}return e}function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J3(t){var e=vC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yC(n.ownerDocument.documentElement,n)){if(r!==null&&Y0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=xE(n,i);var o=xE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eF=qi&&"documentMode"in document&&11>=document.documentMode,rc=null,Sx=null,Id=null,Ix=!1;function wE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ix||rc==null||rc!==Xm(r)||(r=rc,"selectionStart"in r&&Y0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Id&&Xd(Id,r)||(Id=r,r=ip(Sx,"onSelect"),0<r.length&&(e=new W0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rc)))}function Hf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sc={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},uv={},xC={};qi&&(xC=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function kg(t){if(uv[t])return uv[t];if(!sc[t])return t;var e=sc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xC)return uv[t]=e[n];return t}var wC=kg("animationend"),bC=kg("animationiteration"),_C=kg("animationstart"),kC=kg("transitionend"),EC=new Map,bE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){EC.set(t,e),Il(e,[t])}for(var dv=0;dv<bE.length;dv++){var hv=bE[dv],tF=hv.toLowerCase(),nF=hv[0].toUpperCase()+hv.slice(1);xo(tF,"on"+nF)}xo(wC,"onAnimationEnd");xo(bC,"onAnimationIteration");xo(_C,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(kC,"onTransitionEnd");qc("onMouseEnter",["mouseout","mouseover"]);qc("onMouseLeave",["mouseout","mouseover"]);qc("onPointerEnter",["pointerout","pointerover"]);qc("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rF=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function _E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t3(r,e,void 0,t),t.currentTarget=null}function TC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;_E(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;_E(s,l,u),i=c}}}if(ep)throw t=kx,ep=!1,kx=null,t}function Ct(t,e){var n=e[Px];n===void 0&&(n=e[Px]=new Set);var r=t+"__bubble";n.has(r)||(NC(e,t,2,!1),n.add(r))}function fv(t,e,n){var r=0;e&&(r|=4),NC(n,t,r,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[qf]){t[qf]=!0,PI.forEach(function(n){n!=="selectionchange"&&(rF.has(n)||fv(n,!1,t),fv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qf]||(e[qf]=!0,fv("selectionchange",!1,e))}}function NC(t,e,n,r){switch(cC(e)){case 1:var s=y3;break;case 4:s=v3;break;default:s=q0}n=s.bind(null,e,n,t),s=void 0,!_x||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Lo(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}QI(function(){var u=i,h=z0(n),f=[];e:{var m=EC.get(t);if(m!==void 0){var v=W0,w=t;switch(t){case"keypress":if(_m(n)===0)break e;case"keydown":case"keyup":v=P3;break;case"focusin":w="focus",v=ov;break;case"focusout":w="blur",v=ov;break;case"beforeblur":case"afterblur":v=ov;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=b3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=M3;break;case wC:case bC:case _C:v=E3;break;case kC:v=V3;break;case"scroll":v=x3;break;case"wheel":v=U3;break;case"copy":case"cut":case"paste":v=N3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=hE}var x=(e&4)!==0,k=!x&&t==="scroll",_=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,b;g!==null;){b=g;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,_!==null&&(C=Wd(g,_),C!=null&&x.push(eh(g,C,b)))),k)break;g=g.return}0<x.length&&(m=new v(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==wx&&(w=n.relatedTarget||n.fromElement)&&(Lo(w)||w[Ki]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Lo(w):null,w!==null&&(k=Cl(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(x=uE,C="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=hE,C="onPointerLeave",_="onPointerEnter",g="pointer"),k=v==null?m:ic(v),b=w==null?m:ic(w),m=new x(C,g+"leave",v,n,h),m.target=k,m.relatedTarget=b,C=null,Lo(h)===u&&(x=new x(_,g+"enter",w,n,h),x.target=b,x.relatedTarget=k,C=x),k=C,v&&w)t:{for(x=v,_=w,g=0,b=x;b;b=Bl(b))g++;for(b=0,C=_;C;C=Bl(C))b++;for(;0<g-b;)x=Bl(x),g--;for(;0<b-g;)_=Bl(_),b--;for(;g--;){if(x===_||_!==null&&x===_.alternate)break t;x=Bl(x),_=Bl(_)}x=null}else x=null;v!==null&&kE(f,m,v,x,!1),w!==null&&k!==null&&kE(f,k,w,x,!0)}}e:{if(m=u?ic(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=W3;else if(pE(m))if(pC)D=Z3;else{D=Q3;var O=G3}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Y3);if(D&&(D=D(t,u))){mC(f,D,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&px(m,"number",m.value)}switch(O=u?ic(u):window,t){case"focusin":(pE(O)||O.contentEditable==="true")&&(rc=O,Sx=u,Id=null);break;case"focusout":Id=Sx=rc=null;break;case"mousedown":Ix=!0;break;case"contextmenu":case"mouseup":case"dragend":Ix=!1,wE(f,n,h);break;case"selectionchange":if(eF)break;case"keydown":case"keyup":wE(f,n,h)}var I;if(Q0)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else nc?hC(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(dC&&n.locale!=="ko"&&(nc||N!=="onCompositionStart"?N==="onCompositionEnd"&&nc&&(I=uC()):(Fa=h,K0="value"in Fa?Fa.value:Fa.textContent,nc=!0)),O=ip(u,N),0<O.length&&(N=new dE(N,t,null,n,h),f.push({event:N,listeners:O}),I?N.data=I:(I=fC(n),I!==null&&(N.data=I)))),(I=$3?B3(t,n):H3(t,n))&&(u=ip(u,"onBeforeInput"),0<u.length&&(h=new dE("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}TC(f,e)})}function eh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ip(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wd(t,n),i!=null&&r.unshift(eh(t,i,s)),i=Wd(t,e),i!=null&&r.push(eh(t,i,s))),t=t.return}return r}function Bl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Wd(n,i),c!=null&&o.unshift(eh(n,c,l))):s||(c=Wd(n,i),c!=null&&o.push(eh(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sF=/\r\n?/g,iF=/\u0000|\uFFFD/g;function EE(t){return(typeof t=="string"?t:""+t).replace(sF,`
`).replace(iF,"")}function Kf(t,e,n){if(e=EE(e),EE(t)!==e&&n)throw Error(re(425))}function ap(){}var Cx=null,jx=null;function Ax(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rx=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,oF=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(t){return TE.resolve(null).then(t).catch(lF)}:Rx;function lF(t){setTimeout(function(){throw t})}function pv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yd(e)}function qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gu=Math.random().toString(36).slice(2),qs="__reactFiber$"+gu,th="__reactProps$"+gu,Ki="__reactContainer$"+gu,Px="__reactEvents$"+gu,cF="__reactListeners$"+gu,uF="__reactHandles$"+gu;function Lo(t){var e=t[qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ki]||n[qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NE(t);t!==null;){if(n=t[qs])return n;t=NE(t)}return e}t=n,n=t.parentNode}return null}function Gh(t){return t=t[qs]||t[Ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ic(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Eg(t){return t[th]||null}var Dx=[],ac=-1;function wo(t){return{current:t}}function Pt(t){0>ac||(t.current=Dx[ac],Dx[ac]=null,ac--)}function Tt(t,e){ac++,Dx[ac]=t.current,t.current=e}var no={},$n=wo(no),gr=wo(!1),al=no;function Kc(t,e){var n=t.type.contextTypes;if(!n)return no;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yr(t){return t=t.childContextTypes,t!=null}function op(){Pt(gr),Pt($n)}function SE(t,e,n){if($n.current!==no)throw Error(re(168));Tt($n,e),Tt(gr,n)}function SC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,GV(t)||"Unknown",s));return Bt({},n,r)}function lp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,al=$n.current,Tt($n,t),Tt(gr,gr.current),!0}function IE(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=SC(t,e,al),r.__reactInternalMemoizedMergedChildContext=t,Pt(gr),Pt($n),Tt($n,t)):Pt(gr),Tt(gr,n)}var Ni=null,Tg=!1,gv=!1;function IC(t){Ni===null?Ni=[t]:Ni.push(t)}function dF(t){Tg=!0,IC(t)}function bo(){if(!gv&&Ni!==null){gv=!0;var t=0,e=wt;try{var n=Ni;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ni=null,Tg=!1}catch(s){throw Ni!==null&&(Ni=Ni.slice(t+1)),JI($0,bo),s}finally{wt=e,gv=!1}}return null}var oc=[],lc=0,cp=null,up=0,zr=[],$r=0,ol=null,Pi=1,Di="";function Do(t,e){oc[lc++]=up,oc[lc++]=cp,cp=t,up=e}function CC(t,e,n){zr[$r++]=Pi,zr[$r++]=Di,zr[$r++]=ol,ol=t;var r=Pi;t=Di;var s=32-xs(r)-1;r&=~(1<<s),n+=1;var i=32-xs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pi=1<<32-xs(e)+s|n<<s|r,Di=i+t}else Pi=1<<i|n<<s|r,Di=t}function Z0(t){t.return!==null&&(Do(t,1),CC(t,1,0))}function X0(t){for(;t===cp;)cp=oc[--lc],oc[lc]=null,up=oc[--lc],oc[lc]=null;for(;t===ol;)ol=zr[--$r],zr[$r]=null,Di=zr[--$r],zr[$r]=null,Pi=zr[--$r],zr[$r]=null}var Ar=null,Sr=null,Mt=!1,cs=null;function jC(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ar=t,Sr=qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ar=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ol!==null?{id:Pi,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ar=t,Sr=null,!0):!1;default:return!1}}function Ox(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mx(t){if(Mt){var e=Sr;if(e){var n=e;if(!CE(t,e)){if(Ox(t))throw Error(re(418));e=qa(n.nextSibling);var r=Ar;e&&CE(t,e)?jC(r,n):(t.flags=t.flags&-4097|2,Mt=!1,Ar=t)}}else{if(Ox(t))throw Error(re(418));t.flags=t.flags&-4097|2,Mt=!1,Ar=t}}}function jE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function Wf(t){if(t!==Ar)return!1;if(!Mt)return jE(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ax(t.type,t.memoizedProps)),e&&(e=Sr)){if(Ox(t))throw AC(),Error(re(418));for(;e;)jC(t,e),e=qa(e.nextSibling)}if(jE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Ar?qa(t.stateNode.nextSibling):null;return!0}function AC(){for(var t=Sr;t;)t=qa(t.nextSibling)}function Wc(){Sr=Ar=null,Mt=!1}function J0(t){cs===null?cs=[t]:cs.push(t)}var hF=aa.ReactCurrentBatchConfig;function Zu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Gf(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AE(t){var e=t._init;return e(t._payload)}function RC(t){function e(_,g){if(t){var b=_.deletions;b===null?(_.deletions=[g],_.flags|=16):b.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function s(_,g){return _=Qa(_,g),_.index=0,_.sibling=null,_}function i(_,g,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<g?(_.flags|=2,g):b):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,g,b,C){return g===null||g.tag!==6?(g=kv(b,_.mode,C),g.return=_,g):(g=s(g,b),g.return=_,g)}function c(_,g,b,C){var D=b.type;return D===tc?h(_,g,b.props.children,C,b.key):g!==null&&(g.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===xa&&AE(D)===g.type)?(C=s(g,b.props),C.ref=Zu(_,g,b),C.return=_,C):(C=Cm(b.type,b.key,b.props,null,_.mode,C),C.ref=Zu(_,g,b),C.return=_,C)}function u(_,g,b,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Ev(b,_.mode,C),g.return=_,g):(g=s(g,b.children||[]),g.return=_,g)}function h(_,g,b,C,D){return g===null||g.tag!==7?(g=Xo(b,_.mode,C,D),g.return=_,g):(g=s(g,b),g.return=_,g)}function f(_,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kv(""+g,_.mode,b),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lf:return b=Cm(g.type,g.key,g.props,null,_.mode,b),b.ref=Zu(_,null,g),b.return=_,b;case ec:return g=Ev(g,_.mode,b),g.return=_,g;case xa:var C=g._init;return f(_,C(g._payload),b)}if(cd(g)||Ku(g))return g=Xo(g,_.mode,b,null),g.return=_,g;Gf(_,g)}return null}function m(_,g,b,C){var D=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:l(_,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lf:return b.key===D?c(_,g,b,C):null;case ec:return b.key===D?u(_,g,b,C):null;case xa:return D=b._init,m(_,g,D(b._payload),C)}if(cd(b)||Ku(b))return D!==null?null:h(_,g,b,C,null);Gf(_,b)}return null}function v(_,g,b,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(b)||null,l(g,_,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Lf:return _=_.get(C.key===null?b:C.key)||null,c(g,_,C,D);case ec:return _=_.get(C.key===null?b:C.key)||null,u(g,_,C,D);case xa:var O=C._init;return v(_,g,b,O(C._payload),D)}if(cd(C)||Ku(C))return _=_.get(b)||null,h(g,_,C,D,null);Gf(g,C)}return null}function w(_,g,b,C){for(var D=null,O=null,I=g,N=g=0,E=null;I!==null&&N<b.length;N++){I.index>N?(E=I,I=null):E=I.sibling;var S=m(_,I,b[N],C);if(S===null){I===null&&(I=E);break}t&&I&&S.alternate===null&&e(_,I),g=i(S,g,N),O===null?D=S:O.sibling=S,O=S,I=E}if(N===b.length)return n(_,I),Mt&&Do(_,N),D;if(I===null){for(;N<b.length;N++)I=f(_,b[N],C),I!==null&&(g=i(I,g,N),O===null?D=I:O.sibling=I,O=I);return Mt&&Do(_,N),D}for(I=r(_,I);N<b.length;N++)E=v(I,_,N,b[N],C),E!==null&&(t&&E.alternate!==null&&I.delete(E.key===null?N:E.key),g=i(E,g,N),O===null?D=E:O.sibling=E,O=E);return t&&I.forEach(function(j){return e(_,j)}),Mt&&Do(_,N),D}function x(_,g,b,C){var D=Ku(b);if(typeof D!="function")throw Error(re(150));if(b=D.call(b),b==null)throw Error(re(151));for(var O=D=null,I=g,N=g=0,E=null,S=b.next();I!==null&&!S.done;N++,S=b.next()){I.index>N?(E=I,I=null):E=I.sibling;var j=m(_,I,S.value,C);if(j===null){I===null&&(I=E);break}t&&I&&j.alternate===null&&e(_,I),g=i(j,g,N),O===null?D=j:O.sibling=j,O=j,I=E}if(S.done)return n(_,I),Mt&&Do(_,N),D;if(I===null){for(;!S.done;N++,S=b.next())S=f(_,S.value,C),S!==null&&(g=i(S,g,N),O===null?D=S:O.sibling=S,O=S);return Mt&&Do(_,N),D}for(I=r(_,I);!S.done;N++,S=b.next())S=v(I,_,N,S.value,C),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?N:S.key),g=i(S,g,N),O===null?D=S:O.sibling=S,O=S);return t&&I.forEach(function(R){return e(_,R)}),Mt&&Do(_,N),D}function k(_,g,b,C){if(typeof b=="object"&&b!==null&&b.type===tc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lf:e:{for(var D=b.key,O=g;O!==null;){if(O.key===D){if(D=b.type,D===tc){if(O.tag===7){n(_,O.sibling),g=s(O,b.props.children),g.return=_,_=g;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===xa&&AE(D)===O.type){n(_,O.sibling),g=s(O,b.props),g.ref=Zu(_,O,b),g.return=_,_=g;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===tc?(g=Xo(b.props.children,_.mode,C,b.key),g.return=_,_=g):(C=Cm(b.type,b.key,b.props,null,_.mode,C),C.ref=Zu(_,g,b),C.return=_,_=C)}return o(_);case ec:e:{for(O=b.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(_,g.sibling),g=s(g,b.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Ev(b,_.mode,C),g.return=_,_=g}return o(_);case xa:return O=b._init,k(_,g,O(b._payload),C)}if(cd(b))return w(_,g,b,C);if(Ku(b))return x(_,g,b,C);Gf(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(_,g.sibling),g=s(g,b),g.return=_,_=g):(n(_,g),g=kv(b,_.mode,C),g.return=_,_=g),o(_)):n(_,g)}return k}var Gc=RC(!0),PC=RC(!1),dp=wo(null),hp=null,cc=null,eb=null;function tb(){eb=cc=hp=null}function nb(t){var e=dp.current;Pt(dp),t._currentValue=e}function Lx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vc(t,e){hp=t,eb=cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mr=!0),t.firstContext=null)}function Xr(t){var e=t._currentValue;if(eb!==t)if(t={context:t,memoizedValue:e,next:null},cc===null){if(hp===null)throw Error(re(308));cc=t,hp.dependencies={lanes:0,firstContext:t}}else cc=cc.next=t;return e}var Vo=null;function rb(t){Vo===null?Vo=[t]:Vo.push(t)}function DC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rb(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wi(t,r)}function Wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wa=!1;function sb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wi(t,n)}return s=r.interleaved,s===null?(e.next=e,rb(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wi(t,n)}function km(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,B0(t,n)}}function RE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fp(t,e,n,r){var s=t.updateQueue;wa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(m=e,v=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(v,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(v,f,m):w,m==null)break e;f=Bt({},f,m);break e;case 2:wa=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=f):h=h.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);cl|=o,t.lanes=o,t.memoizedState=f}}function PE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var Qh={},Xs=wo(Qh),nh=wo(Qh),rh=wo(Qh);function Fo(t){if(t===Qh)throw Error(re(174));return t}function ib(t,e){switch(Tt(rh,e),Tt(nh,t),Tt(Xs,Qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yx(e,t)}Pt(Xs),Tt(Xs,e)}function Qc(){Pt(Xs),Pt(nh),Pt(rh)}function MC(t){Fo(rh.current);var e=Fo(Xs.current),n=yx(e,t.type);e!==n&&(Tt(nh,t),Tt(Xs,n))}function ab(t){nh.current===t&&(Pt(Xs),Pt(nh))}var Ft=wo(0);function mp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yv=[];function ob(){for(var t=0;t<yv.length;t++)yv[t]._workInProgressVersionPrimary=null;yv.length=0}var Em=aa.ReactCurrentDispatcher,vv=aa.ReactCurrentBatchConfig,ll=0,$t=null,un=null,yn=null,pp=!1,Cd=!1,sh=0,fF=0;function Dn(){throw Error(re(321))}function lb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ts(t[n],e[n]))return!1;return!0}function cb(t,e,n,r,s,i){if(ll=i,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Em.current=t===null||t.memoizedState===null?yF:vF,t=n(r,s),Cd){i=0;do{if(Cd=!1,sh=0,25<=i)throw Error(re(301));i+=1,yn=un=null,e.updateQueue=null,Em.current=xF,t=n(r,s)}while(Cd)}if(Em.current=gp,e=un!==null&&un.next!==null,ll=0,yn=un=$t=null,pp=!1,e)throw Error(re(300));return t}function ub(){var t=sh!==0;return sh=0,t}function Vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?$t.memoizedState=yn=t:yn=yn.next=t,yn}function Jr(){if(un===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=yn===null?$t.memoizedState:yn.next;if(e!==null)yn=e,un=t;else{if(t===null)throw Error(re(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},yn===null?$t.memoizedState=yn=t:yn=yn.next=t}return yn}function ih(t,e){return typeof e=="function"?e(t):e}function xv(t){var e=Jr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=un,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((ll&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,$t.lanes|=h,cl|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Ts(r,e.memoizedState)||(mr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$t.lanes|=i,cl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wv(t){var e=Jr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ts(i,e.memoizedState)||(mr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LC(){}function VC(t,e){var n=$t,r=Jr(),s=e(),i=!Ts(r.memoizedState,s);if(i&&(r.memoizedState=s,mr=!0),r=r.queue,db(zC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,ah(9,UC.bind(null,n,r,s,e),void 0,null),vn===null)throw Error(re(349));ll&30||FC(n,e,s)}return s}function FC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UC(t,e,n,r){e.value=n,e.getSnapshot=r,$C(e)&&BC(t)}function zC(t,e,n){return n(function(){$C(e)&&BC(t)})}function $C(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ts(t,n)}catch{return!0}}function BC(t){var e=Wi(t,1);e!==null&&ws(e,t,1,-1)}function DE(t){var e=Vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},e.queue=t,t=t.dispatch=gF.bind(null,$t,t),[e.memoizedState,t]}function ah(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HC(){return Jr().memoizedState}function Tm(t,e,n,r){var s=Vs();$t.flags|=t,s.memoizedState=ah(1|e,n,void 0,r===void 0?null:r)}function Ng(t,e,n,r){var s=Jr();r=r===void 0?null:r;var i=void 0;if(un!==null){var o=un.memoizedState;if(i=o.destroy,r!==null&&lb(r,o.deps)){s.memoizedState=ah(e,n,i,r);return}}$t.flags|=t,s.memoizedState=ah(1|e,n,i,r)}function OE(t,e){return Tm(8390656,8,t,e)}function db(t,e){return Ng(2048,8,t,e)}function qC(t,e){return Ng(4,2,t,e)}function KC(t,e){return Ng(4,4,t,e)}function WC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GC(t,e,n){return n=n!=null?n.concat([t]):null,Ng(4,4,WC.bind(null,e,t),n)}function hb(){}function QC(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YC(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZC(t,e,n){return ll&21?(Ts(n,e)||(n=nC(),$t.lanes|=n,cl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=n)}function mF(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=vv.transition;vv.transition={};try{t(!1),e()}finally{wt=n,vv.transition=r}}function XC(){return Jr().memoizedState}function pF(t,e,n){var r=Ga(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(t))ej(e,n);else if(n=DC(t,e,n,r),n!==null){var s=nr();ws(n,t,r,s),tj(n,e,r)}}function gF(t,e,n){var r=Ga(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(t))ej(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ts(l,o)){var c=e.interleaved;c===null?(s.next=s,rb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=DC(t,e,s,r),n!==null&&(s=nr(),ws(n,t,r,s),tj(n,e,r))}}function JC(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function ej(t,e){Cd=pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,B0(t,n)}}var gp={readContext:Xr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},yF={readContext:Xr,useCallback:function(t,e){return Vs().memoizedState=[t,e===void 0?null:e],t},useContext:Xr,useEffect:OE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tm(4194308,4,WC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tm(4,2,t,e)},useMemo:function(t,e){var n=Vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pF.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=Vs();return t={current:t},e.memoizedState=t},useState:DE,useDebugValue:hb,useDeferredValue:function(t){return Vs().memoizedState=t},useTransition:function(){var t=DE(!1),e=t[0];return t=mF.bind(null,t[1]),Vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,s=Vs();if(Mt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),vn===null)throw Error(re(349));ll&30||FC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,OE(zC.bind(null,r,i,t),[t]),r.flags|=2048,ah(9,UC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Vs(),e=vn.identifierPrefix;if(Mt){var n=Di,r=Pi;n=(r&~(1<<32-xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vF={readContext:Xr,useCallback:QC,useContext:Xr,useEffect:db,useImperativeHandle:GC,useInsertionEffect:qC,useLayoutEffect:KC,useMemo:YC,useReducer:xv,useRef:HC,useState:function(){return xv(ih)},useDebugValue:hb,useDeferredValue:function(t){var e=Jr();return ZC(e,un.memoizedState,t)},useTransition:function(){var t=xv(ih)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:VC,useId:XC,unstable_isNewReconciler:!1},xF={readContext:Xr,useCallback:QC,useContext:Xr,useEffect:db,useImperativeHandle:GC,useInsertionEffect:qC,useLayoutEffect:KC,useMemo:YC,useReducer:wv,useRef:HC,useState:function(){return wv(ih)},useDebugValue:hb,useDeferredValue:function(t){var e=Jr();return un===null?e.memoizedState=t:ZC(e,un.memoizedState,t)},useTransition:function(){var t=wv(ih)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:VC,useId:XC,unstable_isNewReconciler:!1};function as(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sg={isMounted:function(t){return(t=t._reactInternals)?Cl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nr(),s=Ga(t),i=Li(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ka(t,i,s),e!==null&&(ws(e,t,s,r),km(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nr(),s=Ga(t),i=Li(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ka(t,i,s),e!==null&&(ws(e,t,s,r),km(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nr(),r=Ga(t),s=Li(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ka(t,s,r),e!==null&&(ws(e,t,r,n),km(e,t,r))}};function ME(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xd(n,r)||!Xd(s,i):!0}function nj(t,e,n){var r=!1,s=no,i=e.contextType;return typeof i=="object"&&i!==null?i=Xr(i):(s=yr(e)?al:$n.current,r=e.contextTypes,i=(r=r!=null)?Kc(t,s):no),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function LE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sg.enqueueReplaceState(e,e.state,null)}function Fx(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},sb(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xr(i):(i=yr(e)?al:$n.current,s.context=Kc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vx(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sg.enqueueReplaceState(s,s.state,null),fp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yc(t,e){try{var n="",r=e;do n+=WV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ux(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wF=typeof WeakMap=="function"?WeakMap:Map;function rj(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vp||(vp=!0,Yx=r),Ux(t,e)},n}function sj(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ux(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ux(t,e),typeof r!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function VE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DF.bind(null,t,e,n),e.then(t,t))}function FE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function UE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,Ka(n,e,1))),n.lanes|=1),t)}var bF=aa.ReactCurrentOwner,mr=!1;function Jn(t,e,n,r){e.child=t===null?PC(e,null,n,r):Gc(e,t.child,n,r)}function zE(t,e,n,r,s){n=n.render;var i=e.ref;return vc(e,s),r=cb(t,e,n,r,i,s),n=ub(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gi(t,e,s)):(Mt&&n&&Z0(e),e.flags|=1,Jn(t,e,r,s),e.child)}function $E(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ij(t,e,i,r,s)):(t=Cm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(o,r)&&t.ref===e.ref)return Gi(t,e,s)}return e.flags|=1,t=Qa(i,r),t.ref=e.ref,t.return=e,e.child=t}function ij(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xd(i,r)&&t.ref===e.ref)if(mr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mr=!0);else return e.lanes=t.lanes,Gi(t,e,s)}return zx(t,e,n,r,s)}function aj(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(dc,Er),Er|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(dc,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Tt(dc,Er),Er|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Tt(dc,Er),Er|=r;return Jn(t,e,s,n),e.child}function oj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zx(t,e,n,r,s){var i=yr(n)?al:$n.current;return i=Kc(e,i),vc(e,s),n=cb(t,e,n,r,i,s),r=ub(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gi(t,e,s)):(Mt&&r&&Z0(e),e.flags|=1,Jn(t,e,n,s),e.child)}function BE(t,e,n,r,s){if(yr(n)){var i=!0;lp(e)}else i=!1;if(vc(e,s),e.stateNode===null)Nm(t,e),nj(e,n,r),Fx(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xr(u):(u=yr(n)?al:$n.current,u=Kc(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&LE(e,o,r,u),wa=!1;var m=e.memoizedState;o.state=m,fp(e,r,o,s),c=e.memoizedState,l!==r||m!==c||gr.current||wa?(typeof h=="function"&&(Vx(e,n,h,r),c=e.memoizedState),(l=wa||ME(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:as(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xr(c):(c=yr(n)?al:$n.current,c=Kc(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&LE(e,o,r,c),wa=!1,m=e.memoizedState,o.state=m,fp(e,r,o,s);var w=e.memoizedState;l!==f||m!==w||gr.current||wa?(typeof v=="function"&&(Vx(e,n,v,r),w=e.memoizedState),(u=wa||ME(e,n,u,r,m,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $x(t,e,n,r,i,s)}function $x(t,e,n,r,s,i){oj(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&IE(e,n,!1),Gi(t,e,i);r=e.stateNode,bF.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gc(e,t.child,null,i),e.child=Gc(e,null,l,i)):Jn(t,e,l,i),e.memoizedState=r.state,s&&IE(e,n,!0),e.child}function lj(t){var e=t.stateNode;e.pendingContext?SE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SE(t,e.context,!1),ib(t,e.containerInfo)}function HE(t,e,n,r,s){return Wc(),J0(s),e.flags|=256,Jn(t,e,n,r),e.child}var Bx={dehydrated:null,treeContext:null,retryLane:0};function Hx(t){return{baseLanes:t,cachePool:null,transitions:null}}function cj(t,e,n){var r=e.pendingProps,s=Ft.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Tt(Ft,s&1),t===null)return Mx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jg(o,r,0,null),t=Xo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hx(n),e.memoizedState=Bx,t):fb(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _F(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Qa(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qa(l,i):(i=Xo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Hx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bx,r}return i=t.child,t=i.sibling,r=Qa(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fb(t,e){return e=jg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,n,r){return r!==null&&J0(r),Gc(e,t.child,null,n),t=fb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _F(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bv(Error(re(422))),Qf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=jg({mode:"visible",children:r.children},s,0,null),i=Xo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Gc(e,t.child,null,o),e.child.memoizedState=Hx(o),e.memoizedState=Bx,i);if(!(e.mode&1))return Qf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(re(419)),r=bv(i,r,void 0),Qf(t,e,o,r)}if(l=(o&t.childLanes)!==0,mr||l){if(r=vn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wi(t,s),ws(r,t,s,-1))}return xb(),r=bv(Error(re(421))),Qf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=OF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sr=qa(s.nextSibling),Ar=e,Mt=!0,cs=null,t!==null&&(zr[$r++]=Pi,zr[$r++]=Di,zr[$r++]=ol,Pi=t.id,Di=t.overflow,ol=e),e=fb(e,r.children),e.flags|=4096,e)}function qE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lx(t.return,e,n)}function _v(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uj(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jn(t,e,r.children,n),r=Ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qE(t,n,e);else if(t.tag===19)qE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_v(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_v(e,!0,n,null,i);break;case"together":_v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kF(t,e,n){switch(e.tag){case 3:lj(e),Wc();break;case 5:MC(e);break;case 1:yr(e.type)&&lp(e);break;case 4:ib(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Tt(dp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Ft,Ft.current&1),e.flags|=128,null):n&e.child.childLanes?cj(t,e,n):(Tt(Ft,Ft.current&1),t=Gi(t,e,n),t!==null?t.sibling:null);Tt(Ft,Ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Tt(Ft,Ft.current),r)break;return null;case 22:case 23:return e.lanes=0,aj(t,e,n)}return Gi(t,e,n)}var dj,qx,hj,fj;dj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qx=function(){};hj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fo(Xs.current);var i=null;switch(n){case"input":s=fx(t,s),r=fx(t,r),i=[];break;case"select":s=Bt({},s,{value:void 0}),r=Bt({},r,{value:void 0}),i=[];break;case"textarea":s=gx(t,s),r=gx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ap)}vx(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ct("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};fj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xu(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EF(t,e,n){var r=e.pendingProps;switch(X0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return yr(e.type)&&op(),On(e),null;case 3:return r=e.stateNode,Qc(),Pt(gr),Pt($n),ob(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(Jx(cs),cs=null))),qx(t,e),On(e),null;case 5:ab(e);var s=Fo(rh.current);if(n=e.type,t!==null&&e.stateNode!=null)hj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return On(e),null}if(t=Fo(Xs.current),Wf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qs]=e,r[th]=i,t=(e.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<dd.length;s++)Ct(dd[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":eE(r,i),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",r);break;case"textarea":nE(r,i),Ct("invalid",r)}vx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Kf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Kf(r.textContent,l,t),s=["children",""+l]):qd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Vf(r),tE(r,i,!0);break;case"textarea":Vf(r),rE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ap)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qs]=e,t[th]=r,dj(t,e,!1,!1),e.stateNode=t;e:{switch(o=xx(n,r),n){case"dialog":Ct("cancel",t),Ct("close",t),s=r;break;case"iframe":case"object":case"embed":Ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<dd.length;s++)Ct(dd[s],t);s=r;break;case"source":Ct("error",t),s=r;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),s=r;break;case"details":Ct("toggle",t),s=r;break;case"input":eE(t,r),s=fx(t,r),Ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Bt({},r,{value:void 0}),Ct("invalid",t);break;case"textarea":nE(t,r),s=gx(t,r),Ct("invalid",t);break;default:s=r}vx(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?HI(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$I(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kd(t,c):typeof c=="number"&&Kd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ct("scroll",t):c!=null&&L0(t,i,c,o))}switch(n){case"input":Vf(t),tE(t,r,!1);break;case"textarea":Vf(t),rE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+to(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?mc(t,!!r.multiple,i,!1):r.defaultValue!=null&&mc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ap)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)fj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Fo(rh.current),Fo(Xs.current),Wf(e)){if(r=e.stateNode,n=e.memoizedProps,r[qs]=e,(i=r.nodeValue!==n)&&(t=Ar,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qs]=e,e.stateNode=r}return On(e),null;case 13:if(Pt(Ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&Sr!==null&&e.mode&1&&!(e.flags&128))AC(),Wc(),e.flags|=98560,i=!1;else if(i=Wf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[qs]=e}else Wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),i=!1}else cs!==null&&(Jx(cs),cs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?hn===0&&(hn=3):xb())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return Qc(),qx(t,e),t===null&&Jd(e.stateNode.containerInfo),On(e),null;case 10:return nb(e.type._context),On(e),null;case 17:return yr(e.type)&&op(),On(e),null;case 19:if(Pt(Ft),i=e.memoizedState,i===null)return On(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xu(i,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mp(t),o!==null){for(e.flags|=128,Xu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Ft,Ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&en()>Zc&&(e.flags|=128,r=!0,Xu(i,!1),e.lanes=4194304)}else{if(!r)if(t=mp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Mt)return On(e),null}else 2*en()-i.renderingStartTime>Zc&&n!==1073741824&&(e.flags|=128,r=!0,Xu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=en(),e.sibling=null,n=Ft.current,Tt(Ft,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return vb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function TF(t,e){switch(X0(e),e.tag){case 1:return yr(e.type)&&op(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qc(),Pt(gr),Pt($n),ob(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ab(e),null;case 13:if(Pt(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Ft),null;case 4:return Qc(),null;case 10:return nb(e.type._context),null;case 22:case 23:return vb(),null;case 24:return null;default:return null}}var Yf=!1,Fn=!1,NF=typeof WeakSet=="function"?WeakSet:Set,we=null;function uc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(t,e,r)}else n.current=null}function Kx(t,e,n){try{n()}catch(r){Wt(t,e,r)}}var KE=!1;function SF(t,e){if(Cx=rp,t=vC(),Y0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jx={focusedElem:t,selectionRange:n},rp=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,k=w.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:as(e.type,x),k);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(C){Wt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return w=KE,KE=!1,w}function jd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kx(e,n,i)}s=s.next}while(s!==r)}}function Ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mj(t){var e=t.alternate;e!==null&&(t.alternate=null,mj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qs],delete e[th],delete e[Px],delete e[cF],delete e[uF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pj(t){return t.tag===5||t.tag===3||t.tag===4}function WE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ap));else if(r!==4&&(t=t.child,t!==null))for(Gx(t,e,n),t=t.sibling;t!==null;)Gx(t,e,n),t=t.sibling}function Qx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qx(t,e,n),t=t.sibling;t!==null;)Qx(t,e,n),t=t.sibling}var kn=null,ls=!1;function fa(t,e,n){for(n=n.child;n!==null;)gj(t,e,n),n=n.sibling}function gj(t,e,n){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(wg,n)}catch{}switch(n.tag){case 5:Fn||uc(n,e);case 6:var r=kn,s=ls;kn=null,fa(t,e,n),kn=r,ls=s,kn!==null&&(ls?(t=kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(ls?(t=kn,n=n.stateNode,t.nodeType===8?pv(t.parentNode,n):t.nodeType===1&&pv(t,n),Yd(t)):pv(kn,n.stateNode));break;case 4:r=kn,s=ls,kn=n.stateNode.containerInfo,ls=!0,fa(t,e,n),kn=r,ls=s;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kx(n,e,o),s=s.next}while(s!==r)}fa(t,e,n);break;case 1:if(!Fn&&(uc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Wt(n,e,l)}fa(t,e,n);break;case 21:fa(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,fa(t,e,n),Fn=r):fa(t,e,n);break;default:fa(t,e,n)}}function GE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NF),e.forEach(function(r){var s=MF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:kn=l.stateNode,ls=!1;break e;case 3:kn=l.stateNode.containerInfo,ls=!0;break e;case 4:kn=l.stateNode.containerInfo,ls=!0;break e}l=l.return}if(kn===null)throw Error(re(160));gj(i,o,s),kn=null,ls=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Wt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yj(e,t),e=e.sibling}function yj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ss(e,t),Ls(t),r&4){try{jd(3,t,t.return),Ig(3,t)}catch(x){Wt(t,t.return,x)}try{jd(5,t,t.return)}catch(x){Wt(t,t.return,x)}}break;case 1:ss(e,t),Ls(t),r&512&&n!==null&&uc(n,n.return);break;case 5:if(ss(e,t),Ls(t),r&512&&n!==null&&uc(n,n.return),t.flags&32){var s=t.stateNode;try{Kd(s,"")}catch(x){Wt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&FI(s,i),xx(l,o);var u=xx(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?HI(s,f):h==="dangerouslySetInnerHTML"?$I(s,f):h==="children"?Kd(s,f):L0(s,h,f,u)}switch(l){case"input":mx(s,i);break;case"textarea":UI(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?mc(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?mc(s,!!i.multiple,i.defaultValue,!0):mc(s,!!i.multiple,i.multiple?[]:"",!1))}s[th]=i}catch(x){Wt(t,t.return,x)}}break;case 6:if(ss(e,t),Ls(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Wt(t,t.return,x)}}break;case 3:if(ss(e,t),Ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yd(e.containerInfo)}catch(x){Wt(t,t.return,x)}break;case 4:ss(e,t),Ls(t);break;case 13:ss(e,t),Ls(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gb=en())),r&4&&GE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(u=Fn)||h,ss(e,t),Fn=u):ss(e,t),Ls(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(we=t,h=t.child;h!==null;){for(f=we=h;we!==null;){switch(m=we,v=m.child,m.tag){case 0:case 11:case 14:case 15:jd(4,m,m.return);break;case 1:uc(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){Wt(r,n,x)}}break;case 5:uc(m,m.return);break;case 22:if(m.memoizedState!==null){YE(f);continue}}v!==null?(v.return=m,we=v):YE(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=BI("display",o))}catch(x){Wt(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Wt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ss(e,t),Ls(t),r&4&&GE(t);break;case 21:break;default:ss(e,t),Ls(t)}}function Ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pj(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Kd(s,""),r.flags&=-33);var i=WE(t);Qx(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=WE(t);Gx(t,l,o);break;default:throw Error(re(161))}}catch(c){Wt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IF(t,e,n){we=t,vj(t)}function vj(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var s=we,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Yf;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Fn;l=Yf;var u=Fn;if(Yf=o,(Fn=c)&&!u)for(we=s;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?ZE(s):c!==null?(c.return=o,we=c):ZE(s);for(;i!==null;)we=i,vj(i),i=i.sibling;we=s,Yf=l,Fn=u}QE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,we=i):QE(t)}}function QE(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||Ig(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:as(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&PE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Yd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Fn||e.flags&512&&Wx(e)}catch(m){Wt(e,e.return,m)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function YE(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function ZE(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ig(4,e)}catch(c){Wt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Wt(e,s,c)}}var i=e.return;try{Wx(e)}catch(c){Wt(e,i,c)}break;case 5:var o=e.return;try{Wx(e)}catch(c){Wt(e,o,c)}}}catch(c){Wt(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var CF=Math.ceil,yp=aa.ReactCurrentDispatcher,mb=aa.ReactCurrentOwner,Wr=aa.ReactCurrentBatchConfig,ct=0,vn=null,sn=null,Sn=0,Er=0,dc=wo(0),hn=0,oh=null,cl=0,Cg=0,pb=0,Ad=null,dr=null,gb=0,Zc=1/0,Ti=null,vp=!1,Yx=null,Wa=null,Zf=!1,Ua=null,xp=0,Rd=0,Zx=null,Sm=-1,Im=0;function nr(){return ct&6?en():Sm!==-1?Sm:Sm=en()}function Ga(t){return t.mode&1?ct&2&&Sn!==0?Sn&-Sn:hF.transition!==null?(Im===0&&(Im=nC()),Im):(t=wt,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function ws(t,e,n,r){if(50<Rd)throw Rd=0,Zx=null,Error(re(185));Kh(t,n,r),(!(ct&2)||t!==vn)&&(t===vn&&(!(ct&2)&&(Cg|=n),hn===4&&Ea(t,Sn)),vr(t,r),n===1&&ct===0&&!(e.mode&1)&&(Zc=en()+500,Tg&&bo()))}function vr(t,e){var n=t.callbackNode;h3(t,e);var r=np(t,t===vn?Sn:0);if(r===0)n!==null&&aE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aE(n),e===1)t.tag===0?dF(XE.bind(null,t)):IC(XE.bind(null,t)),oF(function(){!(ct&6)&&bo()}),n=null;else{switch(rC(r)){case 1:n=$0;break;case 4:n=eC;break;case 16:n=tp;break;case 536870912:n=tC;break;default:n=tp}n=Nj(n,xj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xj(t,e){if(Sm=-1,Im=0,ct&6)throw Error(re(327));var n=t.callbackNode;if(xc()&&t.callbackNode!==n)return null;var r=np(t,t===vn?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wp(t,r);else{e=r;var s=ct;ct|=2;var i=bj();(vn!==t||Sn!==e)&&(Ti=null,Zc=en()+500,Zo(t,e));do try{RF();break}catch(l){wj(t,l)}while(!0);tb(),yp.current=i,ct=s,sn!==null?e=0:(vn=null,Sn=0,e=hn)}if(e!==0){if(e===2&&(s=Ex(t),s!==0&&(r=s,e=Xx(t,s))),e===1)throw n=oh,Zo(t,0),Ea(t,r),vr(t,en()),n;if(e===6)Ea(t,r);else{if(s=t.current.alternate,!(r&30)&&!jF(s)&&(e=wp(t,r),e===2&&(i=Ex(t),i!==0&&(r=i,e=Xx(t,i))),e===1))throw n=oh,Zo(t,0),Ea(t,r),vr(t,en()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Oo(t,dr,Ti);break;case 3:if(Ea(t,r),(r&130023424)===r&&(e=gb+500-en(),10<e)){if(np(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rx(Oo.bind(null,t,dr,Ti),e);break}Oo(t,dr,Ti);break;case 4:if(Ea(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CF(r/1960))-r,10<r){t.timeoutHandle=Rx(Oo.bind(null,t,dr,Ti),r);break}Oo(t,dr,Ti);break;case 5:Oo(t,dr,Ti);break;default:throw Error(re(329))}}}return vr(t,en()),t.callbackNode===n?xj.bind(null,t):null}function Xx(t,e){var n=Ad;return t.current.memoizedState.isDehydrated&&(Zo(t,e).flags|=256),t=wp(t,e),t!==2&&(e=dr,dr=n,e!==null&&Jx(e)),t}function Jx(t){dr===null?dr=t:dr.push.apply(dr,t)}function jF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ts(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ea(t,e){for(e&=~pb,e&=~Cg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xs(e),r=1<<n;t[n]=-1,e&=~r}}function XE(t){if(ct&6)throw Error(re(327));xc();var e=np(t,0);if(!(e&1))return vr(t,en()),null;var n=wp(t,e);if(t.tag!==0&&n===2){var r=Ex(t);r!==0&&(e=r,n=Xx(t,r))}if(n===1)throw n=oh,Zo(t,0),Ea(t,e),vr(t,en()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oo(t,dr,Ti),vr(t,en()),null}function yb(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(Zc=en()+500,Tg&&bo())}}function ul(t){Ua!==null&&Ua.tag===0&&!(ct&6)&&xc();var e=ct;ct|=1;var n=Wr.transition,r=wt;try{if(Wr.transition=null,wt=1,t)return t()}finally{wt=r,Wr.transition=n,ct=e,!(ct&6)&&bo()}}function vb(){Er=dc.current,Pt(dc)}function Zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aF(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(X0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&op();break;case 3:Qc(),Pt(gr),Pt($n),ob();break;case 5:ab(r);break;case 4:Qc();break;case 13:Pt(Ft);break;case 19:Pt(Ft);break;case 10:nb(r.type._context);break;case 22:case 23:vb()}n=n.return}if(vn=t,sn=t=Qa(t.current,null),Sn=Er=e,hn=0,oh=null,pb=Cg=cl=0,dr=Ad=null,Vo!==null){for(e=0;e<Vo.length;e++)if(n=Vo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vo=null}return t}function wj(t,e){do{var n=sn;try{if(tb(),Em.current=gp,pp){for(var r=$t.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pp=!1}if(ll=0,yn=un=$t=null,Cd=!1,sh=0,mb.current=null,n===null||n.return===null){hn=1,oh=e,sn=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=FE(o);if(v!==null){v.flags&=-257,UE(v,o,l,i,e),v.mode&1&&VE(i,u,e),e=v,c=u;var w=e.updateQueue;if(w===null){var x=new Set;x.add(c),e.updateQueue=x}else w.add(c);break e}else{if(!(e&1)){VE(i,u,e),xb();break e}c=Error(re(426))}}else if(Mt&&l.mode&1){var k=FE(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),UE(k,o,l,i,e),J0(Yc(c,l));break e}}i=c=Yc(c,l),hn!==4&&(hn=2),Ad===null?Ad=[i]:Ad.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=rj(i,c,e);RE(i,_);break e;case 1:l=c;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wa===null||!Wa.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=sj(i,l,e);RE(i,C);break e}}i=i.return}while(i!==null)}kj(n)}catch(D){e=D,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function bj(){var t=yp.current;return yp.current=gp,t===null?gp:t}function xb(){(hn===0||hn===3||hn===2)&&(hn=4),vn===null||!(cl&268435455)&&!(Cg&268435455)||Ea(vn,Sn)}function wp(t,e){var n=ct;ct|=2;var r=bj();(vn!==t||Sn!==e)&&(Ti=null,Zo(t,e));do try{AF();break}catch(s){wj(t,s)}while(!0);if(tb(),ct=n,yp.current=r,sn!==null)throw Error(re(261));return vn=null,Sn=0,hn}function AF(){for(;sn!==null;)_j(sn)}function RF(){for(;sn!==null&&!r3();)_j(sn)}function _j(t){var e=Tj(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?kj(t):sn=e,mb.current=null}function kj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TF(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,sn=null;return}}else if(n=EF(n,e,Er),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);hn===0&&(hn=5)}function Oo(t,e,n){var r=wt,s=Wr.transition;try{Wr.transition=null,wt=1,PF(t,e,n,r)}finally{Wr.transition=s,wt=r}return null}function PF(t,e,n,r){do xc();while(Ua!==null);if(ct&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(f3(t,i),t===vn&&(sn=vn=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zf||(Zf=!0,Nj(tp,function(){return xc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var o=wt;wt=1;var l=ct;ct|=4,mb.current=null,SF(t,n),yj(n,t),J3(jx),rp=!!Cx,jx=Cx=null,t.current=n,IF(n),s3(),ct=l,wt=o,Wr.transition=i}else t.current=n;if(Zf&&(Zf=!1,Ua=t,xp=s),i=t.pendingLanes,i===0&&(Wa=null),o3(n.stateNode),vr(t,en()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vp)throw vp=!1,t=Yx,Yx=null,t;return xp&1&&t.tag!==0&&xc(),i=t.pendingLanes,i&1?t===Zx?Rd++:(Rd=0,Zx=t):Rd=0,bo(),null}function xc(){if(Ua!==null){var t=rC(xp),e=Wr.transition,n=wt;try{if(Wr.transition=null,wt=16>t?16:t,Ua===null)var r=!1;else{if(t=Ua,Ua=null,xp=0,ct&6)throw Error(re(331));var s=ct;for(ct|=4,we=t.current;we!==null;){var i=we,o=i.child;if(we.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var h=we;switch(h.tag){case 0:case 11:case 15:jd(8,h,i)}var f=h.child;if(f!==null)f.return=h,we=f;else for(;we!==null;){h=we;var m=h.sibling,v=h.return;if(mj(h),h===u){we=null;break}if(m!==null){m.return=v,we=m;break}we=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}we=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,we=o;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,we=_;break e}we=i.return}}var g=t.current;for(we=g;we!==null;){o=we;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,we=b;else e:for(o=g;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ig(9,l)}}catch(D){Wt(l,l.return,D)}if(l===o){we=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,we=C;break e}we=l.return}}if(ct=s,bo(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(wg,t)}catch{}r=!0}return r}finally{wt=n,Wr.transition=e}}return!1}function JE(t,e,n){e=Yc(n,e),e=rj(t,e,1),t=Ka(t,e,1),e=nr(),t!==null&&(Kh(t,1,e),vr(t,e))}function Wt(t,e,n){if(t.tag===3)JE(t,t,n);else for(;e!==null;){if(e.tag===3){JE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wa===null||!Wa.has(r))){t=Yc(n,t),t=sj(e,t,1),e=Ka(e,t,1),t=nr(),e!==null&&(Kh(e,1,t),vr(e,t));break}}e=e.return}}function DF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&n,vn===t&&(Sn&n)===n&&(hn===4||hn===3&&(Sn&130023424)===Sn&&500>en()-gb?Zo(t,0):pb|=n),vr(t,e)}function Ej(t,e){e===0&&(t.mode&1?(e=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):e=1);var n=nr();t=Wi(t,e),t!==null&&(Kh(t,e,n),vr(t,n))}function OF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ej(t,n)}function MF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),Ej(t,n)}var Tj;Tj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gr.current)mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mr=!1,kF(t,e,n);mr=!!(t.flags&131072)}else mr=!1,Mt&&e.flags&1048576&&CC(e,up,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nm(t,e),t=e.pendingProps;var s=Kc(e,$n.current);vc(e,n),s=cb(null,e,r,t,s,n);var i=ub();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(r)?(i=!0,lp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sb(e),s.updater=Sg,e.stateNode=s,s._reactInternals=e,Fx(e,r,t,n),e=$x(null,e,r,!0,i,n)):(e.tag=0,Mt&&i&&Z0(e),Jn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VF(r),t=as(r,t),s){case 0:e=zx(null,e,r,t,n);break e;case 1:e=BE(null,e,r,t,n);break e;case 11:e=zE(null,e,r,t,n);break e;case 14:e=$E(null,e,r,as(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),zx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),BE(t,e,r,s,n);case 3:e:{if(lj(e),t===null)throw Error(re(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OC(t,e),fp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yc(Error(re(423)),e),e=HE(t,e,r,n,s);break e}else if(r!==s){s=Yc(Error(re(424)),e),e=HE(t,e,r,n,s);break e}else for(Sr=qa(e.stateNode.containerInfo.firstChild),Ar=e,Mt=!0,cs=null,n=PC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wc(),r===s){e=Gi(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return MC(e),t===null&&Mx(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ax(r,s)?o=null:i!==null&&Ax(r,i)&&(e.flags|=32),oj(t,e),Jn(t,e,o,n),e.child;case 6:return t===null&&Mx(e),null;case 13:return cj(t,e,n);case 4:return ib(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gc(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),zE(t,e,r,s,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Tt(dp,r._currentValue),r._currentValue=o,i!==null)if(Ts(i.value,o)){if(i.children===s.children&&!gr.current){e=Gi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Li(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Lx(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lx(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vc(e,n),s=Xr(s),r=r(s),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,s=as(r,e.pendingProps),s=as(r.type,s),$E(t,e,r,s,n);case 15:return ij(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),Nm(t,e),e.tag=1,yr(r)?(t=!0,lp(e)):t=!1,vc(e,n),nj(e,r,s),Fx(e,r,s,n),$x(null,e,r,!0,t,n);case 19:return uj(t,e,n);case 22:return aj(t,e,n)}throw Error(re(156,e.tag))};function Nj(t,e){return JI(t,e)}function LF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new LF(t,e,n,r)}function wb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VF(t){if(typeof t=="function")return wb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F0)return 11;if(t===U0)return 14}return 2}function Qa(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")wb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tc:return Xo(n.children,s,i,e);case V0:o=8,s|=8;break;case cx:return t=Kr(12,n,e,s|2),t.elementType=cx,t.lanes=i,t;case ux:return t=Kr(13,n,e,s),t.elementType=ux,t.lanes=i,t;case dx:return t=Kr(19,n,e,s),t.elementType=dx,t.lanes=i,t;case MI:return jg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DI:o=10;break e;case OI:o=9;break e;case F0:o=11;break e;case U0:o=14;break e;case xa:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Kr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xo(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function jg(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=MI,t.lanes=n,t.stateNode={isHidden:!1},t}function kv(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function Ev(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sv(0),this.expirationTimes=sv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bb(t,e,n,r,s,i,o,l,c){return t=new FF(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sb(i),t}function UF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sj(t){if(!t)return no;t=t._reactInternals;e:{if(Cl(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(yr(n))return SC(t,n,e)}return e}function Ij(t,e,n,r,s,i,o,l,c){return t=bb(n,r,!0,t,s,i,o,l,c),t.context=Sj(null),n=t.current,r=nr(),s=Ga(n),i=Li(r,s),i.callback=e??null,Ka(n,i,s),t.current.lanes=s,Kh(t,s,r),vr(t,r),t}function Ag(t,e,n,r){var s=e.current,i=nr(),o=Ga(s);return n=Sj(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ka(s,e,o),t!==null&&(ws(t,s,o,i),km(t,s,o)),o}function bp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _b(t,e){eT(t,e),(t=t.alternate)&&eT(t,e)}function zF(){return null}var Cj=typeof reportError=="function"?reportError:function(t){console.error(t)};function kb(t){this._internalRoot=t}Rg.prototype.render=kb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Ag(t,e,null,null)};Rg.prototype.unmount=kb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ul(function(){Ag(null,t,null,null)}),e[Ki]=null}};function Rg(t){this._internalRoot=t}Rg.prototype.unstable_scheduleHydration=function(t){if(t){var e=aC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ka.length&&e!==0&&e<ka[n].priority;n++);ka.splice(n,0,t),n===0&&lC(t)}};function Eb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tT(){}function $F(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=bp(o);i.call(u)}}var o=Ij(e,r,t,0,null,!1,!1,"",tT);return t._reactRootContainer=o,t[Ki]=o.current,Jd(t.nodeType===8?t.parentNode:t),ul(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=bp(c);l.call(u)}}var c=bb(t,0,!1,null,null,!1,!1,"",tT);return t._reactRootContainer=c,t[Ki]=c.current,Jd(t.nodeType===8?t.parentNode:t),ul(function(){Ag(e,c,n,r)}),c}function Dg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=bp(o);l.call(c)}}Ag(e,o,t,s)}else o=$F(n,e,t,s,r);return bp(o)}sC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ud(e.pendingLanes);n!==0&&(B0(e,n|1),vr(e,en()),!(ct&6)&&(Zc=en()+500,bo()))}break;case 13:ul(function(){var r=Wi(t,1);if(r!==null){var s=nr();ws(r,t,1,s)}}),_b(t,1)}};H0=function(t){if(t.tag===13){var e=Wi(t,134217728);if(e!==null){var n=nr();ws(e,t,134217728,n)}_b(t,134217728)}};iC=function(t){if(t.tag===13){var e=Ga(t),n=Wi(t,e);if(n!==null){var r=nr();ws(n,t,e,r)}_b(t,e)}};aC=function(){return wt};oC=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};bx=function(t,e,n){switch(e){case"input":if(mx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Eg(r);if(!s)throw Error(re(90));VI(r),mx(r,s)}}}break;case"textarea":UI(t,n);break;case"select":e=n.value,e!=null&&mc(t,!!n.multiple,e,!1)}};WI=yb;GI=ul;var BF={usingClientEntryPoint:!1,Events:[Gh,ic,Eg,qI,KI,yb]},Ju={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HF={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||zF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{wg=Xf.inject(HF),Zs=Xf}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BF;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eb(e))throw Error(re(200));return UF(t,e,null,n)};Or.createRoot=function(t,e){if(!Eb(t))throw Error(re(299));var n=!1,r="",s=Cj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bb(t,1,!1,null,null,n,!1,r,s),t[Ki]=e.current,Jd(t.nodeType===8?t.parentNode:t),new kb(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=ZI(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return ul(t)};Or.hydrate=function(t,e,n){if(!Pg(e))throw Error(re(200));return Dg(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!Eb(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Cj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ij(e,null,t,1,n??null,s,!1,i,o),t[Ki]=e.current,Jd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rg(e)};Or.render=function(t,e,n){if(!Pg(e))throw Error(re(200));return Dg(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!Pg(t))throw Error(re(40));return t._reactRootContainer?(ul(function(){Dg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ki]=null})}),!0):!1};Or.unstable_batchedUpdates=yb;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pg(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Dg(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jj)}catch(t){console.error(t)}}jj(),jI.exports=Or;var jl=jI.exports;const qF=Hh(jl);var Aj,nT=jl;Aj=nT.createRoot,nT.hydrateRoot;function KF(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Rj={exports:{}},Pj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=p;function WF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var GF=typeof Object.is=="function"?Object.is:WF,QF=Xc.useState,YF=Xc.useEffect,ZF=Xc.useLayoutEffect,XF=Xc.useDebugValue;function JF(t,e){var n=e(),r=QF({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return ZF(function(){s.value=n,s.getSnapshot=e,Tv(s)&&i({inst:s})},[t,n,e]),YF(function(){return Tv(s)&&i({inst:s}),t(function(){Tv(s)&&i({inst:s})})},[t]),XF(n),n}function Tv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!GF(t,n)}catch{return!0}}function e6(t,e){return e()}var t6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e6:JF;Pj.useSyncExternalStore=Xc.useSyncExternalStore!==void 0?Xc.useSyncExternalStore:t6;Rj.exports=Pj;var n6=Rj.exports;const r6=xg.useInsertionEffect,s6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dj=s6?p.useLayoutEffect:p.useEffect,i6=r6||Dj,Tb=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return i6(()=>{e[0]=t}),e[1]},a6="popstate",Nb="pushState",Sb="replaceState",o6="hashchange",rT=[a6,Nb,Sb,o6],l6=t=>{for(const e of rT)addEventListener(e,t);return()=>{for(const e of rT)removeEventListener(e,t)}},Oj=(t,e)=>n6.useSyncExternalStore(l6,t,e),c6=()=>location.search,u6=({ssrSearch:t=""}={})=>Oj(c6,()=>t),sT=()=>location.pathname,d6=({ssrPath:t}={})=>Oj(sT,t?()=>t:sT),h6=(t,{replace:e=!1,state:n=null}={})=>history[e?Sb:Nb](n,"",t),f6=(t={})=>[d6(t),h6],iT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[iT]>"u"){for(const t of[Nb,Sb]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,iT,{value:!0})}const m6=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Mj=(t="")=>t==="/"?"":t,p6=(t,e)=>t[0]==="~"?t.slice(1):Mj(e)+t,g6=(t="",e)=>m6(aT(Mj(t)),aT(e)),aT=t=>{try{return decodeURI(t)}catch{return t}},Lj={hook:f6,searchHook:u6,parser:KF,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Vj=p.createContext(Lj),Yh=()=>p.useContext(Vj),Fj={},Uj=p.createContext(Fj),Zh=()=>p.useContext(Uj),Og=t=>{const[e,n]=t.hook(t);return[g6(t.base,e),Tb((r,s)=>n(p6(r,t.base),s))]},Rs=()=>Og(Yh()),zj=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,m)=>[f,c[m]])):o.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[l]:[]]:[!1,null]},y6=({children:t,...e})=>{var h,f;const n=Yh(),r=e.hook?Lj:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=p.useRef({}),c=l.current,u=c;for(let m in r){const v=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===u&&v!==u[m]&&(l.current=u={...u}),u[m]=v,v!==r[m]&&(s=u)}return p.createElement(Vj.Provider,{value:s,children:t})},oT=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,v6=t=>{let e=p.useRef(Fj),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},_r=({path:t,nest:e,match:n,...r})=>{const s=Yh(),[i]=Og(s),[o,l,c]=n??zj(s.parser,t,i,e),u=v6({...Zh(),...l});if(!o)return null;const h=c?p.createElement(y6,{base:c},oT(r,u)):oT(r,u);return p.createElement(Uj.Provider,{value:u,children:h})},tt=p.forwardRef((t,e)=>{const n=Yh(),[r,s]=Og(n),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:h,replace:f,state:m,...v}=t,w=Tb(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(l==null||l(k),k.defaultPrevented||(k.preventDefault(),s(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(u)?p.cloneElement(u,{onClick:w,href:x}):p.createElement("a",{...v,onClick:w,href:x,className:h!=null&&h.call?h(r===o):h,children:u,ref:e})}),$j=t=>Array.isArray(t)?t.flatMap(e=>$j(e&&e.type===p.Fragment?e.props.children:e)):[t],x6=({children:t,location:e})=>{const n=Yh(),[r]=Og(n);for(const s of $j(t)){let i=0;if(p.isValidElement(s)&&(i=zj(n.parser,s.props.path,e||r,s.props.nest))[0])return p.cloneElement(s,{match:i})}return null},Ib=t=>{const{to:e,href:n=e}=t,[,r]=Rs(),s=Tb(()=>r(e||n,t));return Dj(()=>{s()},[]),null};var yu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dl=typeof window>"u"||"Deno"in globalThis;function Ur(){}function w6(t,e){return typeof t=="function"?t(e):t}function ew(t){return typeof t=="number"&&t>=0&&t!==1/0}function Bj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wc(t,e){return typeof t=="function"?t(e):t}function us(t,e){return typeof t=="function"?t(e):t}function lT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Cb(o,e.options))return!1}else if(!lh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function cT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hl(e.options.mutationKey)!==hl(i))return!1}else if(!lh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Cb(t,e){return((e==null?void 0:e.queryKeyHashFn)||hl)(t)}function hl(t){return JSON.stringify(t,(e,n)=>tw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function lh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!lh(t[n],e[n])):!1}function Hj(t,e){if(t===e)return t;const n=uT(t)&&uT(e);if(n||tw(t)&&tw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=Hj(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function _p(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function uT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tw(t){if(!dT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!dT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dT(t){return Object.prototype.toString.call(t)==="[object Object]"}function b6(t){return new Promise(e=>{setTimeout(e,t)})}function nw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Hj(t,e):e}function _6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function k6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var jb=Symbol();function qj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===jb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bo,ja,Rc,cI,E6=(cI=class extends yu{constructor(){super();Ne(this,Bo);Ne(this,ja);Ne(this,Rc);ge(this,Rc,e=>{if(!dl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,ja)||this.setEventListener(L(this,Rc))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,ja))==null||e.call(this),ge(this,ja,void 0))}setEventListener(e){var n;ge(this,Rc,e),(n=L(this,ja))==null||n.call(this),ge(this,ja,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,Bo)!==e&&(ge(this,Bo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,Bo)=="boolean"?L(this,Bo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bo=new WeakMap,ja=new WeakMap,Rc=new WeakMap,cI),Ab=new E6,Pc,Aa,Dc,uI,T6=(uI=class extends yu{constructor(){super();Ne(this,Pc,!0);Ne(this,Aa);Ne(this,Dc);ge(this,Dc,e=>{if(!dl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,Aa)||this.setEventListener(L(this,Dc))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Aa))==null||e.call(this),ge(this,Aa,void 0))}setEventListener(e){var n;ge(this,Dc,e),(n=L(this,Aa))==null||n.call(this),ge(this,Aa,e(this.setOnline.bind(this)))}setOnline(e){L(this,Pc)!==e&&(ge(this,Pc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,Pc)}},Pc=new WeakMap,Aa=new WeakMap,Dc=new WeakMap,uI),kp=new T6;function rw(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function N6(t){return Math.min(1e3*2**t,3e4)}function Kj(t){return(t??"online")==="online"?kp.isOnline():!0}var Wj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nv(t){return t instanceof Wj}function Gj(t){let e=!1,n=0,r=!1,s;const i=rw(),o=x=>{var k;r||(m(new Wj(x)),(k=t.abort)==null||k.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Ab.isFocused()&&(t.networkMode==="always"||kp.isOnline())&&t.canRun(),h=()=>Kj(t.networkMode)&&t.canRun(),f=x=>{var k;r||(r=!0,(k=t.onSuccess)==null||k.call(t,x),s==null||s(),i.resolve(x))},m=x=>{var k;r||(r=!0,(k=t.onError)==null||k.call(t,x),s==null||s(),i.reject(x))},v=()=>new Promise(x=>{var k;s=_=>{(r||u())&&x(_)},(k=t.onPause)==null||k.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),w=()=>{if(r)return;let x;const k=n===0?t.initialPromise:void 0;try{x=k??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(f).catch(_=>{var O;if(r)return;const g=t.retry??(dl?0:3),b=t.retryDelay??N6,C=typeof b=="function"?b(n,_):b,D=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,_);if(e||!D){m(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),b6(C).then(()=>u()?void 0:v()).then(()=>{e?m(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():v().then(w),i)}}function S6(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var dn=S6(),Ho,dI,Qj=(dI=class{constructor(){Ne(this,Ho)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ew(this.gcTime)&&ge(this,Ho,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dl?1/0:5*60*1e3))}clearGcTimeout(){L(this,Ho)&&(clearTimeout(L(this,Ho)),ge(this,Ho,void 0))}},Ho=new WeakMap,dI),Oc,Mc,Fr,Ln,Uh,qo,os,ki,hI,I6=(hI=class extends Qj{constructor(n){super();Ne(this,os);Ne(this,Oc);Ne(this,Mc);Ne(this,Fr);Ne(this,Ln);Ne(this,Uh);Ne(this,qo);ge(this,qo,!1),ge(this,Uh,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,Fr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,Oc,C6(this.options)),this.state=n.state??L(this,Oc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=L(this,Ln))==null?void 0:n.promise}setOptions(n){this.options={...L(this,Uh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Fr).remove(this)}setData(n,r){const s=nw(this.state.data,n,this.options);return We(this,os,ki).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){We(this,os,ki).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=L(this,Ln))==null?void 0:s.promise;return(i=L(this,Ln))==null||i.cancel(n),r?r.then(Ur).catch(Ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Oc))}isActive(){return this.observers.some(n=>us(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Bj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,Ln))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,Ln))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),L(this,Fr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(L(this,Ln)&&(L(this,qo)?L(this,Ln).cancel({revert:!0}):L(this,Ln).cancelRetry()),this.scheduleGc()),L(this,Fr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,os,ki).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,Ln))return L(this,Ln).continueRetry(),L(this,Ln).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ge(this,qo,!0),s.signal)})},o=()=>{const m=qj(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),ge(this,qo,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(u=this.options.behavior)==null||u.onFetch(l,this),ge(this,Mc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&We(this,os,ki).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var v,w,x,k;Nv(m)&&m.silent||We(this,os,ki).call(this,{type:"error",error:m}),Nv(m)||((w=(v=L(this,Fr).config).onError)==null||w.call(v,m,this),(k=(x=L(this,Fr).config).onSettled)==null||k.call(x,this.state.data,m,this)),this.scheduleGc()};return ge(this,Ln,Gj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var v,w,x,k;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){c(_);return}(w=(v=L(this,Fr).config).onSuccess)==null||w.call(v,m,this),(k=(x=L(this,Fr).config).onSettled)==null||k.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,v)=>{We(this,os,ki).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{We(this,os,ki).call(this,{type:"pause"})},onContinue:()=>{We(this,os,ki).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),L(this,Ln).start()}},Oc=new WeakMap,Mc=new WeakMap,Fr=new WeakMap,Ln=new WeakMap,Uh=new WeakMap,qo=new WeakMap,os=new WeakSet,ki=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Yj(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Nv(i)&&i.revert&&L(this,Mc)?{...L(this,Mc),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),dn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),L(this,Fr).notify({query:this,type:"updated",action:n})})},hI);function Yj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zs,fI,j6=(fI=class extends yu{constructor(e={}){super();Ne(this,zs);this.config=e,ge(this,zs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Cb(s,n);let o=this.get(i);return o||(o=new I6({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,zs).has(e.queryHash)||(L(this,zs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,zs).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,zs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,zs).get(e)}getAll(){return[...L(this,zs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>lT(e,r)):n}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zs=new WeakMap,fI),$s,Yn,Ko,Bs,ya,mI,A6=(mI=class extends Qj{constructor(n){super();Ne(this,Bs);Ne(this,$s);Ne(this,Yn);Ne(this,Ko);this.mutationId=n.mutationId,ge(this,Yn,n.mutationCache),ge(this,$s,[]),this.state=n.state||Zj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){L(this,$s).includes(n)||(L(this,$s).push(n),this.clearGcTimeout(),L(this,Yn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,$s,L(this,$s).filter(r=>r!==n)),this.scheduleGc(),L(this,Yn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){L(this,$s).length||(this.state.status==="pending"?this.scheduleGc():L(this,Yn).remove(this))}continue(){var n;return((n=L(this,Ko))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,l,c,u,h,f,m,v,w,x,k,_,g,b,C,D,O,I,N;ge(this,Ko,Gj({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(E,S)=>{We(this,Bs,ya).call(this,{type:"failed",failureCount:E,error:S})},onPause:()=>{We(this,Bs,ya).call(this,{type:"pause"})},onContinue:()=>{We(this,Bs,ya).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,Yn).canRun(this)}));const r=this.state.status==="pending",s=!L(this,Ko).canStart();try{if(!r){We(this,Bs,ya).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=L(this,Yn).config).onMutate)==null?void 0:o.call(i,n,this));const S=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));S!==this.state.context&&We(this,Bs,ya).call(this,{type:"pending",context:S,variables:n,isPaused:s})}const E=await L(this,Ko).start();return await((h=(u=L(this,Yn).config).onSuccess)==null?void 0:h.call(u,E,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,E,n,this.state.context)),await((w=(v=L(this,Yn).config).onSettled)==null?void 0:w.call(v,E,null,this.state.variables,this.state.context,this)),await((k=(x=this.options).onSettled)==null?void 0:k.call(x,E,null,n,this.state.context)),We(this,Bs,ya).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(_=L(this,Yn).config).onError)==null?void 0:g.call(_,E,n,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,E,n,this.state.context)),await((O=(D=L(this,Yn).config).onSettled)==null?void 0:O.call(D,void 0,E,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,E,n,this.state.context)),E}finally{We(this,Bs,ya).call(this,{type:"error",error:E})}}finally{L(this,Yn).runNext(this)}}},$s=new WeakMap,Yn=new WeakMap,Ko=new WeakMap,Bs=new WeakSet,ya=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dn.batch(()=>{L(this,$s).forEach(s=>{s.onMutationUpdate(n)}),L(this,Yn).notify({mutation:this,type:"updated",action:n})})},mI);function Zj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,zh,pI,R6=(pI=class extends yu{constructor(e={}){super();Ne(this,kr);Ne(this,zh);this.config=e,ge(this,kr,new Map),ge(this,zh,Date.now())}build(e,n,r){const s=new A6({mutationCache:this,mutationId:++Of(this,zh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Jf(e),r=L(this,kr).get(n)??[];r.push(e),L(this,kr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Jf(e);if(L(this,kr).has(n)){const s=(r=L(this,kr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?L(this,kr).delete(n):L(this,kr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,kr).get(Jf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,kr).get(Jf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,kr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cT(n,r))}findAll(e={}){return this.getAll().filter(n=>cT(e,n))}notify(e){dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ur))))}},kr=new WeakMap,zh=new WeakMap,pI);function Jf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function hT(t){return{onFetch:(e,n)=>{var h,f,m,v,w;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const k=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=qj(e.options,e.fetchOptions),g=async(b,C,D)=>{if(x)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:C,direction:D?"backward":"forward",meta:e.options.meta};k(O);const I=await _(O),{maxPages:N}=e.options,E=D?k6:_6;return{pages:E(b.pages,I,N),pageParams:E(b.pageParams,C,N)}};if(s&&i.length){const b=s==="backward",C=b?P6:fT,D={pages:i,pageParams:o},O=C(r,D);l=await g(D,O,b)}else{const b=t??i.length;do{const C=c===0?o[0]??r.initialPageParam:fT(r,l);if(c>0&&C==null)break;l=await g(l,C),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var x,k;return(k=(x=e.options).persister)==null?void 0:k.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function fT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function P6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kt,Ra,Pa,Lc,Vc,Da,Fc,Uc,gI,D6=(gI=class{constructor(t={}){Ne(this,Kt);Ne(this,Ra);Ne(this,Pa);Ne(this,Lc);Ne(this,Vc);Ne(this,Da);Ne(this,Fc);Ne(this,Uc);ge(this,Kt,t.queryCache||new j6),ge(this,Ra,t.mutationCache||new R6),ge(this,Pa,t.defaultOptions||{}),ge(this,Lc,new Map),ge(this,Vc,new Map),ge(this,Da,0)}mount(){Of(this,Da)._++,L(this,Da)===1&&(ge(this,Fc,Ab.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,Kt).onFocus())})),ge(this,Uc,kp.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,Kt).onOnline())})))}unmount(){var t,e;Of(this,Da)._--,L(this,Da)===0&&((t=L(this,Fc))==null||t.call(this),ge(this,Fc,void 0),(e=L(this,Uc))==null||e.call(this),ge(this,Uc,void 0))}isFetching(t){return L(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,Ra).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,Kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,Kt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(wc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=L(this,Kt).get(r.queryHash),i=s==null?void 0:s.state.data,o=w6(e,i);if(o!==void 0)return L(this,Kt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return dn.batch(()=>L(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,Kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,Kt);dn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,Kt),r={type:"active",...t};return dn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=dn.batch(()=>L(this,Kt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Ur).catch(Ur)}invalidateQueries(t={},e={}){return dn.batch(()=>{if(L(this,Kt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=dn.batch(()=>L(this,Kt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ur)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ur)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,Kt).build(this,e);return n.isStaleByTime(wc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ur).catch(Ur)}fetchInfiniteQuery(t){return t.behavior=hT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ur).catch(Ur)}ensureInfiniteQueryData(t){return t.behavior=hT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kp.isOnline()?L(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Kt)}getMutationCache(){return L(this,Ra)}getDefaultOptions(){return L(this,Pa)}setDefaultOptions(t){ge(this,Pa,t)}setQueryDefaults(t,e){L(this,Lc).set(hl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,Lc).values()];let n={};return e.forEach(r=>{lh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,Vc).set(hl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,Vc).values()];let n={};return e.forEach(r=>{lh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,Pa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Cb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===jb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,Pa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,Kt).clear(),L(this,Ra).clear()}},Kt=new WeakMap,Ra=new WeakMap,Pa=new WeakMap,Lc=new WeakMap,Vc=new WeakMap,Da=new WeakMap,Fc=new WeakMap,Uc=new WeakMap,gI),lr,at,$h,Zn,Wo,zc,Oa,Hs,Bh,$c,Bc,Go,Qo,Ma,Hc,pt,hd,sw,iw,aw,ow,lw,cw,uw,Xj,yI,O6=(yI=class extends yu{constructor(e,n){super();Ne(this,pt);Ne(this,lr);Ne(this,at);Ne(this,$h);Ne(this,Zn);Ne(this,Wo);Ne(this,zc);Ne(this,Oa);Ne(this,Hs);Ne(this,Bh);Ne(this,$c);Ne(this,Bc);Ne(this,Go);Ne(this,Qo);Ne(this,Ma);Ne(this,Hc,new Set);this.options=n,ge(this,lr,e),ge(this,Hs,null),ge(this,Oa,rw()),this.options.experimental_prefetchInRender||L(this,Oa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,at).addObserver(this),mT(L(this,at),this.options)?We(this,pt,hd).call(this):this.updateResult(),We(this,pt,ow).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dw(L(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dw(L(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,pt,lw).call(this),We(this,pt,cw).call(this),L(this,at).removeObserver(this)}setOptions(e,n){const r=this.options,s=L(this,at);if(this.options=L(this,lr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,L(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,pt,uw).call(this),L(this,at).setOptions(this.options),r._defaulted&&!_p(this.options,r)&&L(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,at),observer:this});const i=this.hasListeners();i&&pT(L(this,at),s,this.options,r)&&We(this,pt,hd).call(this),this.updateResult(n),i&&(L(this,at)!==s||us(this.options.enabled,L(this,at))!==us(r.enabled,L(this,at))||wc(this.options.staleTime,L(this,at))!==wc(r.staleTime,L(this,at)))&&We(this,pt,sw).call(this);const o=We(this,pt,iw).call(this);i&&(L(this,at)!==s||us(this.options.enabled,L(this,at))!==us(r.enabled,L(this,at))||o!==L(this,Ma))&&We(this,pt,aw).call(this,o)}getOptimisticResult(e){const n=L(this,lr).getQueryCache().build(L(this,lr),e),r=this.createResult(n,e);return L6(this,r)&&(ge(this,Zn,r),ge(this,zc,this.options),ge(this,Wo,L(this,at).state)),r}getCurrentResult(){return L(this,Zn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){L(this,Hc).add(e)}getCurrentQuery(){return L(this,at)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,lr).defaultQueryOptions(e),r=L(this,lr).getQueryCache().build(L(this,lr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return We(this,pt,hd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Zn)))}createResult(e,n){var N;const r=L(this,at),s=this.options,i=L(this,Zn),o=L(this,Wo),l=L(this,zc),u=e!==r?e.state:L(this,$h),{state:h}=e;let f={...h},m=!1,v;if(n._optimisticResults){const E=this.hasListeners(),S=!E&&mT(e,n),j=E&&pT(e,r,n,s);(S||j)&&(f={...f,...Yj(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:k}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===L(this,Bh))v=L(this,$c);else try{ge(this,Bh,n.select),v=n.select(f.data),v=nw(i==null?void 0:i.data,v,n),ge(this,$c,v),ge(this,Hs,null)}catch(E){ge(this,Hs,E)}else v=f.data;if(n.placeholderData!==void 0&&v===void 0&&k==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((N=L(this,Bc))==null?void 0:N.state.data,L(this,Bc)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),ge(this,Hs,null)}catch(S){ge(this,Hs,S)}E!==void 0&&(k="success",v=nw(i==null?void 0:i.data,E,n),m=!0)}L(this,Hs)&&(w=L(this,Hs),v=L(this,$c),x=Date.now(),k="error");const _=f.fetchStatus==="fetching",g=k==="pending",b=k==="error",C=g&&_,D=v!==void 0,I={status:k,fetchStatus:f.fetchStatus,isPending:g,isSuccess:k==="success",isError:b,isInitialLoading:C,isLoading:C,data:v,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!g,isLoadingError:b&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&D,isStale:Rb(e,n),refetch:this.refetch,promise:L(this,Oa)};if(this.options.experimental_prefetchInRender){const E=R=>{I.status==="error"?R.reject(I.error):I.data!==void 0&&R.resolve(I.data)},S=()=>{const R=ge(this,Oa,I.promise=rw());E(R)},j=L(this,Oa);switch(j.status){case"pending":e.queryHash===r.queryHash&&E(j);break;case"fulfilled":(I.status==="error"||I.data!==j.value)&&S();break;case"rejected":(I.status!=="error"||I.error!==j.reason)&&S();break}}return I}updateResult(e){const n=L(this,Zn),r=this.createResult(L(this,at),this.options);if(ge(this,Wo,L(this,at).state),ge(this,zc,this.options),L(this,Wo).data!==void 0&&ge(this,Bc,L(this,at)),_p(r,n))return;ge(this,Zn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!L(this,Hc).size)return!0;const c=new Set(l??L(this,Hc));return this.options.throwOnError&&c.add("error"),Object.keys(L(this,Zn)).some(u=>{const h=u;return L(this,Zn)[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),We(this,pt,Xj).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,pt,ow).call(this)}},lr=new WeakMap,at=new WeakMap,$h=new WeakMap,Zn=new WeakMap,Wo=new WeakMap,zc=new WeakMap,Oa=new WeakMap,Hs=new WeakMap,Bh=new WeakMap,$c=new WeakMap,Bc=new WeakMap,Go=new WeakMap,Qo=new WeakMap,Ma=new WeakMap,Hc=new WeakMap,pt=new WeakSet,hd=function(e){We(this,pt,uw).call(this);let n=L(this,at).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ur)),n},sw=function(){We(this,pt,lw).call(this);const e=wc(this.options.staleTime,L(this,at));if(dl||L(this,Zn).isStale||!ew(e))return;const r=Bj(L(this,Zn).dataUpdatedAt,e)+1;ge(this,Go,setTimeout(()=>{L(this,Zn).isStale||this.updateResult()},r))},iw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,at)):this.options.refetchInterval)??!1},aw=function(e){We(this,pt,cw).call(this),ge(this,Ma,e),!(dl||us(this.options.enabled,L(this,at))===!1||!ew(L(this,Ma))||L(this,Ma)===0)&&ge(this,Qo,setInterval(()=>{(this.options.refetchIntervalInBackground||Ab.isFocused())&&We(this,pt,hd).call(this)},L(this,Ma)))},ow=function(){We(this,pt,sw).call(this),We(this,pt,aw).call(this,We(this,pt,iw).call(this))},lw=function(){L(this,Go)&&(clearTimeout(L(this,Go)),ge(this,Go,void 0))},cw=function(){L(this,Qo)&&(clearInterval(L(this,Qo)),ge(this,Qo,void 0))},uw=function(){const e=L(this,lr).getQueryCache().build(L(this,lr),this.options);if(e===L(this,at))return;const n=L(this,at);ge(this,at,e),ge(this,$h,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Xj=function(e){dn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,Zn))}),L(this,lr).getQueryCache().notify({query:L(this,at),type:"observerResultsUpdated"})})},yI);function M6(t,e){return us(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mT(t,e){return M6(t,e)||t.state.data!==void 0&&dw(t,e,e.refetchOnMount)}function dw(t,e,n){if(us(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Rb(t,e)}return!1}function pT(t,e,n,r){return(t!==e||us(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rb(t,n)}function Rb(t,e){return us(e.enabled,t)!==!1&&t.isStaleByTime(wc(e.staleTime,t))}function L6(t,e){return!_p(t.getCurrentResult(),e)}var La,Va,cr,ji,Hi,jm,hw,vI,V6=(vI=class extends yu{constructor(n,r){super();Ne(this,Hi);Ne(this,La);Ne(this,Va);Ne(this,cr);Ne(this,ji);ge(this,La,n),this.setOptions(r),this.bindMethods(),We(this,Hi,jm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=L(this,La).defaultMutationOptions(n),_p(this.options,r)||L(this,La).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,cr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&hl(r.mutationKey)!==hl(this.options.mutationKey)?this.reset():((s=L(this,cr))==null?void 0:s.state.status)==="pending"&&L(this,cr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,cr))==null||n.removeObserver(this)}onMutationUpdate(n){We(this,Hi,jm).call(this),We(this,Hi,hw).call(this,n)}getCurrentResult(){return L(this,Va)}reset(){var n;(n=L(this,cr))==null||n.removeObserver(this),ge(this,cr,void 0),We(this,Hi,jm).call(this),We(this,Hi,hw).call(this)}mutate(n,r){var s;return ge(this,ji,r),(s=L(this,cr))==null||s.removeObserver(this),ge(this,cr,L(this,La).getMutationCache().build(L(this,La),this.options)),L(this,cr).addObserver(this),L(this,cr).execute(n)}},La=new WeakMap,Va=new WeakMap,cr=new WeakMap,ji=new WeakMap,Hi=new WeakSet,jm=function(){var r;const n=((r=L(this,cr))==null?void 0:r.state)??Zj();ge(this,Va,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hw=function(n){dn.batch(()=>{var r,s,i,o,l,c,u,h;if(L(this,ji)&&this.hasListeners()){const f=L(this,Va).variables,m=L(this,Va).context;(n==null?void 0:n.type)==="success"?((s=(r=L(this,ji)).onSuccess)==null||s.call(r,n.data,f,m),(o=(i=L(this,ji)).onSettled)==null||o.call(i,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=L(this,ji)).onError)==null||c.call(l,n.error,f,m),(h=(u=L(this,ji)).onSettled)==null||h.call(u,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(L(this,Va))})})},vI),Jj=p.createContext(void 0),_o=t=>{const e=p.useContext(Jj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gT=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(Jj.Provider,{value:t,children:e})),eA=p.createContext(!1),F6=()=>p.useContext(eA);eA.Provider;function U6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var z6=p.createContext(U6()),$6=()=>p.useContext(z6);function tA(t,e){return typeof t=="function"?t(...e):!!t}function fw(){}var B6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},H6=t=>{p.useEffect(()=>{t.clearReset()},[t])},q6=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&tA(n,[t.error,r]),K6=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},W6=(t,e)=>t.isLoading&&t.isFetching&&!e,G6=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,yT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Q6(t,e,n){var h,f,m,v,w;const r=_o(),s=F6(),i=$6(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",K6(o),B6(o,i),H6(i);const l=!r.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(r,o)),u=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(x=>{const k=s?fw:c.subscribe(dn.batchCalls(x));return c.updateResult(),k},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),G6(o,u))throw yT(o,c,i);if(q6({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,u),o.experimental_prefetchInRender&&!dl&&W6(u,s)){const x=l?yT(o,c,i):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;x==null||x.catch(fw).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function tr(t,e){return Q6(t,O6)}function Jo(t,e){const n=_o(),[r]=p.useState(()=>new V6(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const s=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(dn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((o,l)=>{r.mutate(o,l).catch(fw)},[r]);if(s.error&&tA(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function Y6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Z6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Y6(n),await n.json())},Pd=new D6({defaultOptions:{queries:{queryFn:Z6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),X6=1,J6=1e6;let Sv=0;function e5(){return Sv=(Sv+1)%Number.MAX_SAFE_INTEGER,Sv.toString()}const Iv=new Map,vT=t=>{if(Iv.has(t))return;const e=setTimeout(()=>{Iv.delete(t),Dd({type:"REMOVE_TOAST",toastId:t})},J6);Iv.set(t,e)},t5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,X6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vT(n):t.toasts.forEach(r=>{vT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Am=[];let Rm={toasts:[]};function Dd(t){Rm=t5(Rm,t),Am.forEach(e=>{e(Rm)})}function n5({...t}){const e=e5(),n=s=>Dd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Dd({type:"DISMISS_TOAST",toastId:e});return Dd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pn(){const[t,e]=p.useState(Rm);return p.useEffect(()=>(Am.push(e),()=>{const n=Am.indexOf(e);n>-1&&Am.splice(n,1)}),[t]),{...t,toast:n5,dismiss:n=>Dd({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vu(...t){return e=>{let n=!1;const r=t.map(s=>{const i=xT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xT(t[s],null)}}}}function Le(...t){return p.useCallback(vu(...t),t)}function r5(t,e){const n=p.createContext(e),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function wn(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var _;const{scope:m,children:v,...w}=f,x=((_=m==null?void 0:m[t])==null?void 0:_[c])||l,k=p.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:k,children:v})};u.displayName=i+"Provider";function h(f,m){var x;const v=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,w=p.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,s5(s,...e)]}function s5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function fl(t){const e=i5(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(o5);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var nA=fl("Slot");function i5(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=c5(s),l=l5(i,s.props);return s.type!==p.Fragment&&(l.ref=r?vu(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rA=Symbol("radix.slottable");function a5(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rA,e}function o5(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rA}function l5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function c5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mg(t){const e=t+"CollectionProvider",[n,r]=wn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:k,children:_}=x,g=fe.useRef(null),b=fe.useRef(new Map).current;return a.jsx(s,{scope:k,itemMap:b,collectionRef:g,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=fl(l),u=fe.forwardRef((x,k)=>{const{scope:_,children:g}=x,b=i(l,_),C=Le(k,b.collectionRef);return a.jsx(c,{ref:C,children:g})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=fl(h),v=fe.forwardRef((x,k)=>{const{scope:_,children:g,...b}=x,C=fe.useRef(null),D=Le(k,C),O=i(h,_);return fe.useEffect(()=>(O.itemMap.set(C,{ref:C,...b}),()=>void O.itemMap.delete(C))),a.jsx(m,{[f]:"",ref:D,children:g})});v.displayName=h;function w(x){const k=i(t+"CollectionConsumer",x);return fe.useCallback(()=>{const g=k.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(k.itemMap.values()).sort((O,I)=>b.indexOf(O.ref.current)-b.indexOf(I.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,r]}var u5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=u5.reduce((t,e)=>{const n=fl(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Pb(t,e){t&&jl.flushSync(()=>t.dispatchEvent(e))}function Lt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function d5(t,e=globalThis==null?void 0:globalThis.document){const n=Lt(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var h5="DismissableLayer",mw="dismissableLayer.update",f5="dismissableLayer.pointerDownOutside",m5="dismissableLayer.focusOutside",wT,sA=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xu=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(sA),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),w=Le(e,I=>f(I)),x=Array.from(u.layers),[k]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(k),g=h?x.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=g>=_,D=g5(I=>{const N=I.target,E=[...u.branches].some(S=>S.contains(N));!C||E||(s==null||s(I),o==null||o(I),I.defaultPrevented||l==null||l())},m),O=y5(I=>{const N=I.target;[...u.branches].some(S=>S.contains(N))||(i==null||i(I),o==null||o(I),I.defaultPrevented||l==null||l())},m);return d5(I=>{g===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),bT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=wT)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),bT())},[h,u]),p.useEffect(()=>{const I=()=>v({});return document.addEventListener(mw,I),()=>document.removeEventListener(mw,I)},[]),a.jsx(Ee.div,{...c,ref:w,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,O.onFocusCapture),onBlurCapture:se(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,D.onPointerDownCapture)})});xu.displayName=h5;var p5="DismissableLayerBranch",iA=p.forwardRef((t,e)=>{const n=p.useContext(sA),r=p.useRef(null),s=Le(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ee.div,{...t,ref:s})});iA.displayName=p5;function g5(t,e=globalThis==null?void 0:globalThis.document){const n=Lt(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){aA(f5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function y5(t,e=globalThis==null?void 0:globalThis.document){const n=Lt(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&aA(m5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bT(){const t=new CustomEvent(mw);document.dispatchEvent(t)}function aA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Pb(s,i):s.dispatchEvent(i)}var v5=xu,x5=iA,Dt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},w5="Portal",Xh=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Dt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qF.createPortal(a.jsx(Ee.div,{...r,ref:e}),o):null});Xh.displayName=w5;function b5(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var jn=t=>{const{present:e,children:n}=t,r=_5(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Le(r.ref,k5(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};jn.displayName="Presence";function _5(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=b5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=em(r.current);i.current=l==="mounted"?u:"none"},[l]),Dt(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,v=em(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Dt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const x=em(r.current).includes(v.animationName);if(v.target===e&&x&&(c("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},m=v=>{v.target===e&&(i.current=em(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function em(t){return(t==null?void 0:t.animationName)||"none"}function k5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=E5({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=Lt(n),c=p.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&l(f)}else s(u)},[i,t,s,l]);return[o,c]}function E5({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=Lt(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var T5="VisuallyHidden",Jh=p.forwardRef((t,e)=>a.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jh.displayName=T5;var N5=Jh,Db="ToastProvider",[Ob,S5,I5]=Mg("Toast"),[oA,cne]=wn("Toast",[I5]),[C5,Lg]=oA(Db),lA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Db}\`. Expected non-empty \`string\`.`),a.jsx(Ob.Provider,{scope:e,children:a.jsx(C5,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(v=>v+1),[]),onToastRemove:p.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};lA.displayName=Db;var cA="ToastViewport",j5=["F8"],pw="toast.viewportPause",gw="toast.viewportResume",uA=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=j5,label:s="Notifications ({hotkey})",...i}=t,o=Lg(cA,n),l=S5(n),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=Le(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const k=_=>{var b;r.length!==0&&r.every(C=>_[C]||_.code===C)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),p.useEffect(()=>{const k=c.current,_=f.current;if(w&&k&&_){const g=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(pw);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(gw);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!k.contains(O.relatedTarget)&&b()},D=()=>{k.contains(document.activeElement)||b()};return k.addEventListener("focusin",g),k.addEventListener("focusout",C),k.addEventListener("pointermove",g),k.addEventListener("pointerleave",D),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{k.removeEventListener("focusin",g),k.removeEventListener("focusout",C),k.removeEventListener("pointermove",g),k.removeEventListener("pointerleave",D),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:k})=>{const g=l().map(b=>{const C=b.ref.current,D=[C,...B5(C)];return k==="forwards"?D:D.reverse()});return(k==="forwards"?g.reverse():g).flat()},[l]);return p.useEffect(()=>{const k=f.current;if(k){const _=g=>{var D,O,I;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const N=document.activeElement,E=g.shiftKey;if(g.target===k&&E){(D=u.current)==null||D.focus();return}const R=x({tabbingDirection:E?"backwards":"forwards"}),A=R.findIndex(B=>B===N);Cv(R.slice(A+1))?g.preventDefault():E?(O=u.current)==null||O.focus():(I=h.current)==null||I.focus()}};return k.addEventListener("keydown",_),()=>k.removeEventListener("keydown",_)}},[l,x]),a.jsxs(x5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(yw,{ref:u,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"forwards"});Cv(k)}}),a.jsx(Ob.Slot,{scope:n,children:a.jsx(Ee.ol,{tabIndex:-1,...i,ref:m})}),w&&a.jsx(yw,{ref:h,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"backwards"});Cv(k)}})]})});uA.displayName=cA;var dA="ToastFocusProxy",yw=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Lg(dA,n);return a.jsx(Jh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});yw.displayName=dA;var Vg="Toast",A5="toast.swipeStart",R5="toast.swipeMove",P5="toast.swipeCancel",D5="toast.swipeEnd",hA=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=Qi({prop:r,defaultProp:s,onChange:i});return a.jsx(jn,{present:n||l,children:a.jsx(L5,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Lt(t.onPause),onResume:Lt(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});hA.displayName=Vg;var[O5,M5]=oA(Vg,{onClose(){}}),L5=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:v,...w}=t,x=Lg(Vg,n),[k,_]=p.useState(null),g=Le(e,B=>_(B)),b=p.useRef(null),C=p.useRef(null),D=s||x.duration,O=p.useRef(0),I=p.useRef(D),N=p.useRef(0),{onToastAdd:E,onToastRemove:S}=x,j=Lt(()=>{var X;(k==null?void 0:k.contains(document.activeElement))&&((X=x.viewport)==null||X.focus()),o()}),R=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(N.current),O.current=new Date().getTime(),N.current=window.setTimeout(j,B))},[j]);p.useEffect(()=>{const B=x.viewport;if(B){const X=()=>{R(I.current),u==null||u()},J=()=>{const ae=new Date().getTime()-O.current;I.current=I.current-ae,window.clearTimeout(N.current),c==null||c()};return B.addEventListener(pw,J),B.addEventListener(gw,X),()=>{B.removeEventListener(pw,J),B.removeEventListener(gw,X)}}},[x.viewport,D,c,u,R]),p.useEffect(()=>{i&&!x.isClosePausedRef.current&&R(D)},[i,D,x.isClosePausedRef,R]),p.useEffect(()=>(E(),()=>S()),[E,S]);const A=p.useMemo(()=>k?xA(k):null,[k]);return x.viewport?a.jsxs(a.Fragment,{children:[A&&a.jsx(V5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),a.jsx(O5,{scope:n,onClose:j,children:jl.createPortal(a.jsx(Ob.ItemSlot,{scope:n,children:a.jsx(v5,{asChild:!0,onEscapeKeyDown:se(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||j(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:se(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:se(t.onPointerMove,B=>{if(!b.current)return;const X=B.clientX-b.current.x,J=B.clientY-b.current.y,ae=!!C.current,z=["left","right"].includes(x.swipeDirection),H=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ne=z?H(0,X):0,xe=z?0:H(0,J),be=B.pointerType==="touch"?10:2,Ie={x:ne,y:xe},Je={originalEvent:B,delta:Ie};ae?(C.current=Ie,tm(R5,f,Je,{discrete:!1})):_T(Ie,x.swipeDirection,be)?(C.current=Ie,tm(A5,h,Je,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(X)>be||Math.abs(J)>be)&&(b.current=null)}),onPointerUp:se(t.onPointerUp,B=>{const X=C.current,J=B.target;if(J.hasPointerCapture(B.pointerId)&&J.releasePointerCapture(B.pointerId),C.current=null,b.current=null,X){const ae=B.currentTarget,z={originalEvent:B,delta:X};_T(X,x.swipeDirection,x.swipeThreshold)?tm(D5,v,z,{discrete:!0}):tm(P5,m,z,{discrete:!0}),ae.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),V5=t=>{const{__scopeToast:e,children:n,...r}=t,s=Lg(Vg,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return z5(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Xh,{asChild:!0,children:a.jsx(Jh,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},F5="ToastTitle",fA=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ee.div,{...r,ref:e})});fA.displayName=F5;var U5="ToastDescription",mA=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ee.div,{...r,ref:e})});mA.displayName=U5;var pA="ToastAction",gA=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(vA,{altText:n,asChild:!0,children:a.jsx(Mb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pA}\`. Expected non-empty \`string\`.`),null)});gA.displayName=pA;var yA="ToastClose",Mb=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=M5(yA,n);return a.jsx(vA,{asChild:!0,children:a.jsx(Ee.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});Mb.displayName=yA;var vA=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function xA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),$5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...xA(r))}}),e}function tm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Pb(s,i):s.dispatchEvent(i)}var _T=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function z5(t=()=>{}){const e=Lt(t);Dt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function $5(t){return t.nodeType===t.ELEMENT_NODE}function B5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var H5=lA,wA=uA,bA=hA,_A=fA,kA=mA,EA=gA,TA=Mb;function NA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=NA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=NA(t))&&(r&&(r+=" "),r+=e);return r}const kT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ET=SA,Fg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ET(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=kT(h)||kT(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...v}=h;return Object.entries(v).every(w=>{let[x,k]=w;return Array.isArray(k)?k.includes({...i,...l}[x]):{...i,...l}[x]===k})?[...u,f,m]:u},[]);return ET(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IA=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...K5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:IA("lucide",s),...l},[...o.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(W5,{ref:i,iconNode:e,className:IA(`lucide-${q5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=Se("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Se("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Se("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Se("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Se("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Se("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Se("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ub="-",aU=t=>{const e=lU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Ub);return l[0]===""&&l.length!==1&&l.shift(),PA(l,e)||oU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},PA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?PA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ub);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},IT=/^\[(.+)\]$/,oU=t=>{if(IT.test(t)){const e=IT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uU(Object.entries(t.classGroups),n).forEach(([i,o])=>{_w(o,r,i,e)}),r},_w=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CT(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(cU(s)){_w(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{_w(o,CT(e,i),n,r)})})},CT=(t,e)=>{let n=t;return e.split(Ub).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cU=t=>t.isThemeGetter,uU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,dU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},DA="!",hU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,h=0,f;for(let k=0;k<l.length;k++){let _=l[k];if(u===0){if(_===s&&(r||l.slice(k,k+i)===e)){c.push(l.slice(h,k)),h=k+i;continue}if(_==="/"){f=k;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?l:l.substring(h),v=m.startsWith(DA),w=v?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},fU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},mU=t=>({cache:dU(t.cacheSize),parseClassName:hU(t),...aU(t)}),pU=/\s+/,gU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(pU);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=n(u);let w=!!v,x=r(w?m.substring(0,v):m);if(!x){if(!w){l=u+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=u+(l.length>0?" "+l:l);continue}w=!1}const k=fU(h).join(":"),_=f?k+DA:k,g=_+x;if(i.includes(g))continue;i.push(g);const b=s(x,w);for(let C=0;C<b.length;++C){const D=b[C];i.push(_+D)}l=u+(l.length>0?" "+l:l)}return l};function yU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=OA(e))&&(r&&(r+=" "),r+=n);return r}const OA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=OA(t[r]))&&(n&&(n+=" "),n+=e);return n};function vU(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=mU(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=gU(c,n);return s(c,h),h}return function(){return i(yU.apply(null,arguments))}}const It=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MA=/^\[(?:([a-z-]+):)?(.+)\]$/i,xU=/^\d+\/\d+$/,wU=new Set(["px","full","screen"]),bU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_U=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bi=t=>_c(t)||wU.has(t)||xU.test(t),ma=t=>_u(t,"length",PU),_c=t=>!!t&&!Number.isNaN(Number(t)),Av=t=>_u(t,"number",_c),td=t=>!!t&&Number.isInteger(Number(t)),NU=t=>t.endsWith("%")&&_c(t.slice(0,-1)),qe=t=>MA.test(t),pa=t=>bU.test(t),SU=new Set(["length","size","percentage"]),IU=t=>_u(t,SU,LA),CU=t=>_u(t,"position",LA),jU=new Set(["image","url"]),AU=t=>_u(t,jU,OU),RU=t=>_u(t,"",DU),nd=()=>!0,_u=(t,e,n)=>{const r=MA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},PU=t=>_U.test(t)&&!kU.test(t),LA=()=>!1,DU=t=>EU.test(t),OU=t=>TU.test(t),MU=()=>{const t=It("colors"),e=It("spacing"),n=It("blur"),r=It("brightness"),s=It("borderColor"),i=It("borderRadius"),o=It("borderSpacing"),l=It("borderWidth"),c=It("contrast"),u=It("grayscale"),h=It("hueRotate"),f=It("invert"),m=It("gap"),v=It("gradientColorStops"),w=It("gradientColorStopPositions"),x=It("inset"),k=It("margin"),_=It("opacity"),g=It("padding"),b=It("saturate"),C=It("scale"),D=It("sepia"),O=It("skew"),I=It("space"),N=It("translate"),E=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",qe,e],R=()=>[qe,e],A=()=>["",bi,ma],B=()=>["auto",_c,qe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",qe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[_c,qe];return{cacheSize:500,separator:":",theme:{colors:[nd],spacing:[bi,ma],blur:["none","",pa,qe],brightness:xe(),borderColor:[t],borderRadius:["none","","full",pa,qe],borderSpacing:R(),borderWidth:A(),contrast:xe(),grayscale:H(),hueRotate:xe(),invert:H(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[NU,ma],inset:j(),margin:j(),opacity:xe(),padding:R(),saturate:xe(),scale:xe(),sepia:H(),skew:xe(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[pa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),qe]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",td,qe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",td,qe]}],"grid-cols":[{"grid-cols":[nd]}],"col-start-end":[{col:["auto",{span:["full",td,qe]},qe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[nd]}],"row-start-end":[{row:["auto",{span:[td,qe]},qe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[pa]},pa]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pa,ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Av]}],"font-family":[{font:[nd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",_c,Av]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bi,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bi,ma]}],"underline-offset":[{"underline-offset":["auto",bi,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),CU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[bi,qe]}],"outline-w":[{outline:[bi,ma]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[bi,ma]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pa,RU]}],"shadow-color":[{shadow:[nd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pa,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[td,qe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bi,ma,Av]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LU=vU(MU);function _e(...t){return LU(SA(t))}const VU=H5,VA=p.forwardRef(({className:t,...e},n)=>a.jsx(wA,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VA.displayName=wA.displayName;const FU=Fg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FA=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(bA,{ref:r,className:_e(FU({variant:e}),t),...n}));FA.displayName=bA.displayName;const UU=p.forwardRef(({className:t,...e},n)=>a.jsx(EA,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));UU.displayName=EA.displayName;const UA=p.forwardRef(({className:t,...e},n)=>a.jsx(TA,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(_s,{className:"h-4 w-4"})}));UA.displayName=TA.displayName;const zA=p.forwardRef(({className:t,...e},n)=>a.jsx(_A,{ref:n,className:_e("text-sm font-semibold",t),...e}));zA.displayName=_A.displayName;const $A=p.forwardRef(({className:t,...e},n)=>a.jsx(kA,{ref:n,className:_e("text-sm opacity-90",t),...e}));$A.displayName=kA.displayName;function BA(){const{toasts:t}=pn();return a.jsxs(VU,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(FA,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(zA,{children:n}),r&&a.jsx($A,{children:r})]}),s,a.jsx(UA,{})]},e)}),a.jsx(VA,{})]})}var zU=xg[" useId ".trim().toString()]||(()=>{}),$U=0;function Qr(t){const[e,n]=p.useState(zU());return Dt(()=>{n(r=>r??String($U++))},[t]),e?`radix-${e}`:""}const BU=["top","right","bottom","left"],so=Math.min,Nr=Math.max,Sp=Math.round,rm=Math.floor,ei=t=>({x:t,y:t}),HU={left:"right",right:"left",bottom:"top",top:"bottom"},qU={start:"end",end:"start"};function kw(t,e,n){return Nr(t,so(e,n))}function Yi(t,e){return typeof t=="function"?t(e):t}function Zi(t){return t.split("-")[0]}function ku(t){return t.split("-")[1]}function zb(t){return t==="x"?"y":"x"}function $b(t){return t==="y"?"height":"width"}function io(t){return["top","bottom"].includes(Zi(t))?"y":"x"}function Bb(t){return zb(io(t))}function KU(t,e,n){n===void 0&&(n=!1);const r=ku(t),s=Bb(t),i=$b(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ip(o)),[o,Ip(o)]}function WU(t){const e=Ip(t);return[Ew(t),e,Ew(e)]}function Ew(t){return t.replace(/start|end/g,e=>qU[e])}function GU(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function QU(t,e,n,r){const s=ku(t);let i=GU(Zi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ew)))),i}function Ip(t){return t.replace(/left|right|bottom|top/g,e=>HU[e])}function YU(t){return{top:0,right:0,bottom:0,left:0,...t}}function HA(t){return typeof t!="number"?YU(t):{top:t,right:t,bottom:t,left:t}}function Cp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function jT(t,e,n){let{reference:r,floating:s}=t;const i=io(e),o=Bb(e),l=$b(o),c=Zi(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(ku(e)){case"start":v[o]-=m*(n&&u?-1:1);break;case"end":v[o]+=m*(n&&u?-1:1);break}return v}const ZU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=jT(u,r,c),m=r,v={},w=0;for(let x=0;x<l.length;x++){const{name:k,fn:_}=l[x],{x:g,y:b,data:C,reset:D}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=g??h,f=b??f,v={...v,[k]:{...v[k],...C}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=jT(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:v}};async function dh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=Yi(e,t),w=HA(v),k=l[m?f==="floating"?"reference":"floating":f],_=Cp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Cp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(_.top-D.top+w.top)/C.y,bottom:(D.bottom-_.bottom+w.bottom)/C.y,left:(_.left-D.left+w.left)/C.x,right:(D.right-_.right+w.right)/C.x}}const XU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=Yi(t,e)||{};if(u==null)return{};const f=HA(h),m={x:n,y:r},v=Bb(s),w=$b(v),x=await o.getDimensions(u),k=v==="y",_=k?"top":"left",g=k?"bottom":"right",b=k?"clientHeight":"clientWidth",C=i.reference[w]+i.reference[v]-m[v]-i.floating[w],D=m[v]-i.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=O?O[b]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=l.floating[b]||i.floating[w]);const N=C/2-D/2,E=I/2-x[w]/2-1,S=so(f[_],E),j=so(f[g],E),R=S,A=I-x[w]-j,B=I/2-x[w]/2+N,X=kw(R,B,A),J=!c.arrow&&ku(s)!=null&&B!==X&&i.reference[w]/2-(B<R?S:j)-x[w]/2<0,ae=J?B<R?B-R:B-A:0;return{[v]:m[v]+ae,data:{[v]:X,centerOffset:B-X-ae,...J&&{alignmentOffset:ae}},reset:J}}}),JU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...k}=Yi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Zi(s),g=io(l),b=Zi(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(b||!x?[Ip(l)]:WU(l)),O=w!=="none";!m&&O&&D.push(...QU(l,x,w,C));const I=[l,...D],N=await dh(e,k),E=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&E.push(N[_]),f){const B=KU(s,o,C);E.push(N[B[0]],N[B[1]])}if(S=[...S,{placement:s,overflows:E}],!E.every(B=>B<=0)){var j,R;const B=(((j=i.flip)==null?void 0:j.index)||0)+1,X=I[B];if(X)return{data:{index:B,overflows:S},reset:{placement:X}};let J=(R=S.filter(ae=>ae.overflows[0]<=0).sort((ae,z)=>ae.overflows[1]-z.overflows[1])[0])==null?void 0:R.placement;if(!J)switch(v){case"bestFit":{var A;const ae=(A=S.filter(z=>{if(O){const H=io(z.placement);return H===g||H==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(H=>H>0).reduce((H,ne)=>H+ne,0)]).sort((z,H)=>z[1]-H[1])[0])==null?void 0:A[0];ae&&(J=ae);break}case"initialPlacement":J=l;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function AT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RT(t){return BU.some(e=>t[e]>=0)}const ez=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Yi(t,e);switch(r){case"referenceHidden":{const i=await dh(e,{...s,elementContext:"reference"}),o=AT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RT(o)}}}case"escaped":{const i=await dh(e,{...s,altBoundary:!0}),o=AT(i,n.floating);return{data:{escapedOffsets:o,escaped:RT(o)}}}default:return{}}}}};async function tz(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zi(n),l=ku(n),c=io(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,f=Yi(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*h,y:m*u}:{x:m*u,y:v*h}}const nz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await tz(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},rz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:k=>{let{x:_,y:g}=k;return{x:_,y:g}}},...c}=Yi(t,e),u={x:n,y:r},h=await dh(e,c),f=io(Zi(s)),m=zb(f);let v=u[m],w=u[f];if(i){const k=m==="y"?"top":"left",_=m==="y"?"bottom":"right",g=v+h[k],b=v-h[_];v=kw(g,v,b)}if(o){const k=f==="y"?"top":"left",_=f==="y"?"bottom":"right",g=w+h[k],b=w-h[_];w=kw(g,w,b)}const x=l.fn({...e,[m]:v,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:o}}}}}},sz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yi(t,e),h={x:n,y:r},f=io(s),m=zb(f);let v=h[m],w=h[f];const x=Yi(l,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",C=i.reference[m]-i.floating[b]+k.mainAxis,D=i.reference[m]+i.reference[b]-k.mainAxis;v<C?v=C:v>D&&(v=D)}if(u){var _,g;const b=m==="y"?"width":"height",C=["top","left"].includes(Zi(s)),D=i.reference[f]-i.floating[b]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:k.crossAxis),O=i.reference[f]+i.reference[b]+(C?0:((g=o.offset)==null?void 0:g[f])||0)-(C?k.crossAxis:0);w<D?w=D:w>O&&(w=O)}return{[m]:v,[f]:w}}}},iz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Yi(t,e),h=await dh(e,u),f=Zi(s),m=ku(s),v=io(s)==="y",{width:w,height:x}=i.floating;let k,_;f==="top"||f==="bottom"?(k=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,k=m==="end"?"top":"bottom");const g=x-h.top-h.bottom,b=w-h.left-h.right,C=so(x-h[k],g),D=so(w-h[_],b),O=!e.middlewareData.shift;let I=C,N=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=g),O&&!m){const S=Nr(h.left,0),j=Nr(h.right,0),R=Nr(h.top,0),A=Nr(h.bottom,0);v?N=w-2*(S!==0||j!==0?S+j:Nr(h.left,h.right)):I=x-2*(R!==0||A!==0?R+A:Nr(h.top,h.bottom))}await c({...e,availableWidth:N,availableHeight:I});const E=await o.getDimensions(l.floating);return w!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function Ug(){return typeof window<"u"}function Eu(t){return qA(t)?(t.nodeName||"").toLowerCase():"#document"}function Rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pi(t){var e;return(e=(qA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qA(t){return Ug()?t instanceof Node||t instanceof Rr(t).Node:!1}function Ns(t){return Ug()?t instanceof Element||t instanceof Rr(t).Element:!1}function di(t){return Ug()?t instanceof HTMLElement||t instanceof Rr(t).HTMLElement:!1}function PT(t){return!Ug()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rr(t).ShadowRoot}function tf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function az(t){return["table","td","th"].includes(Eu(t))}function zg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Hb(t){const e=qb(),n=Ns(t)?Ss(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oz(t){let e=ao(t);for(;di(e)&&!eu(e);){if(Hb(e))return e;if(zg(e))return null;e=ao(e)}return null}function qb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function eu(t){return["html","body","#document"].includes(Eu(t))}function Ss(t){return Rr(t).getComputedStyle(t)}function $g(t){return Ns(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ao(t){if(Eu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PT(t)&&t.host||pi(t);return PT(e)?e.host:e}function KA(t){const e=ao(t);return eu(e)?t.ownerDocument?t.ownerDocument.body:t.body:di(e)&&tf(e)?e:KA(e)}function hh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=KA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Rr(s);if(i){const l=Tw(o);return e.concat(o,o.visualViewport||[],tf(s)?s:[],l&&n?hh(l):[])}return e.concat(s,hh(s,[],n))}function Tw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WA(t){const e=Ss(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=di(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Sp(n)!==i||Sp(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Kb(t){return Ns(t)?t:t.contextElement}function kc(t){const e=Kb(t);if(!di(e))return ei(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=WA(e);let o=(i?Sp(n.width):n.width)/r,l=(i?Sp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const lz=ei(0);function GA(t){const e=Rr(t);return!qb()||!e.visualViewport?lz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rr(t)?!1:e}function ml(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Kb(t);let o=ei(1);e&&(r?Ns(r)&&(o=kc(r)):o=kc(t));const l=cz(i,n,r)?GA(i):ei(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Rr(i),v=r&&Ns(r)?Rr(r):r;let w=m,x=Tw(w);for(;x&&r&&v!==w;){const k=kc(x),_=x.getBoundingClientRect(),g=Ss(x),b=_.left+(x.clientLeft+parseFloat(g.paddingLeft))*k.x,C=_.top+(x.clientTop+parseFloat(g.paddingTop))*k.y;c*=k.x,u*=k.y,h*=k.x,f*=k.y,c+=b,u+=C,w=Rr(x),x=Tw(w)}}return Cp({width:h,height:f,x:c,y:u})}function Wb(t,e){const n=$g(t).scrollLeft;return e?e.left+n:ml(pi(t)).left+n}function QA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Wb(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function uz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=pi(r),l=e?zg(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ei(1);const h=ei(0),f=di(r);if((f||!f&&!i)&&((Eu(r)!=="body"||tf(o))&&(c=$g(r)),di(r))){const v=ml(r);u=kc(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const m=o&&!f&&!i?QA(o,c,!0):ei(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function dz(t){return Array.from(t.getClientRects())}function hz(t){const e=pi(t),n=$g(t),r=t.ownerDocument.body,s=Nr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Nr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wb(t);const l=-n.scrollTop;return Ss(r).direction==="rtl"&&(o+=Nr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function fz(t,e){const n=Rr(t),r=pi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=qb();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function mz(t,e){const n=ml(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=di(t)?kc(t):ei(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function DT(t,e,n){let r;if(e==="viewport")r=fz(t,n);else if(e==="document")r=hz(pi(t));else if(Ns(e))r=mz(e,n);else{const s=GA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cp(r)}function YA(t,e){const n=ao(t);return n===e||!Ns(n)||eu(n)?!1:Ss(n).position==="fixed"||YA(n,e)}function pz(t,e){const n=e.get(t);if(n)return n;let r=hh(t,[],!1).filter(l=>Ns(l)&&Eu(l)!=="body"),s=null;const i=Ss(t).position==="fixed";let o=i?ao(t):t;for(;Ns(o)&&!eu(o);){const l=Ss(o),c=Hb(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tf(o)&&!c&&YA(t,o))?r=r.filter(h=>h!==o):s=l,o=ao(o)}return e.set(t,r),r}function gz(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?zg(e)?[]:pz(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const f=DT(e,h,s);return u.top=Nr(f.top,u.top),u.right=so(f.right,u.right),u.bottom=so(f.bottom,u.bottom),u.left=Nr(f.left,u.left),u},DT(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yz(t){const{width:e,height:n}=WA(t);return{width:e,height:n}}function vz(t,e,n){const r=di(e),s=pi(e),i=n==="fixed",o=ml(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=ei(0);if(r||!r&&!i)if((Eu(e)!=="body"||tf(s))&&(l=$g(e)),r){const m=ml(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=Wb(s));const u=s&&!r&&!i?QA(s,l):ei(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Rv(t){return Ss(t).position==="static"}function OT(t,e){if(!di(t)||Ss(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pi(t)===n&&(n=n.ownerDocument.body),n}function ZA(t,e){const n=Rr(t);if(zg(t))return n;if(!di(t)){let s=ao(t);for(;s&&!eu(s);){if(Ns(s)&&!Rv(s))return s;s=ao(s)}return n}let r=OT(t,e);for(;r&&az(r)&&Rv(r);)r=OT(r,e);return r&&eu(r)&&Rv(r)&&!Hb(r)?n:r||oz(t)||n}const xz=async function(t){const e=this.getOffsetParent||ZA,n=this.getDimensions,r=await n(t.floating);return{reference:vz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wz(t){return Ss(t).direction==="rtl"}const bz={convertOffsetParentRelativeRectToViewportRelativeRect:uz,getDocumentElement:pi,getClippingRect:gz,getOffsetParent:ZA,getElementRects:xz,getClientRects:dz,getDimensions:yz,getScale:kc,isElement:Ns,isRTL:wz};function XA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _z(t,e){let n=null,r;const s=pi(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:v}=u;if(l||e(),!m||!v)return;const w=rm(f),x=rm(s.clientWidth-(h+m)),k=rm(s.clientHeight-(f+v)),_=rm(h),b={rootMargin:-w+"px "+-x+"px "+-k+"px "+-_+"px",threshold:Nr(0,so(1,c))||1};let C=!0;function D(O){const I=O[0].intersectionRatio;if(I!==c){if(!C)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!XA(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(D,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return o(!0),i}function kz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Kb(t),h=s||i?[...u?hh(u):[],...hh(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&l?_z(u,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(_=>{let[g]=_;g&&g.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let w,x=c?ml(t):null;c&&k();function k(){const _=ml(t);x&&!XA(x,_)&&n(),x=_,w=requestAnimationFrame(k)}return n(),()=>{var _;h.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const Ez=nz,Tz=rz,Nz=JU,Sz=iz,Iz=ez,MT=XU,Cz=sz,jz=(t,e,n)=>{const r=new Map,s={platform:bz,...n},i={...s.platform,_c:r};return ZU(t,e,{...s,platform:i})};var Pm=typeof document<"u"?p.useLayoutEffect:p.useEffect;function jp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function JA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LT(t,e){const n=JA(t);return Math.round(e*n)/n}function Pv(t){const e=p.useRef(t);return Pm(()=>{e.current=t}),e}function Az(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=p.useState(r);jp(m,r)||v(r);const[w,x]=p.useState(null),[k,_]=p.useState(null),g=p.useCallback(z=>{z!==O.current&&(O.current=z,x(z))},[]),b=p.useCallback(z=>{z!==I.current&&(I.current=z,_(z))},[]),C=i||w,D=o||k,O=p.useRef(null),I=p.useRef(null),N=p.useRef(h),E=c!=null,S=Pv(c),j=Pv(s),R=Pv(u),A=p.useCallback(()=>{if(!O.current||!I.current)return;const z={placement:e,strategy:n,middleware:m};j.current&&(z.platform=j.current),jz(O.current,I.current,z).then(H=>{const ne={...H,isPositioned:R.current!==!1};B.current&&!jp(N.current,ne)&&(N.current=ne,jl.flushSync(()=>{f(ne)}))})},[m,e,n,j,R]);Pm(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const B=p.useRef(!1);Pm(()=>(B.current=!0,()=>{B.current=!1}),[]),Pm(()=>{if(C&&(O.current=C),D&&(I.current=D),C&&D){if(S.current)return S.current(C,D,A);A()}},[C,D,A,S,E]);const X=p.useMemo(()=>({reference:O,floating:I,setReference:g,setFloating:b}),[g,b]),J=p.useMemo(()=>({reference:C,floating:D}),[C,D]),ae=p.useMemo(()=>{const z={position:n,left:0,top:0};if(!J.floating)return z;const H=LT(J.floating,h.x),ne=LT(J.floating,h.y);return l?{...z,transform:"translate("+H+"px, "+ne+"px)",...JA(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:ne}},[n,l,J.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:A,refs:X,elements:J,floatingStyles:ae}),[h,A,X,J,ae])}const Rz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?MT({element:r.current,padding:s}).fn(n):{}:r?MT({element:r,padding:s}).fn(n):{}}}},Pz=(t,e)=>({...Ez(t),options:[t,e]}),Dz=(t,e)=>({...Tz(t),options:[t,e]}),Oz=(t,e)=>({...Cz(t),options:[t,e]}),Mz=(t,e)=>({...Nz(t),options:[t,e]}),Lz=(t,e)=>({...Sz(t),options:[t,e]}),Vz=(t,e)=>({...Iz(t),options:[t,e]}),Fz=(t,e)=>({...Rz(t),options:[t,e]});var Uz="Arrow",eR=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Ee.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});eR.displayName=Uz;var zz=eR;function Gb(t){const[e,n]=p.useState(void 0);return Dt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Qb="Popper",[tR,Tu]=wn(Qb),[$z,nR]=tR(Qb),rR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return a.jsx($z,{scope:e,anchor:r,onAnchorChange:s,children:n})};rR.displayName=Qb;var sR="PopperAnchor",iR=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=nR(sR,n),o=p.useRef(null),l=Le(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Ee.div,{...s,ref:l})});iR.displayName=sR;var Yb="PopperContent",[Bz,Hz]=tR(Yb),aR=p.forwardRef((t,e)=>{var me,st,He,$,de,Re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:w,...x}=t,k=nR(Yb,n),[_,g]=p.useState(null),b=Le(e,Ue=>g(Ue)),[C,D]=p.useState(null),O=Gb(C),I=(O==null?void 0:O.width)??0,N=(O==null?void 0:O.height)??0,E=r+(i!=="center"?"-"+i:""),S=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(u)?u:[u],R=j.length>0,A={padding:S,boundary:j.filter(Kz),altBoundary:R},{refs:B,floatingStyles:X,placement:J,isPositioned:ae,middlewareData:z}=Az({strategy:"fixed",placement:E,whileElementsMounted:(...Ue)=>kz(...Ue,{animationFrame:v==="always"}),elements:{reference:k.anchor},middleware:[Pz({mainAxis:s+N,alignmentAxis:o}),c&&Dz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Oz():void 0,...A}),c&&Mz({...A}),Lz({...A,apply:({elements:Ue,rects:Ye,availableWidth:ln,availableHeight:An})=>{const{width:Wn,height:ca}=Ye.reference,ns=Ue.floating.style;ns.setProperty("--radix-popper-available-width",`${ln}px`),ns.setProperty("--radix-popper-available-height",`${An}px`),ns.setProperty("--radix-popper-anchor-width",`${Wn}px`),ns.setProperty("--radix-popper-anchor-height",`${ca}px`)}}),C&&Fz({element:C,padding:l}),Wz({arrowWidth:I,arrowHeight:N}),m&&Vz({strategy:"referenceHidden",...A})]}),[H,ne]=cR(J),xe=Lt(w);Dt(()=>{ae&&(xe==null||xe())},[ae,xe]);const be=(me=z.arrow)==null?void 0:me.x,Ie=(st=z.arrow)==null?void 0:st.y,Je=((He=z.arrow)==null?void 0:He.centerOffset)!==0,[yt,ht]=p.useState();return Dt(()=>{_&&ht(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ae?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yt,"--radix-popper-transform-origin":[($=z.transformOrigin)==null?void 0:$.x,(de=z.transformOrigin)==null?void 0:de.y].join(" "),...((Re=z.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Bz,{scope:n,placedSide:H,onArrowChange:D,arrowX:be,arrowY:Ie,shouldHideArrow:Je,children:a.jsx(Ee.div,{"data-side":H,"data-align":ne,...x,ref:b,style:{...x.style,animation:ae?void 0:"none"}})})})});aR.displayName=Yb;var oR="PopperArrow",qz={top:"bottom",right:"left",bottom:"top",left:"right"},lR=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Hz(oR,r),o=qz[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(zz,{...s,ref:n,style:{...s.style,display:"block"}})})});lR.displayName=oR;function Kz(t){return t!==null}var Wz=t=>({name:"transformOrigin",options:t,fn(e){var k,_,g;const{placement:n,rects:r,middlewareData:s}=e,o=((k=s.arrow)==null?void 0:k.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=cR(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,v=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=o?f:`${m}px`,x=`${-c}px`):u==="top"?(w=o?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:w,y:x}}}});function cR(t){const[e,n="center"]=t.split("-");return[e,n]}var uR=rR,Zb=iR,Xb=aR,Jb=lR,[Bg,une]=wn("Tooltip",[Tu]),e_=Tu(),dR="TooltipProvider",Gz=700,VT="tooltip.open",[Qz,hR]=Bg(dR),fR=t=>{const{__scopeTooltip:e,delayDuration:n=Gz,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(Qz,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};fR.displayName=dR;var mR="Tooltip",[dne,Hg]=Bg(mR),Nw="TooltipTrigger",Yz=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Hg(Nw,n),i=hR(Nw,n),o=e_(n),l=p.useRef(null),c=Le(e,l,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Zb,{asChild:!0,...o,children:a.jsx(Ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:se(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});Yz.displayName=Nw;var Zz="TooltipPortal",[hne,Xz]=Bg(Zz,{forceMount:void 0}),tu="TooltipContent",pR=p.forwardRef((t,e)=>{const n=Xz(tu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Hg(tu,t.__scopeTooltip);return a.jsx(jn,{present:r||o.open,children:o.disableHoverableContent?a.jsx(gR,{side:s,...i,ref:e}):a.jsx(Jz,{side:s,...i,ref:e})})}),Jz=p.forwardRef((t,e)=>{const n=Hg(tu,t.__scopeTooltip),r=hR(tu,t.__scopeTooltip),s=p.useRef(null),i=Le(e,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),v=p.useCallback((w,x)=>{const k=w.currentTarget,_={x:w.clientX,y:w.clientY},g=s9(_,k.getBoundingClientRect()),b=i9(_,g),C=a9(x.getBoundingClientRect()),D=l9([...b,...C]);l(D),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const w=k=>v(k,h),x=k=>v(k,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[c,h,v,m]),p.useEffect(()=>{if(o){const w=x=>{const k=x.target,_={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(k))||(h==null?void 0:h.contains(k)),b=!o9(_,o);g?m():b&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,o,u,m]),a.jsx(gR,{...t,ref:i})}),[e9,t9]=Bg(mR,{isInside:!1}),n9=a5("TooltipContent"),gR=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Hg(tu,n),u=e_(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(VT,h),()=>document.removeEventListener(VT,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(Xb,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(n9,{children:r}),a.jsx(e9,{scope:n,isInside:!0,children:a.jsx(N5,{id:c.contentId,role:"tooltip",children:s||r})})]})})});pR.displayName=tu;var yR="TooltipArrow",r9=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=e_(n);return t9(yR,n).isInside?null:a.jsx(Jb,{...s,...r,ref:e})});r9.displayName=yR;function s9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function i9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function a9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function o9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function l9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),c9(e)}function c9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var u9=fR,vR=pR;const xR=u9,d9=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(vR,{ref:r,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));d9.displayName=vR.displayName;const h9=()=>{};var FT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},f9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,v=u&63;c||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new m9;const m=i<<2|l>>4;if(r.push(m),u!==64){const v=l<<4&240|u>>2;if(r.push(v),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p9=function(t){const e=wR(t);return bR.encodeByteArray(e,!0)},Ap=function(t){return p9(t).replace(/\./g,"")},_R=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=()=>g9().__FIREBASE_DEFAULTS__,v9=()=>{if(typeof process>"u"||typeof FT>"u")return;const t=FT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_R(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return h9()||y9()||v9()||x9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kR=t=>{var e,n;return(n=(e=qg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ER=t=>{const e=kR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TR=()=>{var t;return(t=qg())==null?void 0:t.config},NR=t=>{var e;return(e=qg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ap(JSON.stringify(n)),Ap(JSON.stringify(o)),""].join(".")}const Md={};function b9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Md))Md[e]?t.emulator.push(e):t.prod.push(e);return t}function _9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UT=!1;function n_(t,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||Md[t]===e||Md[t]||UT)return;Md[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=b9().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{UT=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=_9(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),x=n("learnmore"),k=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),g=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),h(k,x);const C=u();c(g,_),b.append(g,w,k,C),document.body.appendChild(b)}i?(w.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function E9(){var e;const t=(e=qg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I9(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C9(){return!E9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j9(){try{return typeof indexedDB=="object"}catch{return!1}}function A9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R9,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nf.prototype.create)}}class nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?P9(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new gi(s,l,r)}}function P9(t,e){return t.replace(D9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const D9=/\{\$([^}]+)}/g;function O9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(zT(i)&&zT(o)){if(!pl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function pd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M9(t,e){const n=new L9(t,e);return n.subscribe.bind(n)}class L9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dv),s.error===void 0&&(s.error=Dv),s.complete===void 0&&(s.complete=Dv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z9(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U9(t){return t===Mo?void 0:t}function z9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const B9={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},H9=et.INFO,q9={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},K9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=q9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r_{constructor(e){this.name=e,this._logLevel=H9,this._logHandler=K9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const W9=(t,e)=>e.some(n=>t instanceof n);let $T,BT;function G9(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q9(){return BT||(BT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,Sw=new WeakMap,CR=new WeakMap,Ov=new WeakMap,s_=new WeakMap;function Y9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ya(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IR.set(n,t)}).catch(()=>{}),s_.set(e,t),e}function Z9(t){if(Sw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Sw.set(t,e)}let Iw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X9(t){Iw=t(Iw)}function J9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mv(this),e,...n);return CR.set(r,e.sort?e.sort():[e]),Ya(r)}:Q9().includes(t)?function(...e){return t.apply(Mv(this),e),Ya(IR.get(this))}:function(...e){return Ya(t.apply(Mv(this),e))}}function e$(t){return typeof t=="function"?J9(t):(t instanceof IDBTransaction&&Z9(t),W9(t,G9())?new Proxy(t,Iw):t)}function Ya(t){if(t instanceof IDBRequest)return Y9(t);if(Ov.has(t))return Ov.get(t);const e=e$(t);return e!==t&&(Ov.set(t,e),s_.set(e,t)),e}const Mv=t=>s_.get(t);function t$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ya(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ya(o.result),c.oldVersion,c.newVersion,Ya(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const n$=["get","getKey","getAll","getAllKeys","count"],r$=["put","add","delete","clear"],Lv=new Map;function HT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=r$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||n$.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Lv.set(e,i),i}X9(t=>({...t,get:(e,n,r)=>HT(e,n)||t.get(e,n,r),has:(e,n)=>!!HT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cw="@firebase/app",qT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new r_("@firebase/app"),a$="@firebase/app-compat",o$="@firebase/analytics-compat",l$="@firebase/analytics",c$="@firebase/app-check-compat",u$="@firebase/app-check",d$="@firebase/auth",h$="@firebase/auth-compat",f$="@firebase/database",m$="@firebase/data-connect",p$="@firebase/database-compat",g$="@firebase/functions",y$="@firebase/functions-compat",v$="@firebase/installations",x$="@firebase/installations-compat",w$="@firebase/messaging",b$="@firebase/messaging-compat",_$="@firebase/performance",k$="@firebase/performance-compat",E$="@firebase/remote-config",T$="@firebase/remote-config-compat",N$="@firebase/storage",S$="@firebase/storage-compat",I$="@firebase/firestore",C$="@firebase/ai",j$="@firebase/firestore-compat",A$="firebase",R$="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="[DEFAULT]",P$={[Cw]:"fire-core",[a$]:"fire-core-compat",[l$]:"fire-analytics",[o$]:"fire-analytics-compat",[u$]:"fire-app-check",[c$]:"fire-app-check-compat",[d$]:"fire-auth",[h$]:"fire-auth-compat",[f$]:"fire-rtdb",[m$]:"fire-data-connect",[p$]:"fire-rtdb-compat",[g$]:"fire-fn",[y$]:"fire-fn-compat",[v$]:"fire-iid",[x$]:"fire-iid-compat",[w$]:"fire-fcm",[b$]:"fire-fcm-compat",[_$]:"fire-perf",[k$]:"fire-perf-compat",[E$]:"fire-rc",[T$]:"fire-rc-compat",[N$]:"fire-gcs",[S$]:"fire-gcs-compat",[I$]:"fire-fst",[j$]:"fire-fst-compat",[C$]:"fire-vertex","fire-js":"fire-js",[A$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,D$=new Map,Aw=new Map;function KT(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gl(t){const e=t.name;if(Aw.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Aw.set(e,t);for(const n of Rp.values())KT(n,t);for(const n of D$.values())KT(n,t);return!0}function Kg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new nf("app","Firebase",O$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=R$;function jR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Za.create("bad-app-name",{appName:String(s)});if(n||(n=TR()),!n)throw Za.create("no-options");const i=Rp.get(s);if(i){if(pl(n,i.options)&&pl(r,i.config))return i;throw Za.create("duplicate-app",{appName:s})}const o=new $9(s);for(const c of Aw.values())o.addComponent(c);const l=new M$(n,r,o);return Rp.set(s,l),l}function i_(t=jw){const e=Rp.get(t);if(!e&&t===jw&&TR())return jR();if(!e)throw Za.create("no-app",{appName:t});return e}function ti(t,e,n){let r=P$[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(o.join(" "));return}gl(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="firebase-heartbeat-database",V$=1,fh="firebase-heartbeat-store";let Vv=null;function AR(){return Vv||(Vv=t$(L$,V$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Za.create("idb-open",{originalErrorMessage:t.message})})),Vv}async function F$(t){try{const n=(await AR()).transaction(fh),r=await n.objectStore(fh).get(RR(t));return await n.done,r}catch(e){if(e instanceof gi)Xi.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function WT(t,e){try{const r=(await AR()).transaction(fh,"readwrite");await r.objectStore(fh).put(e,RR(t)),await r.done}catch(n){if(n instanceof gi)Xi.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(r.message)}}}function RR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=1024,z$=30;class $${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>z$){const o=q$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GT(),{heartbeatsToSend:r,unsentEntries:s}=B$(this._heartbeatsCache.heartbeats),i=Ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Xi.warn(n),""}}}function GT(){return new Date().toISOString().substring(0,10)}function B$(t,e=U$){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),QT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),QT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j9()?A9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QT(t){return Ap(JSON.stringify({version:2,heartbeats:t})).length}function q$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){gl(new oo("platform-logger",e=>new s$(e),"PRIVATE")),gl(new oo("heartbeat",e=>new $$(e),"PRIVATE")),ti(Cw,qT,t),ti(Cw,qT,"esm2020"),ti("fire-js","")}K$("");function PR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W$=PR,DR=new nf("auth","Firebase",PR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new r_("@firebase/auth");function G$(t,...e){Pp.logLevel<=et.WARN&&Pp.warn(`Auth (${Al}): ${t}`,...e)}function Dm(t,...e){Pp.logLevel<=et.ERROR&&Pp.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,...e){throw o_(t,...e)}function ks(t,...e){return o_(t,...e)}function a_(t,e,n){const r={...W$(),[e]:n};return new nf("auth","Firebase",r).create(e,{appName:t.name})}function Vi(t){return a_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&es(t,"argument-error"),a_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function o_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DR.create(t,...e)}function Ce(t,e,...n){if(!t)throw o_(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dm(e),new Error(e)}function Ji(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Y$(){return YT()==="http:"||YT()==="https:"}function YT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y$()||N9()||"connection"in navigator)?navigator.onLine:!0}function X$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=k9()||S9()}get(){return Z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tB=new sf(3e4,6e4);function oa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ps(t,e,n,r,s={}){return MR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=rf({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return T9()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ko(t.emulatorConfig.host)&&(u.credentials="include"),OR.fetch()(await LR(t,t.config.apiHost,n,l),u)})}async function MR(t,e,n){t._canInitEmulator=!1;const r={...J$,...e};try{const s=new rB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sm(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sm(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw sm(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw sm(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw a_(t,h,u);es(t,h)}}catch(s){if(s instanceof gi)throw s;es(t,"network-request-failed",{message:String(s)})}}async function af(t,e,n,r,s={}){const i=await Ps(t,e,n,r,s);return"mfaPendingCredential"in i&&es(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function LR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?l_(t.config,s):`${t.config.apiScheme}://${s}`;return eB.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function nB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),tB.get())})}}function sm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ks(t,e,r);return s.customData._tokenResponse=n,s}function ZT(t){return t!==void 0&&t.enterprise!==void 0}class sB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iB(t,e){return Ps(t,"GET","/v2/recaptchaConfig",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aB(t,e){return Ps(t,"POST","/v1/accounts:delete",e)}async function Dp(t,e){return Ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oB(t,e=!1){const n=kt(t),r=await n.getIdToken(e),s=c_(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ld(Fv(s.auth_time)),issuedAtTime:Ld(Fv(s.iat)),expirationTime:Ld(Fv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Fv(t){return Number(t)*1e3}function c_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dm("JWT malformed, contained fewer than 3 sections"),null;try{const s=_R(n);return s?JSON.parse(s):(Dm("Failed to decode base64 JWT payload"),null)}catch(s){return Dm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XT(t){const e=c_(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gi&&lB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ld(this.lastLoginAt),this.creationTime=Ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){var f;const e=t.auth,n=await t.getIdToken(),r=await yl(t,Dp(e,{idToken:n}));Ce(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?VR(s.providerUserInfo):[],o=dB(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Pw(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function uB(t){const e=kt(t);await Op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dB(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e){const n=await MR(t,{},async()=>{const r=rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await LR(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ko(t.emulatorConfig.host)&&(c.credentials="include"),OR.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fB(t,e){return Ps(t,"POST","/v2/accounts:revokeToken",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=XT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hB(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ec;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new cB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oB(this,e)}reload(){return uB(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await yl(this,aB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:w,stsTokenManager:x}=n;Ce(f&&x,e,"internal-error");const k=Ec.fromJSON(this.name,x);Ce(typeof f=="string",e,"internal-error"),ga(r,e.name),ga(s,e.name),Ce(typeof m=="boolean",e,"internal-error"),Ce(typeof v=="boolean",e,"internal-error"),ga(i,e.name),ga(o,e.name),ga(l,e.name),ga(c,e.name),ga(u,e.name),ga(h,e.name);const _=new ps({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:k,createdAt:u,lastLoginAt:h});return w&&Array.isArray(w)&&(_.providerData=w.map(g=>({...g}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ec;s.updateFromServerResponse(n);const i=new ps({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Op(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?VR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ec;l.updateFromIdToken(r);const c=new ps({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;function Mi(t){Ji(t instanceof Function,"Expected a class definition");let e=JT.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FR.type="NONE";const eN=FR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e,n){return`firebase:${t}:${e}:${n}`}class Tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Om(this.userKey,s.apiKey,i),this.fullPersistenceKey=Om("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dp(this.auth,{idToken:e}).catch(()=>{});return n?ps._fromGetAccountInfoResponse(this.auth,n,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tc(Mi(eN),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Mi(eN);const o=Om(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Dp(e,{idToken:h}).catch(()=>{});if(!m)break;f=await ps._fromGetAccountInfoResponse(e,m,h)}else f=ps._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Tc(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Tc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qR(e))return"Blackberry";if(KR(e))return"Webos";if(zR(e))return"Safari";if((e.includes("chrome/")||$R(e))&&!e.includes("edge/"))return"Chrome";if(HR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UR(t=Bn()){return/firefox\//i.test(t)}function zR(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $R(t=Bn()){return/crios\//i.test(t)}function BR(t=Bn()){return/iemobile/i.test(t)}function HR(t=Bn()){return/android/i.test(t)}function qR(t=Bn()){return/blackberry/i.test(t)}function KR(t=Bn()){return/webos/i.test(t)}function u_(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mB(t=Bn()){var e;return u_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function pB(){return I9()&&document.documentMode===10}function WR(t=Bn()){return u_(t)||HR(t)||KR(t)||qR(t)||/windows phone/i.test(t)||BR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e=[]){let n;switch(t){case"Browser":n=tN(Bn());break;case"Worker":n=`${tN(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e={}){return Ps(t,"GET","/v2/passwordPolicy",oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=6;class xB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nN(this),this.idTokenSubscription=new nN(this),this.beforeStateQueue=new gB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dp(this,{idToken:e}),r=await ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Op(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Vi(this));const n=e?kt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yB(this),n=new xB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&G$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function la(t){return kt(t)}class nN{constructor(e){this.auth=e,this.observer=null,this.addObserver=M9(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bB(t){Wg=t}function QR(t){return Wg.loadJS(t)}function _B(){return Wg.recaptchaEnterpriseScript}function kB(){return Wg.gapiScript}function EB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TB{constructor(){this.enterprise=new NB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SB="recaptcha-enterprise",YR="NO_RECAPTCHA";class IB{constructor(e){this.type=SB,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{iB(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new sB(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;ZT(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(YR)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TB().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&ZT(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_B();c.length!==0&&(c+=l),QR(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function rN(t,e,n,r=!1,s=!1){const i=new IB(t);let o;if(s)o=YR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Mp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rN(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await rN(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t,e){const n=Kg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(pl(i,e??{}))return s;es(s,"already-initialized")}return n.initialize({options:e})}function jB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AB(t,e,n){const r=la(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ZR(e),{host:o,port:l}=RB(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(pl(u,r.config.emulator)&&pl(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ko(o)?(t_(`${i}//${o}${c}`),n_("Auth",!0)):PB()}function ZR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RB(t){const e=ZR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:sN(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:sN(o)}}}function sN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function DB(t,e){return Ps(t,"POST","/v1/accounts:update",e)}async function OB(t,e){return Ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(t,e){return af(t,"POST","/v1/accounts:signInWithPassword",oa(t,e))}async function XR(t,e){return Ps(t,"POST","/v1/accounts:sendOobCode",oa(t,e))}async function LB(t,e){return XR(t,e)}async function VB(t,e){return XR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}async function UB(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends d_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,n,"signInWithPassword",MB);case"emailLink":return FB(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,r,"signUpPassword",OB);case"emailLink":return UB(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e){return af(t,"POST","/v1/accounts:signInWithIdp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="http://localhost";class vl extends d_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new vl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nc(e,n)}buildRequest(){const e={requestUri:zB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BB(t){const e=md(pd(t)).link,n=e?md(pd(e)).deep_link_id:null,r=md(pd(t)).deep_link_id;return(r?md(pd(r)).link:null)||r||n||e||t}class h_{constructor(e){const n=md(pd(e)),r=n.apiKey??null,s=n.oobCode??null,i=$B(n.mode??null);Ce(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BB(e);try{return new h_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=h_.parseLink(n);return Ce(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends f_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends of{constructor(){super("facebook.com")}static credential(e){return vl._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends of{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vl._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends of{constructor(){super("github.com")}static credential(e){return vl._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends of{constructor(){super("twitter.com")}static credential(e,n){return vl._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e){return af(t,"POST","/v1/accounts:signUp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ps._fromIdTokenResponse(e,r,s),o=iN(r);return new xl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=iN(r);return new xl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function iN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends gi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Lp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Lp(e,n,r,s)}}function JR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Lp._fromErrorAndOperation(t,i,e,r):i})}async function qB(t,e,n=!1){const r=await yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(Vi(r));const s="reauthenticate";try{const i=await yl(t,JR(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const o=c_(i.idToken);Ce(o,r,"internal-error");const{sub:l}=o;return Ce(t.uid===l,r,"user-mismatch"),xl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&es(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e,n=!1){if(hr(t.app))return Promise.reject(Vi(t));const r="signIn",s=await JR(t,r,e),i=await xl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function KB(t,e){return tP(la(t),e)}async function WB(t,e){return eP(kt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GB(t,e,n){const r=la(t);await Mp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VB)}async function QB(t,e,n){if(hr(t.app))return Promise.reject(Vi(t));const r=la(t),o=await Mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&nP(t),c}),l=await xl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function YB(t,e,n){return hr(t.app)?Promise.reject(Vi(t)):KB(kt(t),Rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nP(t),r})}async function ZB(t,e){const n=kt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await LB(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t,e){return Ps(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await yl(r,XB(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function e8(t,e){return t8(kt(t),null,e)}async function t8(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const o=await yl(t,DB(r,i));await t._updateTokensIfNecessary(o,!0)}function n8(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function r8(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function s8(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function m_(t){return kt(t).signOut()}const Vp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vp,"1"),this.storage.removeItem(Vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=1e3,a8=10;class sP extends rP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,a8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sP.type="LOCAL";const o8=sP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP extends rP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iP.type="SESSION";const aP=iP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await l8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=p_("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function u8(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function d8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function f8(){return oP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="firebaseLocalStorageDb",m8=1,Fp="firebaseLocalStorage",cP="fbase_key";class lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qg(t,e){return t.transaction([Fp],e?"readwrite":"readonly").objectStore(Fp)}function p8(){const t=indexedDB.deleteDatabase(lP);return new lf(t).toPromise()}function Dw(){const t=indexedDB.open(lP,m8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fp,{keyPath:cP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fp)?e(r):(r.close(),await p8(),e(await Dw()))})})}async function aN(t,e,n){const r=Qg(t,!0).put({[cP]:e,value:n});return new lf(r).toPromise()}async function g8(t,e){const n=Qg(t,!1).get(e),r=await new lf(n).toPromise();return r===void 0?null:r.value}function oN(t,e){const n=Qg(t,!0).delete(e);return new lf(n).toPromise()}const y8=800,v8=3;class uP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>v8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(f8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await d8(),!this.activeServiceWorker)return;this.sender=new c8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dw();return await aN(e,Vp,"1"),await oN(e,Vp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Qg(s,!1).getAll();return new lf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uP.type="LOCAL";const x8=uP;new sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e){return e?Mi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends d_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w8(t){return tP(t.auth,new g_(t),t.bypassAuthState)}function b8(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),eP(n,new g_(t),t.bypassAuthState)}async function _8(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),qB(n,new g_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w8;case"linkViaPopup":case"linkViaRedirect":return _8;case"reauthViaPopup":case"reauthViaRedirect":return b8;default:es(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=new sf(2e3,1e4);async function E8(t,e,n){if(hr(t.app))return Promise.reject(ks(t,"operation-not-supported-in-this-environment"));const r=la(t);Q$(t,e,f_);const s=dP(r,n);return new Uo(r,"signInViaPopup",e,s).executeNotNull()}class Uo extends hP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k8.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="pendingRedirect",Mm=new Map;class N8 extends hP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mm.get(this.auth._key());if(!e){try{const r=await S8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mm.set(this.auth._key(),e)}return this.bypassAuthState||Mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S8(t,e){const n=j8(e),r=C8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function I8(t,e){Mm.set(t._key(),e)}function C8(t){return Mi(t._redirectPersistence)}function j8(t){return Om(T8,t.config.apiKey,t.name)}async function A8(t,e,n=!1){if(hr(t.app))return Promise.reject(Vi(t));const r=la(t),s=dP(r,e),o=await new N8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=10*60*1e3;class P8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R8&&this.cachedEventUids.clear(),this.cachedEventUids.has(lN(e))}saveEventToCache(e){this.cachedEventUids.add(lN(e)),this.lastProcessedEventTime=Date.now()}}function lN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e={}){return Ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L8=/^https?/;async function V8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O8(t);for(const n of e)try{if(F8(n))return}catch{}es(t,"unauthorized-domain")}function F8(t){const e=Rw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!L8.test(n))return!1;if(M8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=new sf(3e4,6e4);function cN(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function z8(t){return new Promise((e,n)=>{var s,i,o;function r(){cN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cN(),n(ks(t,"network-request-failed"))},timeout:U8.get()})}if((i=(s=ni().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ni().gapi)!=null&&o.load)r();else{const l=EB("iframefcb");return ni()[l]=()=>{gapi.load?r():n(ks(t,"network-request-failed"))},QR(`${kB()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Lm=null,e})}let Lm=null;function $8(t){return Lm=Lm||z8(t),Lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=new sf(5e3,15e3),H8="__/auth/iframe",q8="emulator/auth/iframe",K8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G8(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l_(e,q8):`https://${t.config.authDomain}/${H8}`,r={apiKey:e.apiKey,appName:t.name,v:Al},s=W8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${rf(r).slice(1)}`}async function Q8(t){const e=await $8(t),n=ni().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:G8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ks(t,"network-request-failed"),l=ni().setTimeout(()=>{i(o)},B8.get());function c(){ni().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z8=500,X8=600,J8="_blank",e7="http://localhost";class uN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t7(t,e,n,r=Z8,s=X8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...Y8,width:r.toString(),height:s.toString(),top:i,left:o},u=Bn().toLowerCase();n&&(l=$R(u)?J8:n),UR(u)&&(e=e||e7,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[v,w])=>`${m}${v}=${w},`,"");if(mB(u)&&l!=="_self")return n7(e||"",l),new uN(null);const f=window.open(e||"",l,h);Ce(f,t,"popup-blocked");try{f.focus()}catch{}return new uN(f)}function n7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="__/auth/handler",s7="emulator/auth/handler",i7=encodeURIComponent("fac");async function dN(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:s};if(e instanceof f_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",O9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof of){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${i7}=${encodeURIComponent(c)}`:"";return`${a7(t)}?${rf(l).slice(1)}${u}`}function a7({config:t}){return t.emulator?l_(t,s7):`https://${t.authDomain}/${r7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="webStorageSupport";class o7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aP,this._completeRedirectFn=A8,this._overrideRedirectResult=I8}async _openPopup(e,n,r,s){var o;Ji((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await dN(e,n,r,Rw(),s);return t7(e,i,p_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await dN(e,n,r,Rw(),s);return u8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ji(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Q8(e),r=new P8(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uv,{type:Uv},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Uv];i!==void 0&&n(!!i),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WR()||zR()||u_()}}const l7=o7;var hN="@firebase/auth",fN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d7(t){gl(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GR(t)},u=new wB(r,s,i,c);return jB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gl(new oo("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new c7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(hN,fN,u7(t)),ti(hN,fN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=5*60,f7=NR("authIdTokenMaxAge")||h7;let mN=null;const m7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f7)return;const s=n==null?void 0:n.token;mN!==s&&(mN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p7(t=i_()){const e=Kg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CB(t,{popupRedirectResolver:l7,persistence:[x8,o8,aP]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=m7(i.toString());r8(n,o,()=>o(n.currentUser)),n8(n,l=>o(l))}}const s=kR("auth");return s&&AB(n,`http://${s}`),n}function g7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}bB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ks("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",g7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d7("Browser");var y7="firebase",v7="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(y7,v7,"app");var pN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,mP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function E(){}E.prototype=N.prototype,I.D=N.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(S,j,R){for(var A=Array(arguments.length-2),B=2;B<arguments.length;B++)A[B-2]=arguments[B];return N.prototype[j].apply(S,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,N,E){E||(E=0);var S=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)S[j]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(j=0;16>j;++j)S[j]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=I.g[0],E=I.g[1],j=I.g[2];var R=I.g[3],A=N+(R^E&(j^R))+S[0]+3614090360&4294967295;N=E+(A<<7&4294967295|A>>>25),A=R+(j^N&(E^j))+S[1]+3905402710&4294967295,R=N+(A<<12&4294967295|A>>>20),A=j+(E^R&(N^E))+S[2]+606105819&4294967295,j=R+(A<<17&4294967295|A>>>15),A=E+(N^j&(R^N))+S[3]+3250441966&4294967295,E=j+(A<<22&4294967295|A>>>10),A=N+(R^E&(j^R))+S[4]+4118548399&4294967295,N=E+(A<<7&4294967295|A>>>25),A=R+(j^N&(E^j))+S[5]+1200080426&4294967295,R=N+(A<<12&4294967295|A>>>20),A=j+(E^R&(N^E))+S[6]+2821735955&4294967295,j=R+(A<<17&4294967295|A>>>15),A=E+(N^j&(R^N))+S[7]+4249261313&4294967295,E=j+(A<<22&4294967295|A>>>10),A=N+(R^E&(j^R))+S[8]+1770035416&4294967295,N=E+(A<<7&4294967295|A>>>25),A=R+(j^N&(E^j))+S[9]+2336552879&4294967295,R=N+(A<<12&4294967295|A>>>20),A=j+(E^R&(N^E))+S[10]+4294925233&4294967295,j=R+(A<<17&4294967295|A>>>15),A=E+(N^j&(R^N))+S[11]+2304563134&4294967295,E=j+(A<<22&4294967295|A>>>10),A=N+(R^E&(j^R))+S[12]+1804603682&4294967295,N=E+(A<<7&4294967295|A>>>25),A=R+(j^N&(E^j))+S[13]+4254626195&4294967295,R=N+(A<<12&4294967295|A>>>20),A=j+(E^R&(N^E))+S[14]+2792965006&4294967295,j=R+(A<<17&4294967295|A>>>15),A=E+(N^j&(R^N))+S[15]+1236535329&4294967295,E=j+(A<<22&4294967295|A>>>10),A=N+(j^R&(E^j))+S[1]+4129170786&4294967295,N=E+(A<<5&4294967295|A>>>27),A=R+(E^j&(N^E))+S[6]+3225465664&4294967295,R=N+(A<<9&4294967295|A>>>23),A=j+(N^E&(R^N))+S[11]+643717713&4294967295,j=R+(A<<14&4294967295|A>>>18),A=E+(R^N&(j^R))+S[0]+3921069994&4294967295,E=j+(A<<20&4294967295|A>>>12),A=N+(j^R&(E^j))+S[5]+3593408605&4294967295,N=E+(A<<5&4294967295|A>>>27),A=R+(E^j&(N^E))+S[10]+38016083&4294967295,R=N+(A<<9&4294967295|A>>>23),A=j+(N^E&(R^N))+S[15]+3634488961&4294967295,j=R+(A<<14&4294967295|A>>>18),A=E+(R^N&(j^R))+S[4]+3889429448&4294967295,E=j+(A<<20&4294967295|A>>>12),A=N+(j^R&(E^j))+S[9]+568446438&4294967295,N=E+(A<<5&4294967295|A>>>27),A=R+(E^j&(N^E))+S[14]+3275163606&4294967295,R=N+(A<<9&4294967295|A>>>23),A=j+(N^E&(R^N))+S[3]+4107603335&4294967295,j=R+(A<<14&4294967295|A>>>18),A=E+(R^N&(j^R))+S[8]+1163531501&4294967295,E=j+(A<<20&4294967295|A>>>12),A=N+(j^R&(E^j))+S[13]+2850285829&4294967295,N=E+(A<<5&4294967295|A>>>27),A=R+(E^j&(N^E))+S[2]+4243563512&4294967295,R=N+(A<<9&4294967295|A>>>23),A=j+(N^E&(R^N))+S[7]+1735328473&4294967295,j=R+(A<<14&4294967295|A>>>18),A=E+(R^N&(j^R))+S[12]+2368359562&4294967295,E=j+(A<<20&4294967295|A>>>12),A=N+(E^j^R)+S[5]+4294588738&4294967295,N=E+(A<<4&4294967295|A>>>28),A=R+(N^E^j)+S[8]+2272392833&4294967295,R=N+(A<<11&4294967295|A>>>21),A=j+(R^N^E)+S[11]+1839030562&4294967295,j=R+(A<<16&4294967295|A>>>16),A=E+(j^R^N)+S[14]+4259657740&4294967295,E=j+(A<<23&4294967295|A>>>9),A=N+(E^j^R)+S[1]+2763975236&4294967295,N=E+(A<<4&4294967295|A>>>28),A=R+(N^E^j)+S[4]+1272893353&4294967295,R=N+(A<<11&4294967295|A>>>21),A=j+(R^N^E)+S[7]+4139469664&4294967295,j=R+(A<<16&4294967295|A>>>16),A=E+(j^R^N)+S[10]+3200236656&4294967295,E=j+(A<<23&4294967295|A>>>9),A=N+(E^j^R)+S[13]+681279174&4294967295,N=E+(A<<4&4294967295|A>>>28),A=R+(N^E^j)+S[0]+3936430074&4294967295,R=N+(A<<11&4294967295|A>>>21),A=j+(R^N^E)+S[3]+3572445317&4294967295,j=R+(A<<16&4294967295|A>>>16),A=E+(j^R^N)+S[6]+76029189&4294967295,E=j+(A<<23&4294967295|A>>>9),A=N+(E^j^R)+S[9]+3654602809&4294967295,N=E+(A<<4&4294967295|A>>>28),A=R+(N^E^j)+S[12]+3873151461&4294967295,R=N+(A<<11&4294967295|A>>>21),A=j+(R^N^E)+S[15]+530742520&4294967295,j=R+(A<<16&4294967295|A>>>16),A=E+(j^R^N)+S[2]+3299628645&4294967295,E=j+(A<<23&4294967295|A>>>9),A=N+(j^(E|~R))+S[0]+4096336452&4294967295,N=E+(A<<6&4294967295|A>>>26),A=R+(E^(N|~j))+S[7]+1126891415&4294967295,R=N+(A<<10&4294967295|A>>>22),A=j+(N^(R|~E))+S[14]+2878612391&4294967295,j=R+(A<<15&4294967295|A>>>17),A=E+(R^(j|~N))+S[5]+4237533241&4294967295,E=j+(A<<21&4294967295|A>>>11),A=N+(j^(E|~R))+S[12]+1700485571&4294967295,N=E+(A<<6&4294967295|A>>>26),A=R+(E^(N|~j))+S[3]+2399980690&4294967295,R=N+(A<<10&4294967295|A>>>22),A=j+(N^(R|~E))+S[10]+4293915773&4294967295,j=R+(A<<15&4294967295|A>>>17),A=E+(R^(j|~N))+S[1]+2240044497&4294967295,E=j+(A<<21&4294967295|A>>>11),A=N+(j^(E|~R))+S[8]+1873313359&4294967295,N=E+(A<<6&4294967295|A>>>26),A=R+(E^(N|~j))+S[15]+4264355552&4294967295,R=N+(A<<10&4294967295|A>>>22),A=j+(N^(R|~E))+S[6]+2734768916&4294967295,j=R+(A<<15&4294967295|A>>>17),A=E+(R^(j|~N))+S[13]+1309151649&4294967295,E=j+(A<<21&4294967295|A>>>11),A=N+(j^(E|~R))+S[4]+4149444226&4294967295,N=E+(A<<6&4294967295|A>>>26),A=R+(E^(N|~j))+S[11]+3174756917&4294967295,R=N+(A<<10&4294967295|A>>>22),A=j+(N^(R|~E))+S[2]+718787259&4294967295,j=R+(A<<15&4294967295|A>>>17),A=E+(R^(j|~N))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(j+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,N){N===void 0&&(N=I.length);for(var E=N-this.blockSize,S=this.B,j=this.h,R=0;R<N;){if(j==0)for(;R<=E;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<N;)if(S[j++]=I.charCodeAt(R++),j==this.blockSize){s(this,S),j=0;break}}else for(;R<N;)if(S[j++]=I[R++],j==this.blockSize){s(this,S),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;var E=8*this.o;for(N=I.length-8;N<I.length;++N)I[N]=E&255,E/=256;for(this.u(I),I=Array(16),N=E=0;4>N;++N)for(var S=0;32>S;S+=8)I[E++]=this.g[N]>>>S&255;return I};function i(I,N){var E=l;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=N(I)}function o(I,N){this.h=N;for(var E=[],S=!0,j=I.length-1;0<=j;j--){var R=I[j]|0;S&&R==N||(E[j]=R,S=!1)}this.g=E}var l={};function c(I){return-128<=I&&128>I?i(I,function(N){return new o([N|0],0>N?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return k(u(-I));for(var N=[],E=1,S=0;I>=E;S++)N[S]=I/E|0,E*=4294967296;return new o(N,0)}function h(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return k(h(I.substring(1),N));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(N,8)),S=f,j=0;j<I.length;j+=8){var R=Math.min(8,I.length-j),A=parseInt(I.substring(j,j+R),N);8>R?(R=u(Math.pow(N,R)),S=S.j(R).add(u(A))):(S=S.j(E),S=S.add(u(A)))}return S}var f=c(0),m=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-k(this).m();for(var I=0,N=1,E=0;E<this.g.length;E++){var S=this.i(E);I+=(0<=S?S:4294967296+S)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(x(this))return"-"+k(this).toString(I);for(var N=u(Math.pow(I,6)),E=this,S="";;){var j=C(E,N).g;E=_(E,j.j(N));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=j,w(E))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=_(this,I),x(I)?-1:w(I)?0:1};function k(I){for(var N=I.g.length,E=[],S=0;S<N;S++)E[S]=~I.g[S];return new o(E,~I.h).add(m)}t.abs=function(){return x(this)?k(this):this},t.add=function(I){for(var N=Math.max(this.g.length,I.g.length),E=[],S=0,j=0;j<=N;j++){var R=S+(this.i(j)&65535)+(I.i(j)&65535),A=(R>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);S=A>>>16,R&=65535,A&=65535,E[j]=A<<16|R}return new o(E,E[E.length-1]&-2147483648?-1:0)};function _(I,N){return I.add(k(N))}t.j=function(I){if(w(this)||w(I))return f;if(x(this))return x(I)?k(this).j(k(I)):k(k(this).j(I));if(x(I))return k(this.j(k(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var N=this.g.length+I.g.length,E=[],S=0;S<2*N;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var j=0;j<I.g.length;j++){var R=this.i(S)>>>16,A=this.i(S)&65535,B=I.i(j)>>>16,X=I.i(j)&65535;E[2*S+2*j]+=A*X,g(E,2*S+2*j),E[2*S+2*j+1]+=R*X,g(E,2*S+2*j+1),E[2*S+2*j+1]+=A*B,g(E,2*S+2*j+1),E[2*S+2*j+2]+=R*B,g(E,2*S+2*j+2)}for(S=0;S<N;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=N;S<2*N;S++)E[S]=0;return new o(E,0)};function g(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function b(I,N){this.g=I,this.h=N}function C(I,N){if(w(N))throw Error("division by zero");if(w(I))return new b(f,f);if(x(I))return N=C(k(I),N),new b(k(N.g),k(N.h));if(x(N))return N=C(I,k(N)),new b(k(N.g),N.h);if(30<I.g.length){if(x(I)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var E=m,S=N;0>=S.l(I);)E=D(E),S=D(S);var j=O(E,1),R=O(S,1);for(S=O(S,2),E=O(E,2);!w(S);){var A=R.add(S);0>=A.l(I)&&(j=j.add(E),R=A),S=O(S,1),E=O(E,1)}return N=_(I,j.j(N)),new b(j,N)}for(j=f;0<=I.l(N);){for(E=Math.max(1,Math.floor(I.m()/N.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=u(E),A=R.j(N);x(A)||0<A.l(I);)E-=S,R=u(E),A=R.j(N);w(R)&&(R=m),j=j.add(R),I=_(I,A)}return new b(j,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var N=Math.max(this.g.length,I.g.length),E=[],S=0;S<N;S++)E[S]=this.i(S)&I.i(S);return new o(E,this.h&I.h)},t.or=function(I){for(var N=Math.max(this.g.length,I.g.length),E=[],S=0;S<N;S++)E[S]=this.i(S)|I.i(S);return new o(E,this.h|I.h)},t.xor=function(I){for(var N=Math.max(this.g.length,I.g.length),E=[],S=0;S<N;S++)E[S]=this.i(S)^I.i(S);return new o(E,this.h^I.h)};function D(I){for(var N=I.g.length+1,E=[],S=0;S<N;S++)E[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(E,I.h)}function O(I,N){var E=N>>5;N%=32;for(var S=I.g.length-E,j=[],R=0;R<S;R++)j[R]=0<N?I.i(R+E)>>>N|I.i(R+E+1)<<32-N:I.i(R+E);return new o(j,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Xa=o}).apply(typeof pN<"u"?pN:typeof self<"u"?self:typeof window<"u"?window:{});var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pP,gd,gP,Vm,Ow,yP,vP,xP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof im=="object"&&im];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,y){if(y)e:{var T=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var V=d[P];if(!(V in T))break e;T=T[V]}d=d[d.length-1],P=T[d],y=y(P),y!=P&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function i(d,y){d instanceof String&&(d+="");var T=0,P=!1,V={next:function(){if(!P&&T<d.length){var K=T++;return{value:y(K,d[K]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(d){return d||function(){return i(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function h(d,y,T){return d.call.apply(d.bind,arguments)}function f(d,y,T){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),d.apply(y,V)}}return function(){return d.apply(y,arguments)}}function m(d,y,T){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function v(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function w(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(P,V,K){for(var ie=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)ie[_t-2]=arguments[_t];return y.prototype[V].apply(P,ie)}}function x(d){const y=d.length;if(0<y){const T=Array(y);for(let P=0;P<y;P++)T[P]=d[P];return T}return[]}function k(d,y){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(c(P)){const V=d.length||0,K=P.length||0;d.length=V+K;for(let ie=0;ie<K;ie++)d[V+ie]=P[ie]}else d.push(P)}}class _{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function g(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(d,y,T){for(const P in d)y.call(T,d[P],P,d)}function I(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function N(d){const y={};for(const T in d)y[T]=d[T];return y}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,y){let T,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(T in P)d[T]=P[T];for(let K=0;K<E.length;K++)T=E[K],Object.prototype.hasOwnProperty.call(P,T)&&(d[T]=P[T])}}function j(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function R(d){l.setTimeout(()=>{throw d},0)}function A(){var d=H;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,T){const P=X.get();P.set(y,T),this.h?this.h.next=P:this.g=P,this.h=P}}var X=new _(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,z=!1,H=new B,ne=()=>{const d=l.Promise.resolve(void 0);ae=()=>{d.then(xe)}};var xe=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(T){R(T)}var y=X;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}z=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};l.addEventListener("test",T,y),l.removeEventListener("test",T,y)}catch{}return d}();function yt(d,y){if(Ie.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(D){e:{try{C(y.nodeName);var V=!0;break e}catch{}V=!1}V||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ht[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&yt.aa.h.call(this)}}w(yt,Ie);var ht={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),st=0;function He(d,y,T,P,V){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!P,this.ha=V,this.key=++st,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,y,T,P,V){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ie=Ue(d,y,P,V);return-1<ie?(y=d[ie],T||(y.fa=!1)):(y=new He(y,this.src,K,!!P,V),y.fa=T,d.push(y)),y};function Re(d,y){var T=y.type;if(T in d.g){var P=d.g[T],V=Array.prototype.indexOf.call(P,y,void 0),K;(K=0<=V)&&Array.prototype.splice.call(P,V,1),K&&($(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ue(d,y,T,P){for(var V=0;V<d.length;++V){var K=d[V];if(!K.da&&K.listener==y&&K.capture==!!T&&K.ha==P)return V}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),ln={};function An(d,y,T,P,V){if(Array.isArray(y)){for(var K=0;K<y.length;K++)An(d,y[K],T,P,V);return null}return T=le(T),d&&d[me]?d.K(y,T,u(P)?!!P.capture:!!P,V):Wn(d,y,T,!1,P,V)}function Wn(d,y,T,P,V,K){if(!y)throw Error("Invalid event type");var ie=u(V)?!!V.capture:!!V,_t=U(d);if(_t||(d[Ye]=_t=new de(d)),T=_t.add(y,T,P,ie,K),T.proxy)return T;if(P=ca(),T.proxy=P,P.src=d,P.listener=T,d.addEventListener)Je||(V=ie),V===void 0&&(V=!1),d.addEventListener(y.toString(),P,V);else if(d.attachEvent)d.attachEvent(Co(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ca(){function d(T){return y.call(d.src,d.listener,T)}const y=M;return d}function ns(d,y,T,P,V){if(Array.isArray(y))for(var K=0;K<y.length;K++)ns(d,y[K],T,P,V);else P=u(P)?!!P.capture:!!P,T=le(T),d&&d[me]?(d=d.i,y=String(y).toString(),y in d.g&&(K=d.g[y],T=Ue(K,T,P,V),-1<T&&($(K[T]),Array.prototype.splice.call(K,T,1),K.length==0&&(delete d.g[y],d.h--)))):d&&(d=U(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Ue(y,T,P,V)),(T=-1<d?y[d]:null)&&Ms(T))}function Ms(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[me])Re(y.i,d);else{var T=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(T,P,d.capture):y.detachEvent?y.detachEvent(Co(T),P):y.addListener&&y.removeListener&&y.removeListener(P),(T=U(y))?(Re(T,d),T.h==0&&(T.src=null,y[Ye]=null)):$(d)}}}function Co(d){return d in ln?ln[d]:ln[d]="on"+d}function M(d,y){if(d.da)d=!0;else{y=new yt(y,this);var T=d.listener,P=d.ha||d.src;d.fa&&Ms(d),d=T.call(P,y)}return d}function U(d){return d=d[Ye],d instanceof de?d:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(d){return typeof d=="function"?d:(d[G]||(d[G]=function(y){return d.handleEvent(y)}),d[G])}function ee(){be.call(this),this.i=new de(this),this.M=this,this.F=null}w(ee,be),ee.prototype[me]=!0,ee.prototype.removeEventListener=function(d,y,T,P){ns(this,d,y,T,P)};function Z(d,y){var T,P=d.F;if(P)for(T=[];P;P=P.F)T.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new Ie(y,d);else if(y instanceof Ie)y.target=y.target||d;else{var V=y;y=new Ie(P,d),S(y,V)}if(V=!0,T)for(var K=T.length-1;0<=K;K--){var ie=y.g=T[K];V=pe(ie,P,!0,y)&&V}if(ie=y.g=d,V=pe(ie,P,!0,y)&&V,V=pe(ie,P,!1,y)&&V,T)for(K=0;K<T.length;K++)ie=y.g=T[K],V=pe(ie,P,!1,y)&&V}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],P=0;P<T.length;P++)$(T[P]);delete d.g[y],d.h--}}this.F=null},ee.prototype.K=function(d,y,T,P){return this.i.add(String(d),y,!1,T,P)},ee.prototype.L=function(d,y,T,P){return this.i.add(String(d),y,!0,T,P)};function pe(d,y,T,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var V=!0,K=0;K<y.length;++K){var ie=y[K];if(ie&&!ie.da&&ie.capture==T){var _t=ie.listener,bn=ie.ha||ie.src;ie.fa&&Re(d.i,ie),V=_t.call(bn,P)!==!1&&V}}return V&&!P.defaultPrevented}function Qe(d,y,T){if(typeof d=="function")T&&(d=m(d,T));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(d,y||0)}function F(d){d.g=Qe(()=>{d.g=null,d.i&&(d.i=!1,F(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Ve extends be{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:F(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(d){be.call(this),this.h=d,this.g={}}w(vt,be);var it=[];function Pe(d){O(d.g,function(y,T){this.g.hasOwnProperty(T)&&Ms(y)},d),d.g={}}vt.prototype.N=function(){vt.aa.N.call(this),Pe(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=l.JSON.stringify,wr=l.JSON.parse,Lr=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Vl(){}Vl.prototype.h=null;function n1(d){return d.h||(d.h=d.i())}function r1(){}var Du={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vy(){Ie.call(this,"d")}w(Vy,Ie);function Fy(){Ie.call(this,"c")}w(Fy,Ie);var jo={},s1=null;function wf(){return s1=s1||new ee}jo.La="serverreachability";function i1(d){Ie.call(this,jo.La,d)}w(i1,Ie);function Ou(d){const y=wf();Z(y,new i1(y))}jo.STAT_EVENT="statevent";function a1(d,y){Ie.call(this,jo.STAT_EVENT,d),this.stat=y}w(a1,Ie);function Gn(d){const y=wf();Z(y,new a1(y,d))}jo.Ma="timingevent";function o1(d,y){Ie.call(this,jo.Ma,d),this.size=y}w(o1,Ie);function Mu(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},y)}function Lu(){this.g=!0}Lu.prototype.xa=function(){this.g=!1};function GL(d,y,T,P,V,K){d.info(function(){if(d.g)if(K)for(var ie="",_t=K.split("&"),bn=0;bn<_t.length;bn++){var ut=_t[bn].split("=");if(1<ut.length){var Rn=ut[0];ut=ut[1];var Pn=Rn.split("_");ie=2<=Pn.length&&Pn[1]=="type"?ie+(Rn+"="+ut+"&"):ie+(Rn+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+y+`
`+T+`
`+ie})}function QL(d,y,T,P,V,K,ie){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+y+`
`+T+`
`+K+" "+ie})}function Fl(d,y,T,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+ZL(d,T)+(P?" "+P:"")})}function YL(d,y){d.info(function(){return"TIMEOUT: "+y})}Lu.prototype.info=function(){};function ZL(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var P=T[d];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var K=V[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<V.length;ie++)V[ie]=""}}}}return or(T)}catch{return y}}var bf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},l1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uy;function _f(){}w(_f,Vl),_f.prototype.g=function(){return new XMLHttpRequest},_f.prototype.i=function(){return{}},Uy=new _f;function ua(d,y,T,P){this.j=d,this.i=y,this.l=T,this.R=P||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c1}function c1(){this.i=null,this.g="",this.h=!1}var u1={},zy={};function $y(d,y,T){d.L=1,d.v=Nf(vi(y)),d.m=T,d.P=!0,d1(d,null)}function d1(d,y){d.F=Date.now(),kf(d),d.A=vi(d.v);var T=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),T1(T.i,"t",P),d.C=0,T=d.j.J,d.h=new c1,d.g=B1(d.j,T?y:null,!d.m),0<d.O&&(d.M=new Ve(m(d.Y,d,d.g),d.O)),y=d.U,T=d.g,P=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(it[0]=V.toString()),V=it);for(var K=0;K<V.length;K++){var ie=An(T,V[K],P||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ou(),GL(d.i,d.u,d.A,d.l,d.R,d.m)}ua.prototype.ca=function(d){d=d.target;const y=this.M;y&&xi(d)==3?y.j():this.Y(d)},ua.prototype.Y=function(d){try{if(d==this.g)e:{const Pn=xi(this.g);var y=this.g.Ba();const $l=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||R1(this.g)))){this.J||Pn!=4||y==7||(y==8||0>=$l?Ou(3):Ou(2)),By(this);var T=this.g.Z();this.X=T;t:if(h1(this)){var P=R1(this.g);d="";var V=P.length,K=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),Vu(this);var ie="";break t}this.h.i=new l.TextDecoder}for(y=0;y<V;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(K&&y==V-1)});P.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=T==200,QL(this.i,this.u,this.A,this.l,this.R,Pn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,bn=this.g;if((_t=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(_t)){var ut=_t;break t}}ut=null}if(T=ut)Fl(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hy(this,T);else{this.o=!1,this.s=3,Gn(12),Ao(this),Vu(this);break e}}if(this.P){T=!0;let rs;for(;!this.J&&this.C<ie.length;)if(rs=XL(this,ie),rs==zy){Pn==4&&(this.s=4,Gn(14),T=!1),Fl(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==u1){this.s=4,Gn(15),Fl(this.i,this.l,ie,"[Invalid Chunk]"),T=!1;break}else Fl(this.i,this.l,rs,null),Hy(this,rs);if(h1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||ie.length!=0||this.h.h||(this.s=1,Gn(16),T=!1),this.o=this.o&&T,!T)Fl(this.i,this.l,ie,"[Invalid Chunked Response]"),Ao(this),Vu(this);else if(0<ie.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Yy(Rn),Rn.M=!0,Gn(11))}}else Fl(this.i,this.l,ie,null),Hy(this,ie);Pn==4&&Ao(this),this.o&&!this.J&&(Pn==4?F1(this.j,this):(this.o=!1,kf(this)))}else pV(this.g),T==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),Ao(this),Vu(this)}}}catch{}finally{}};function h1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function XL(d,y){var T=d.C,P=y.indexOf(`
`,T);return P==-1?zy:(T=Number(y.substring(T,P)),isNaN(T)?u1:(P+=1,P+T>y.length?zy:(y=y.slice(P,P+T),d.C=P+T,y)))}ua.prototype.cancel=function(){this.J=!0,Ao(this)};function kf(d){d.S=Date.now()+d.I,f1(d,d.I)}function f1(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Mu(m(d.ba,d),y)}function By(d){d.B&&(l.clearTimeout(d.B),d.B=null)}ua.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(YL(this.i,this.A),this.L!=2&&(Ou(),Gn(17)),Ao(this),this.s=2,Vu(this)):f1(this,this.S-d)};function Vu(d){d.j.G==0||d.J||F1(d.j,d)}function Ao(d){By(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Pe(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Hy(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||qy(T.h,d))){if(!d.K&&qy(T.h,d)&&T.G==3){try{var P=T.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Rf(T),jf(T);else break e;Qy(T),Gn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=Mu(m(T.Za,T),6e3));if(1>=g1(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Po(T,11)}else if((d.K||T.g==d)&&Rf(T),!g(y))for(V=T.Da.g.parse(y),y=0;y<V.length;y++){let ut=V[y];if(T.T=ut[0],ut=ut[1],T.G==2)if(ut[0]=="c"){T.K=ut[1],T.ia=ut[2];const Rn=ut[3];Rn!=null&&(T.la=Rn,T.j.info("VER="+T.la));const Pn=ut[4];Pn!=null&&(T.Aa=Pn,T.j.info("SVER="+T.Aa));const $l=ut[5];$l!=null&&typeof $l=="number"&&0<$l&&(P=1.5*$l,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const rs=d.g;if(rs){const Df=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Df){var K=P.h;K.g||Df.indexOf("spdy")==-1&&Df.indexOf("quic")==-1&&Df.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ky(K,K.h),K.h=null))}if(P.D){const Zy=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Zy&&(P.ya=Zy,St(P.I,P.D,Zy))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var ie=d;if(P.qa=$1(P,P.J?P.ia:null,P.W),ie.K){y1(P.h,ie);var _t=ie,bn=P.L;bn&&(_t.I=bn),_t.B&&(By(_t),kf(_t)),P.g=ie}else L1(P);0<T.i.length&&Af(T)}else ut[0]!="stop"&&ut[0]!="close"||Po(T,7);else T.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Po(T,7):Gy(T):ut[0]!="noop"&&T.l&&T.l.ta(ut),T.v=0)}}Ou(4)}catch{}}var JL=class{constructor(d,y){this.g=d,this.map=y}};function m1(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function g1(d){return d.h?1:d.g?d.g.size:0}function qy(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ky(d,y){d.g?d.g.add(y):d.h=y}function y1(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}m1.prototype.cancel=function(){if(this.i=v1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function v1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return x(d.i)}function eV(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var y=[],T=d.length,P=0;P<T;P++)y.push(d[P]);return y}y=[],T=0;for(P in d)y[T++]=d[P];return y}function tV(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const P in d)y[T++]=P;return y}}}function x1(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=tV(d),P=eV(d),V=P.length,K=0;K<V;K++)y.call(void 0,P[K],T&&T[K],d)}var w1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nV(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var P=d[T].indexOf("="),V=null;if(0<=P){var K=d[T].substring(0,P);V=d[T].substring(P+1)}else K=d[T];y(K,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ro(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ro){this.h=d.h,Ef(this,d.j),this.o=d.o,this.g=d.g,Tf(this,d.s),this.l=d.l;var y=d.i,T=new zu;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),b1(this,T),this.m=d.m}else d&&(y=String(d).match(w1))?(this.h=!1,Ef(this,y[1]||"",!0),this.o=Fu(y[2]||""),this.g=Fu(y[3]||"",!0),Tf(this,y[4]),this.l=Fu(y[5]||"",!0),b1(this,y[6]||"",!0),this.m=Fu(y[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}Ro.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Uu(y,_1,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Uu(y,_1,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Uu(T,T.charAt(0)=="/"?iV:sV,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Uu(T,oV)),d.join("")};function vi(d){return new Ro(d)}function Ef(d,y,T){d.j=T?Fu(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Tf(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function b1(d,y,T){y instanceof zu?(d.i=y,lV(d.i,d.h)):(T||(y=Uu(y,aV)),d.i=new zu(y,d.h))}function St(d,y,T){d.i.set(y,T)}function Nf(d){return St(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fu(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Uu(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,rV),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function rV(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _1=/[#\/\?@]/g,sV=/[#\?:]/g,iV=/[#\?]/g,aV=/[#\?@]/g,oV=/#/g;function zu(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function da(d){d.g||(d.g=new Map,d.h=0,d.i&&nV(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=zu.prototype,t.add=function(d,y){da(this),this.i=null,d=Ul(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function k1(d,y){da(d),y=Ul(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function E1(d,y){return da(d),y=Ul(d,y),d.g.has(y)}t.forEach=function(d,y){da(this),this.g.forEach(function(T,P){T.forEach(function(V){d.call(y,V,P,this)},this)},this)},t.na=function(){da(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let P=0;P<y.length;P++){const V=d[P];for(let K=0;K<V.length;K++)T.push(y[P])}return T},t.V=function(d){da(this);let y=[];if(typeof d=="string")E1(this,d)&&(y=y.concat(this.g.get(Ul(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},t.set=function(d,y){return da(this),this.i=null,d=Ul(this,d),E1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function T1(d,y,T){k1(d,y),0<T.length&&(d.i=null,d.g.set(Ul(d,y),x(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var P=y[T];const K=encodeURIComponent(String(P)),ie=this.V(P);for(P=0;P<ie.length;P++){var V=K;ie[P]!==""&&(V+="="+encodeURIComponent(String(ie[P]))),d.push(V)}}return this.i=d.join("&")};function Ul(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function lV(d,y){y&&!d.j&&(da(d),d.i=null,d.g.forEach(function(T,P){var V=P.toLowerCase();P!=V&&(k1(this,P),T1(this,V,T))},d)),d.j=y}function cV(d,y){const T=new Lu;if(l.Image){const P=new Image;P.onload=v(ha,T,"TestLoadImage: loaded",!0,y,P),P.onerror=v(ha,T,"TestLoadImage: error",!1,y,P),P.onabort=v(ha,T,"TestLoadImage: abort",!1,y,P),P.ontimeout=v(ha,T,"TestLoadImage: timeout",!1,y,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function uV(d,y){const T=new Lu,P=new AbortController,V=setTimeout(()=>{P.abort(),ha(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(K=>{clearTimeout(V),K.ok?ha(T,"TestPingServer: ok",!0,y):ha(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(V),ha(T,"TestPingServer: error",!1,y)})}function ha(d,y,T,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(T)}catch{}}function dV(){this.g=new Lr}function hV(d,y,T){const P=T||"";try{x1(d,function(V,K){let ie=V;u(V)&&(ie=or(V)),y.push(P+K+"="+encodeURIComponent(ie))})}catch(V){throw y.push(P+"type="+encodeURIComponent("_badmap")),V}}function Sf(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Sf,Vl),Sf.prototype.g=function(){return new If(this.l,this.j)},Sf.prototype.i=function(d){return function(){return d}}({});function If(d,y){ee.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(If,ee),t=If.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Bu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$u(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Bu(this)),this.g&&(this.readyState=3,Bu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function N1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?$u(this):Bu(this),this.readyState==3&&N1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,$u(this))},t.Qa=function(d){this.g&&(this.response=d,$u(this))},t.ga=function(){this.g&&$u(this)};function $u(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Bu(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Bu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(If.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function S1(d){let y="";return O(d,function(T,P){y+=P,y+=":",y+=T,y+=`\r
`}),y}function Wy(d,y,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=S1(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):St(d,y,T))}function qt(d){ee.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(qt,ee);var fV=/^https?$/i,mV=["POST","PUT"];t=qt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uy.g(),this.v=this.o?n1(this.o):n1(Uy),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(K){I1(this,K);return}if(d=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)T.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const K of P.keys())T.set(K,P.get(K));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),V=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mV,y,void 0))||P||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of T)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{A1(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){I1(this,K)}};function I1(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,C1(d),Cf(d)}function C1(d){d.A||(d.A=!0,Z(d,"complete"),Z(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Z(this,"complete"),Z(this,"abort"),Cf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cf(this,!0)),qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?j1(this):this.bb())},t.bb=function(){j1(this)};function j1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||xi(d)!=4||d.Z()!=2)){if(d.u&&xi(d)==4)Qe(d.Ea,0,d);else if(Z(d,"readystatechange"),xi(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var P;if(P=ie===0){var V=String(d.D).match(w1)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),P=!fV.test(V?V.toLowerCase():"")}T=P}if(T)Z(d,"complete"),Z(d,"success");else{d.m=6;try{var K=2<xi(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",C1(d)}}finally{Cf(d)}}}}function Cf(d,y){if(d.g){A1(d);const T=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Z(d,"ready");try{T.onreadystatechange=P}catch{}}}function A1(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function xi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),wr(y)}};function R1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function pV(d){const y={};d=(d.g&&2<=xi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(g(d[P]))continue;var T=j(d[P]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=y[V]||[];y[V]=K,K.push(T)}I(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hu(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function P1(d){this.Aa=0,this.i=[],this.j=new Lu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hu("baseRetryDelayMs",5e3,d),this.cb=Hu("retryDelaySeedMs",1e4,d),this.Wa=Hu("forwardChannelMaxRetries",2,d),this.wa=Hu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new m1(d&&d.concurrentRequestLimit),this.Da=new dV,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=P1.prototype,t.la=8,t.G=1,t.connect=function(d,y,T,P){Gn(0),this.W=d,this.H=y||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=$1(this,null,this.W),Af(this)};function Gy(d){if(D1(d),d.G==3){var y=d.U++,T=vi(d.I);if(St(T,"SID",d.K),St(T,"RID",y),St(T,"TYPE","terminate"),qu(d,T),y=new ua(d,d.j,y),y.L=2,y.v=Nf(vi(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=y.v,T=!0),T||(y.g=B1(y.j,null),y.g.ea(y.v)),y.F=Date.now(),kf(y)}z1(d)}function jf(d){d.g&&(Yy(d),d.g.cancel(),d.g=null)}function D1(d){jf(d),d.u&&(l.clearTimeout(d.u),d.u=null),Rf(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Af(d){if(!p1(d.h)&&!d.s){d.s=!0;var y=d.Ga;ae||ne(),z||(ae(),z=!0),H.add(y,d),d.B=0}}function gV(d,y){return g1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Mu(m(d.Ga,d,y),U1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new ua(this,this.j,d);let K=this.o;if(this.S&&(K?(K=N(K),S(K,this.S)):K=this.S),this.m!==null||this.O||(V.H=K,K=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=M1(this,V,y),T=vi(this.I),St(T,"RID",d),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),qu(this,T),K&&(this.O?y="headers="+encodeURIComponent(String(S1(K)))+"&"+y:this.m&&Wy(T,this.m,K)),Ky(this.h,V),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",y),St(T,"SID","null"),V.T=!0,$y(V,T,null)):$y(V,T,y),this.G=2}}else this.G==3&&(d?O1(this,d):this.i.length==0||p1(this.h)||O1(this))};function O1(d,y){var T;y?T=y.l:T=d.U++;const P=vi(d.I);St(P,"SID",d.K),St(P,"RID",T),St(P,"AID",d.T),qu(d,P),d.m&&d.o&&Wy(P,d.m,d.o),T=new ua(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=M1(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ky(d.h,T),$y(T,P,y)}function qu(d,y){d.H&&O(d.H,function(T,P){St(y,P,T)}),d.l&&x1({},function(T,P){St(y,P,T)})}function M1(d,y,T){T=Math.min(d.i.length,T);var P=d.l?m(d.l.Na,d.l,d):null;e:{var V=d.i;let K=-1;for(;;){const ie=["count="+T];K==-1?0<T?(K=V[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let _t=!0;for(let bn=0;bn<T;bn++){let ut=V[bn].g;const Rn=V[bn].map;if(ut-=K,0>ut)K=Math.max(0,V[bn].g-100),_t=!1;else try{hV(Rn,ie,"req"+ut+"_")}catch{P&&P(Rn)}}if(_t){P=ie.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,P}function L1(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ae||ne(),z||(ae(),z=!0),H.add(y,d),d.v=0}}function Qy(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Mu(m(d.Fa,d),U1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,V1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Mu(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gn(10),jf(this),V1(this))};function Yy(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function V1(d){d.g=new ua(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=vi(d.qa);St(y,"RID","rpc"),St(y,"SID",d.K),St(y,"AID",d.T),St(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&St(y,"TO",d.ja),St(y,"TYPE","xmlhttp"),qu(d,y),d.m&&d.o&&Wy(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Nf(vi(y)),T.m=null,T.P=!0,d1(T,d)}t.Za=function(){this.C!=null&&(this.C=null,jf(this),Qy(this),Gn(19))};function Rf(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function F1(d,y){var T=null;if(d.g==y){Rf(d),Yy(d),d.g=null;var P=2}else if(qy(d.h,y))T=y.D,y1(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var V=d.B;P=wf(),Z(P,new o1(P,T)),Af(d)}else L1(d);else if(V=y.s,V==3||V==0&&0<y.X||!(P==1&&gV(d,y)||P==2&&Qy(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),V){case 1:Po(d,5);break;case 4:Po(d,10);break;case 3:Po(d,6);break;default:Po(d,2)}}}function U1(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Po(d,y){if(d.j.info("Error code "+y),y==2){var T=m(d.fb,d),P=d.Xa;const V=!P;P=new Ro(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ef(P,"https"),Nf(P),V?cV(P.toString(),T):uV(P.toString(),T)}else Gn(2);d.G=0,d.l&&d.l.sa(y),z1(d),D1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Gn(2)):(this.j.info("Failed to ping google.com"),Gn(1))};function z1(d){if(d.G=0,d.ka=[],d.l){const y=v1(d.h);(y.length!=0||d.i.length!=0)&&(k(d.ka,y),k(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function $1(d,y,T){var P=T instanceof Ro?vi(T):new Ro(T);if(P.g!="")y&&(P.g=y+"."+P.g),Tf(P,P.s);else{var V=l.location;P=V.protocol,y=y?y+"."+V.hostname:V.hostname,V=+V.port;var K=new Ro(null);P&&Ef(K,P),y&&(K.g=y),V&&Tf(K,V),T&&(K.l=T),P=K}return T=d.D,y=d.ya,T&&y&&St(P,T,y),St(P,"VER",d.la),qu(d,P),P}function B1(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new qt(new Sf({eb:T})):new qt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H1(){}t=H1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pf(){}Pf.prototype.g=function(d,y){return new br(d,y)};function br(d,y){ee.call(this),this.g=new P1(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!g(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!g(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new zl(this)}w(br,ee),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Gy(this.g)},br.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=or(d),d=T);y.i.push(new JL(y.Ya++,d)),y.G==3&&Af(y)},br.prototype.N=function(){this.g.l=null,delete this.j,Gy(this.g),delete this.g,br.aa.N.call(this)};function q1(d){Vy.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}w(q1,Vy);function K1(){Fy.call(this),this.status=1}w(K1,Fy);function zl(d){this.g=d}w(zl,H1),zl.prototype.ua=function(){Z(this.g,"a")},zl.prototype.ta=function(d){Z(this.g,new q1(d))},zl.prototype.sa=function(d){Z(this.g,new K1)},zl.prototype.ra=function(){Z(this.g,"b")},Pf.prototype.createWebChannel=Pf.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,xP=function(){return new Pf},vP=function(){return wf()},yP=jo,Ow={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bf.NO_ERROR=0,bf.TIMEOUT=8,bf.HTTP_ERROR=6,Vm=bf,l1.COMPLETE="complete",gP=l1,r1.EventType=Du,Du.OPEN="a",Du.CLOSE="b",Du.ERROR="c",Du.MESSAGE="d",ee.prototype.listen=ee.prototype.K,gd=r1,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,pP=qt}).apply(typeof im<"u"?im:typeof self<"u"?self:typeof window<"u"?window:{});const gN="@firebase/firestore",yN="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new r_("@firebase/firestore");function Ql(){return wl.logLevel}function ve(t,...e){if(wl.logLevel<=et.DEBUG){const n=e.map(y_);wl.debug(`Firestore (${Nu}): ${t}`,...n)}}function ea(t,...e){if(wl.logLevel<=et.ERROR){const n=e.map(y_);wl.error(`Firestore (${Nu}): ${t}`,...n)}}function nu(t,...e){if(wl.logLevel<=et.WARN){const n=e.map(y_);wl.warn(`Firestore (${Nu}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wP(t,r,n)}function wP(t,e,n){let r=`FIRESTORE (${Nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ea(r),new Error(r)}function gt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||wP(e,s,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class w7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b7{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new bP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class _7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const r=i=>{i.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=T7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Mw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return zv(s)===zv(i)?nt(s,i):zv(s)?1:-1}return nt(t.length,e.length)}const N7=55296,S7=57343;function zv(t){const e=t.charCodeAt(0);return e>=N7&&e<=S7}function ru(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="__name__";class Fs{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Fs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return nt(e.length,n.length)}static compareSegments(e,n){const r=Fs.isNumericId(e),s=Fs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):Mw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class Et extends Fs{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const I7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Fs{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return I7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xN}static keyField(){return new Nn([xN])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Et.fromString(e))}static fromName(e){return new Te(Et.fromString(e).popFirst(5))}static empty(){return new Te(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t,e,n){if(!n)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C7(t,e,n,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wN(t){if(!Te.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bN(t){if(Te.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yg(t);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function cf(t,e){if(!kP(t))throw new ue(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ue(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=-62135596800,kN=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kN);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_N)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kN}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cf(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_N;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:on("string",Ze._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ze(0,0))}static max(){return new Me(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function j7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new lo(s,Te.empty(),e)}function A7(t){return new lo(t.readTime,t.key,ph)}class lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lo(Me.min(),Te.empty(),ph)}static max(){return new lo(Me.max(),Te.empty(),ph)}}function R7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==P7)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new Y((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function O7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-1;function Xg(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function M7(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="";function L7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EN(e)),e=V7(t.get(n),e);return EN(e)}function V7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case EP:n+="";break;default:n+=i}}return n}function EN(t){return t+EP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new am(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new am(this.root,e,this.comparator,!1)}getReverseIterator(){return new am(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new am(this.root,e,this.comparator,!0)}}class am{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=s??Tn.EMPTY,this.right=i??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NN(this.data.getIterator())}getIteratorFrom(e){return new NN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class NN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new mn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NP("Invalid base64 string: "+i):i}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const F7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=F7.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="server_timestamp",IP="__type__",CP="__previous_value__",jP="__local_write_time__";function w_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IP])==null?void 0:r.stringValue)===SP}function Jg(t){const e=t.mapValue.fields[CP];return w_(e)?Jg(e):e}function gh(t){const e=co(t.mapValue.fields[jP].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,n,r,s,i,o,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const zp="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||zp}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===zp}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="__type__",RP="__max__",om={mapValue:{fields:{__type__:{stringValue:RP}}}},PP="__vector__",$p="value";function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w_(t)?4:$7(t)?9007199254740991:z7(t)?10:11:je(28295,{value:t})}function hi(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=co(s.timestampValue),l=co(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return uo(s.bytesValue).isEqual(uo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Xt(s.geoPointValue.latitude)===Xt(i.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xt(s.integerValue)===Xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Xt(s.doubleValue),l=Xt(i.doubleValue);return o===l?Up(o)===Up(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ru(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(TN(o)!==TN(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!hi(o[c],l[c])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function vh(t,e){return(t.values||[]).find(n=>hi(n,e))!==void 0}function su(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Xt(i.integerValue||i.doubleValue),c=Xt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return SN(t.timestampValue,e.timestampValue);case 4:return SN(gh(t),gh(e));case 5:return Mw(t.stringValue,e.stringValue);case 6:return function(i,o){const l=uo(i),c=uo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=nt(l[u],c[u]);if(h!==0)return h}return nt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=nt(Xt(i.latitude),Xt(o.latitude));return l!==0?l:nt(Xt(i.longitude),Xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IN(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,v,w,x;const l=i.fields||{},c=o.fields||{},u=(m=l[$p])==null?void 0:m.arrayValue,h=(v=c[$p])==null?void 0:v.arrayValue,f=nt(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:IN(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===om.mapValue&&o===om.mapValue)return 0;if(i===om.mapValue)return 1;if(o===om.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Mw(c[f],h[f]);if(m!==0)return m;const v=su(l[c[f]],u[h[f]]);if(v!==0)return v}return nt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function SN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=co(t),r=co(e),s=nt(n.seconds,r.seconds);return s!==0?s:nt(n.nanos,r.nanos)}function IN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=su(n[s],r[s]);if(i)return i}return nt(n.length,r.length)}function iu(t){return Lw(t)}function Lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Lw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Lw(n.fields[o])}`;return s+"}"}(t.mapValue):je(61005,{value:t})}function Fm(t){switch(ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jg(t);return e?16+Fm(e):16;case 5:return 2*t.stringValue.length;case 6:return uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Fm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Eo(r.fields,(i,o)=>{s+=i.length+Fm(o)}),s}(t.mapValue);default:throw je(13486,{value:t})}}function CN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vw(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function jN(t){return!!t&&"nullValue"in t}function AN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Um(t){return!!t&&"mapValue"in t}function z7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AP])==null?void 0:r.stringValue)===PP}function Vd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vd(t.arrayValue.values[n]);return e}return{...t}}function $7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(n)}setAll(e){let n=Nn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Vd(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Um(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Eo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fr(Vd(this.value))}}function DP(t){const e=[];return Eo(t.fields,(n,r)=>{const s=new Nn([n]);if(Um(r)){const i=DP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Un(e,0,Me.min(),Me.min(),Me.min(),fr.empty(),0)}static newFoundDocument(e,n,r,s){return new Un(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new Un(e,2,n,Me.min(),Me.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Me.min(),Me.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.position=e,this.inclusive=n}}function RN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Te.comparator(Te.fromName(o.referenceValue),n.key):r=su(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function PN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function B7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{}class an extends OP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new q7(e,n,r):n==="array-contains"?new G7(e,r):n==="in"?new Q7(e,r):n==="not-in"?new Y7(e,r):n==="array-contains-any"?new Z7(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K7(e,r):new W7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(su(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(su(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends OP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Is(e,n)}matches(e){return MP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MP(t){return t.op==="and"}function LP(t){return H7(t)&&MP(t)}function H7(t){for(const e of t.filters)if(e instanceof Is)return!1;return!0}function Fw(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+iu(t.value);if(LP(t))return t.filters.map(e=>Fw(e)).join(",");{const e=t.filters.map(n=>Fw(n)).join(",");return`${t.op}(${e})`}}function VP(t,e){return t instanceof an?function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&hi(r.value,s.value)}(t,e):t instanceof Is?function(r,s){return s instanceof Is&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&VP(o,s.filters[l]),!0):!1}(t,e):void je(19439)}function FP(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${iu(n.value)}`}(t):t instanceof Is?function(n){return n.op.toString()+" {"+n.getFilters().map(FP).join(" ,")+"}"}(t):"Filter"}class q7 extends an{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class K7 extends an{constructor(e,n){super(e,"in",n),this.keys=UP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W7 extends an{constructor(e,n){super(e,"not-in",n),this.keys=UP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class G7 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&vh(n.arrayValue,this.value)}}class Q7 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vh(this.value.arrayValue,n)}}class Y7 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vh(this.value.arrayValue,n)}}class Z7 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function DN(t,e=null,n=[],r=[],s=null,i=null,o=null){return new X7(t,e,n,r,s,i,o)}function __(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>iu(r)).join(",")),e.Te=n}return e.Te}function k_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PN(t.startAt,e.startAt)&&PN(t.endAt,e.endAt)}function Uw(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J7(t,e,n,r,s,i,o,l){return new Cu(t,e,n,r,s,i,o,l)}function ey(t){return new Cu(t)}function ON(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zP(t){return t.collectionGroup!==null}function Fd(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mn(Nn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new xh(i,r))}),n.has(Nn.keyField().canonicalString())||e.Ie.push(new xh(Nn.keyField(),r))}return e.Ie}function ri(t){const e=Fe(t);return e.Ee||(e.Ee=eH(e,Fd(t))),e.Ee}function eH(t,e){if(t.limitType==="F")return DN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new xh(s.field,i)});const n=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;return DN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zw(t,e){const n=t.filters.concat([e]);return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $w(t,e,n){return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ty(t,e){return k_(ri(t),ri(e))&&t.limitType===e.limitType}function $P(t){return`${__(ri(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>FP(s)).join(", ")}]`),Xg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>iu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>iu(s)).join(",")),`Target(${r})`}(ri(t))}; limitType=${t.limitType})`}function ny(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Fd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=RN(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Fd(r),s)||r.endAt&&!function(o,l,c){const u=RN(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Fd(r),s))}(t,e)}function tH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BP(t){return(e,n)=>{let r=!1;for(const s of Fd(t)){const i=nH(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nH(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?su(c,u):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return TP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=new Ht(Te.comparator);function ta(){return rH}const HP=new Ht(Te.comparator);function yd(...t){let e=HP;for(const n of t)e=e.insert(n.key,n);return e}function qP(t){let e=HP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return Ud()}function KP(){return Ud()}function Ud(){return new Pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const sH=new Ht(Te.comparator),iH=new mn(Te.comparator);function rt(...t){let e=iH;for(const n of t)e=e.add(n);return e}const aH=new mn(nt);function oH(){return aH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function WP(t){return{integerValue:""+t}}function lH(t,e){return M7(e)?WP(e):E_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this._=void 0}}function cH(t,e,n){return t instanceof wh?function(s,i){const o={fields:{[IP]:{stringValue:SP},[jP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&w_(i)&&(i=Jg(i)),i&&(o.fields[CP]=i),{mapValue:o}}(n,e):t instanceof bh?QP(t,e):t instanceof _h?YP(t,e):function(s,i){const o=GP(s,i),l=MN(o)+MN(s.Ae);return Vw(o)&&Vw(s.Ae)?WP(l):E_(s.serializer,l)}(t,e)}function uH(t,e,n){return t instanceof bh?QP(t,e):t instanceof _h?YP(t,e):n}function GP(t,e){return t instanceof Hp?function(r){return Vw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class wh extends ry{}class bh extends ry{constructor(e){super(),this.elements=e}}function QP(t,e){const n=ZP(e);for(const r of t.elements)n.some(s=>hi(s,r))||n.push(r);return{arrayValue:{values:n}}}class _h extends ry{constructor(e){super(),this.elements=e}}function YP(t,e){let n=ZP(e);for(const r of t.elements)n=n.filter(s=>!hi(s,r));return{arrayValue:{values:n}}}class Hp extends ry{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MN(t){return Xt(t.integerValue||t.doubleValue)}function ZP(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n){this.field=e,this.transform=n}}function hH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof bh&&s instanceof bh||r instanceof _h&&s instanceof _h?ru(r.elements,s.elements,hi):r instanceof Hp&&s instanceof Hp?hi(r.Ae,s.Ae):r instanceof wh&&s instanceof wh}(t.transform,e.transform)}class fH{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sy{}function XP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T_(t.key,Yr.none()):new uf(t.key,t.data,Yr.none());{const n=t.data,r=fr.empty();let s=new mn(Nn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new To(t.key,r,new Ir(s.toArray()),Yr.none())}}function mH(t,e,n){t instanceof uf?function(s,i,o){const l=s.value.clone(),c=VN(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof To?function(s,i,o){if(!zm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=VN(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(JP(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zd(t,e,n,r){return t instanceof uf?function(i,o,l,c){if(!zm(i.precondition,o))return l;const u=i.value.clone(),h=FN(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(i,o,l,c){if(!zm(i.precondition,o))return l;const u=FN(i.fieldTransforms,c,o),h=o.data;return h.setAll(JP(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return zm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function pH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GP(r.transform,s||null);i!=null&&(n===null&&(n=fr.empty()),n.set(r.field,i))}return n||null}function LN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ru(r,s,(i,o)=>hH(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uf extends sy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class To extends sy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VN(t,e,n){const r=new Map;gt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,uH(o,l,n[s]))}return r}function FN(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,cH(i,o,e))}return r}class T_ extends sy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gH extends sy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&mH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=XP(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(n,r)=>LN(n,r))&&ru(this.baseMutations,e.baseMutations,(n,r)=>LN(n,r))}}class N_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return sH}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new N_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vH=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,ot;function wH(t){switch(t){case Q.OK:return je(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function e2(t){if(t===void 0)return ea("GRPC error has no .code"),Q.UNKNOWN;switch(t){case rn.OK:return Q.OK;case rn.CANCELLED:return Q.CANCELLED;case rn.UNKNOWN:return Q.UNKNOWN;case rn.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case rn.INTERNAL:return Q.INTERNAL;case rn.UNAVAILABLE:return Q.UNAVAILABLE;case rn.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case rn.NOT_FOUND:return Q.NOT_FOUND;case rn.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case rn.ABORTED:return Q.ABORTED;case rn.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case rn.DATA_LOSS:return Q.DATA_LOSS;default:return je(39323,{code:t})}}(ot=rn||(rn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new Xa([4294967295,4294967295],0);function UN(t){const e=bH().encode(t),n=new mP;return n.update(e),new Uint8Array(n.digest())}function zN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([s,i],0)]}class S_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vd(`Invalid padding: ${n}`);if(r<0)throw new vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xa.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Xa.fromNumber(r)));return s.compare(_H)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=UN(e),[r,s]=zN(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new S_(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=UN(e),[r,s]=zN(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new iy(Me.min(),s,new Ht(nt),ta(),rt())}}class df{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new df(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class t2{constructor(e,n){this.targetId=e,this.Ce=n}}class n2{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $N{constructor(){this.ve=0,this.Fe=BN(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:i})}}),new df(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kH{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=lm(),this.He=lm(),this.Ye=new Ht(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Uw(i))if(r===0){const o=new Te(i.path);this.et(n,o,Un.newNoDocument(o,Me.min()))}else gt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=uo(r).toUint8Array()}catch(c){if(c instanceof NP)return nu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new S_(o,s,i)}catch(c){return nu(c instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Uw(l.target)){const c=new Te(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Un.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=rt();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new iy(e,n,this.Ye,this.je,r);return this.je=ta(),this.Je=lm(),this.He=lm(),this.Ye=new Ht(nt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $N,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $N),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lm(){return new Ht(Te.comparator)}function BN(){return new Ht(Te.comparator)}const EH={asc:"ASCENDING",desc:"DESCENDING"},TH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"};class SH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bw(t,e){return t.useProto3Json||Xg(e)?e:{value:e}}function qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IH(t,e){return qp(t,e.toTimestamp())}function si(t){return gt(!!t,49232),Me.fromTimestamp(function(n){const r=co(n);return new Ze(r.seconds,r.nanos)}(t))}function I_(t,e){return Hw(t,e).canonicalString()}function Hw(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function s2(t){const e=Et.fromString(t);return gt(c2(e),10190,{key:e.toString()}),e}function qw(t,e){return I_(t.databaseId,e.path)}function $v(t,e){const n=s2(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(a2(n))}function i2(t,e){return I_(t.databaseId,e)}function CH(t){const e=s2(t);return e.length===4?Et.emptyPath():a2(e)}function Kw(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a2(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HN(t,e,n){return{name:qw(t,e),fields:n.value.mapValue.fields}}function jH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:je(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(gt(h===void 0||typeof h=="string",58123),Cn.fromBase64String(h||"")):(gt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Cn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?Q.UNKNOWN:e2(u.code);return new ue(h,u.message||"")}(o);n=new n2(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$v(t,r.document.name),i=si(r.document.updateTime),o=r.document.createTime?si(r.document.createTime):Me.min(),l=new fr({mapValue:{fields:r.document.fields}}),c=Un.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new $m(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$v(t,r.document),i=r.readTime?si(r.readTime):Me.min(),o=Un.newNoDocument(s,i),l=r.removedTargetIds||[];n=new $m([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$v(t,r.document),i=r.removedTargetIds||[];n=new $m([],i,s,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new xH(s,i),l=r.targetId;n=new t2(l,o)}}return n}function AH(t,e){let n;if(e instanceof uf)n={update:HN(t,e.key,e.value)};else if(e instanceof T_)n={delete:qw(t,e.key)};else if(e instanceof To)n={update:HN(t,e.key,e.data),updateMask:UH(e.fieldMask)};else{if(!(e instanceof gH))return je(16599,{Vt:e.type});n={verify:qw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof wh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof _h)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hp)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw je(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:IH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:je(27497)}(t,e.precondition)),n}function RH(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?si(s.updateTime):si(i);return o.isEqual(Me.min())&&(o=si(i)),new fH(o,s.transformResults||[])}(n,e))):[]}function PH(t,e){return{documents:[i2(t,e.path)]}}function DH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i2(t,s);const i=function(u){if(u.length!==0)return l2(Is.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Zl(m.field),direction:LH(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Bw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function OH(t){let e=CH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){gt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=o2(f);return m instanceof Is&&LP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new xh(Xl(w.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Xg(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,v=f.values||[];return new Bp(v,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,v=f.values||[];return new Bp(v,m)}(n.endAt)),J7(e,s,o,i,l,"F",c,u)}function MH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xl(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xl(n.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xl(n.unaryFilter.field);return an.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return an.create(Xl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Is.create(n.compositeFilter.filters.map(r=>o2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function LH(t){return EH[t]}function VH(t){return TH[t]}function FH(t){return NH[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function Xl(t){return Nn.fromServerFormat(t.fieldPath)}function l2(t){return t instanceof an?function(n){if(n.op==="=="){if(AN(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(jN(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AN(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(jN(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:VH(n.op),value:n.value}}}(t):t instanceof Is?function(n){const r=n.getFilters().map(s=>l2(s));return r.length===1?r[0]:{compositeFilter:{op:FH(n.op),filters:r}}}(t):je(54877,{filter:t})}function UH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function c2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,s,i=Me.min(),o=Me.min(),l=Cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.yt=e}}function $H(t){const e=OH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$w(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.Cn=new HH}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(lo.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class HH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mn(Et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u2=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(u2,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new au(0)}static cr(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="LruGarbageCollector",qH=1048576;function WN([t,e],[n,r]){const s=nt(t,n);return s===0?nt(e,r):s}class KH{constructor(e){this.Ir=e,this.buffer=new mn(WN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(KN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Iu(n)?ve(KN,"Ignoring IndexedDB error during garbage collection: ",n):await Su(n)}await this.Vr(3e5)})}}class GH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Zg.ce);const r=new KH(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(qN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qN):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ql()<=et.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function QH(t,e){return new GH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this.changes=new Pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zd(r.mutation,s,Ir.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const s=zo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=yd();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ta();const o=Ud(),l=function(){return Ud()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof To)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),zd(h.mutation,u,h.mutation.getFieldMask(),Ze.now())):o.set(u.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>l.set(u,new ZH(h,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ud();let s=new Ht((o,l)=>o-l),i=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Ir.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||rt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=KP();h.forEach(m=>{if(!i.has(m)){const v=XP(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Y.resolve(zo());let l=ph,c=i;return o.next(u=>Y.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?Y.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,rt())).next(h=>({batchId:l,changes:qP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=yd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=yd();return this.indexManager.getCollectionParents(e,i).next(l=>Y.forEach(l,c=>{const u=function(f,m){return new Cu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Un.newInvalidDocument(h)))});let l=yd();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&zd(h.mutation,u,Ir.empty(),Ze.now()),ny(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:si(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:$H(s.bundledQuery),readTime:si(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(){this.overlays=new Ht(Te.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return Y.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=zo(),i=n.length+1,o=new Te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ht((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=zo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=zo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return Y.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vH(n,r));let i=this.qr.get(n);i===void 0&&(i=rt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.Qr=new mn(gn.$r),this.Ur=new mn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Te(new Et([])),r=new gn(n,e),s=new gn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new Et([])),r=new gn(n,e),s=new gn(n,e+1);let i=rt();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mn(gn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yH(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new gn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?x_:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),s=new gn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(nt);return n.forEach(s=>{const i=new gn(s,0),o=new gn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Te.isDocumentKey(i)||(i=i.child(""));const o=new gn(new Te(i),0);let l=new mn(nt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},o),Y.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,s=>{const i=new gn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new gn(n,0),s=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e){this.ri=e,this.docs=function(){return new Ht(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=ta();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Un.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ta();const o=n.path,l=new Te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||R7(A7(h),r)<=0||(s.has(h.key)||ny(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,n,r,s){je(9500)}ii(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sq(this)}getSize(e){return Y.resolve(this.size)}}class sq extends YH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.persistence=e,this.si=new Pl(n=>__(n),k_),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new C_,this.targetCount=0,this.ai=au.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new au(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Y.waitFor(i).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Y.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zg(0),this.li=!1,this.li=!0,this.hi=new tq,this.referenceDelegate=e(this),this.Pi=new iq(this),this.indexManager=new BH,this.remoteDocumentCache=function(s){return new rq(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new zH(n),this.Ii=new JH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new nq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const s=new aq(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class aq extends D7{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.Ri=new C_,this.Vi=null}static mi(e){return new j_(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const s=Te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Me.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kp{constructor(e,n){this.persistence=e,this.pi=new Pl(r=>L7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=QH(this,n)}static mi(e,n){return new Kp(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?Y.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,Me.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fm(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=rt(),s=rt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new A_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return C9()?8:O7(Bn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new oq;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ql()<=et.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ql()<=et.DEBUG&&ve("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ql()<=et.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):Y.resolve())}ys(e,n){if(ON(n))return Y.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$w(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=rt(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,o,c.readTime)?this.ys(e,$w(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return ON(n)||s.isEqual(Me.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Y.resolve(null):(Ql()<=et.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yl(n)),this.vs(e,o,n,j7(s,ph)).next(l=>l))})}Ds(e,n){let r=new mn(BP(e));return n.forEach((s,i)=>{ny(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ql()<=et.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.ps.getDocumentsMatchingQuery(e,n,lo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LocalStore",cq=3e8;class uq{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ht(nt),this.xs=new Pl(i=>__(i),k_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function dq(t,e,n,r){return new uq(t,e,n,r)}async function h2(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=rt();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function hq(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let v=Y.resolve();return m.forEach(w=>{v=v.next(()=>h.getEntry(c,w)).next(x=>{const k=u.docVersions.get(w);gt(k!==null,48541),x.version.compareTo(k)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=rt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function f2(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function fq(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Cn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(x,k,_){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=cq?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,v,h)&&l.push(n.Pi.updateTargetData(i,v))});let c=ta(),u=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(mq(i,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(Me.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return Y.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function mq(t,e,n){let r=rt(),s=rt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ta();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ve(R_,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function pq(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=x_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gq(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,Y.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new za(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ww(t,e,n){const r=Fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Iu(o))throw o;ve(R_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function GN(t,e,n){const r=Fe(t);let s=Me.min(),i=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=Fe(c),m=f.xs.get(h);return m!==void 0?Y.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,o,ri(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?i:rt())).next(l=>(yq(r,tH(e),l),{documents:l,Qs:i})))}function yq(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class QN{constructor(){this.activeTargetIds=oH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vq{constructor(){this.Mo=new QN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new QN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="ConnectivityMonitor";class ZN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(YN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(YN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm=null;function Gw(){return cm===null?cm=function(){return 268435456+Math.round(2147483648*Math.random())}():cm++,"0x"+cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="RestConnection",wq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===zp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Gw(),l=this.zo(e,n.toUriEncodedString());ve(Bv,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),h=ko(u);return this.Jo(e,l,c,r,h).then(f=>(ve(Bv,`Received RPC '${e}' ${o}: `,f),f),f=>{throw nu(Bv,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=wq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class kq extends bq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Gw();return new Promise((l,c)=>{const u=new pP;u.setWithCredentials(!0),u.listenOnce(gP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vm.NO_ERROR:const f=u.getResponseJson();ve(Mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Vm.TIMEOUT:ve(Mn,`RPC '${e}' ${o} timed out`),c(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Vm.HTTP_ERROR:const m=u.getStatus();if(ve(Mn,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const x=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(g)>=0?g:Q.UNKNOWN}(w.status);c(new ue(x,w.message))}else c(new ue(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ve(Mn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ve(Mn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Gw(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xP(),l=vP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ve(Mn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,v=!1;const w=new _q({Yo:k=>{v?ve(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(m||(ve(Mn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ve(Mn,`RPC '${e}' stream ${s} sending:`,k),f.send(k))},Zo:()=>f.close()}),x=(k,_,g)=>{k.listen(_,b=>{try{g(b)}catch(C){setTimeout(()=>{throw C},0)}})};return x(f,gd.EventType.OPEN,()=>{v||(ve(Mn,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),x(f,gd.EventType.CLOSE,()=>{v||(v=!0,ve(Mn,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(f))}),x(f,gd.EventType.ERROR,k=>{v||(v=!0,nu(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),w.a_(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),x(f,gd.EventType.MESSAGE,k=>{var _;if(!v){const g=k.data[0];gt(!!g,16349);const b=g,C=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(C){ve(Mn,`RPC '${e}' stream ${s} received error:`,C);const D=C.status;let O=function(E){const S=rn[E];if(S!==void 0)return e2(S)}(D),I=C.message;O===void 0&&(O=Q.INTERNAL,I="Unknown error status: "+D+" with message "+C.message),v=!0,w.a_(new ue(O,I)),f.close()}else ve(Mn,`RPC '${e}' stream ${s} received:`,g),w.u_(g)}}),x(l,yP.STAT_EVENT,k=>{k.stat===Ow.PROXY?ve(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Ow.NOPROXY&&ve(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){return new SH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="PersistentStream";class p2{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ea(n.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ve(XN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ve(XN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eq extends p2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jH(this.serializer,e),r=function(i){if(!("targetChange"in i))return Me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?si(o.readTime):Me.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Kw(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Uw(c)?{documents:PH(i,c)}:{query:DH(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=r2(i,o.resumeToken);const u=Bw(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Me.min())>0){l.readTime=qp(i,o.snapshotVersion.toTimestamp());const u=Bw(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=MH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Kw(this.serializer),n.removeTarget=e,this.q_(n)}}class Tq extends p2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RH(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Kw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AH(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{}class Sq extends Nq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Hw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(Q.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Hw(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Q.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Iq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ea(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class Cq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Dl(this)&&(ve(bl,"Restarting streams for network reachability change."),await async function(c){const u=Fe(c);u.Ea.add(4),await hf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await oy(u)}(this))})}),this.Ra=new Iq(r,s)}}async function oy(t){if(Dl(t))for(const e of t.da)await e(!0)}async function hf(t){for(const e of t.da)await e(!1)}function g2(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),M_(n)?O_(n):ju(n).O_()&&D_(n,e))}function P_(t,e){const n=Fe(t),r=ju(n);n.Ia.delete(e),r.O_()&&y2(n,e),n.Ia.size===0&&(r.O_()?r.L_():Dl(n)&&n.Ra.set("Unknown"))}function D_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ju(t).Y_(e)}function y2(t,e){t.Va.Ue(e),ju(t).Z_(e)}function O_(t){t.Va=new kH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ju(t).start(),t.Ra.ua()}function M_(t){return Dl(t)&&!ju(t).x_()&&t.Ia.size>0}function Dl(t){return Fe(t).Ea.size===0}function v2(t){t.Va=void 0}async function jq(t){t.Ra.set("Online")}async function Aq(t){t.Ia.forEach((e,n)=>{D_(t,e)})}async function Rq(t,e){v2(t),M_(t)?(t.Ra.ha(e),O_(t)):t.Ra.set("Unknown")}async function Pq(t,e,n){if(t.Ra.set("Online"),e instanceof n2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){ve(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wp(t,r)}else if(e instanceof $m?t.Va.Ze(e):e instanceof t2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await f2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Cn.EMPTY_BYTE_STRING,h.snapshotVersion)),y2(i,c);const f=new za(h.target,c,u,h.sequenceNumber);D_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ve(bl,"Failed to raise snapshot:",r),await Wp(t,r)}}async function Wp(t,e,n){if(!Iu(e))throw e;t.Ea.add(1),await hf(t),t.Ra.set("Offline"),n||(n=()=>f2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(bl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await oy(t)})}function x2(t,e){return e().catch(n=>Wp(t,n,e))}async function ly(t){const e=Fe(t),n=fo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:x_;for(;Dq(e);)try{const s=await pq(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Oq(e,s)}catch(s){await Wp(e,s)}w2(e)&&b2(e)}function Dq(t){return Dl(t)&&t.Ta.length<10}function Oq(t,e){t.Ta.push(e);const n=fo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function w2(t){return Dl(t)&&!fo(t).x_()&&t.Ta.length>0}function b2(t){fo(t).start()}async function Mq(t){fo(t).ra()}async function Lq(t){const e=fo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Vq(t,e,n){const r=t.Ta.shift(),s=N_.from(r,e,n);await x2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ly(t)}async function Fq(t,e){e&&fo(t).X_&&await async function(r,s){if(function(o){return wH(o)&&o!==Q.ABORTED}(s.code)){const i=r.Ta.shift();fo(r).B_(),await x2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ly(r)}}(t,e),w2(t)&&b2(t)}async function JN(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ve(bl,"RemoteStore received new credentials");const r=Dl(n);n.Ea.add(3),await hf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oy(n)}async function Uq(t,e){const n=Fe(t);e?(n.Ea.delete(2),await oy(n)):e||(n.Ea.add(2),await hf(n),n.Ra.set("Unknown"))}function ju(t){return t.ma||(t.ma=function(n,r,s){const i=Fe(n);return i.sa(),new Eq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:jq.bind(null,t),t_:Aq.bind(null,t),r_:Rq.bind(null,t),H_:Pq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),M_(t)?O_(t):t.Ra.set("Unknown")):(await t.ma.stop(),v2(t))})),t.ma}function fo(t){return t.fa||(t.fa=function(n,r,s){const i=Fe(n);return i.sa(),new Tq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mq.bind(null,t),r_:Fq.bind(null,t),ta:Lq.bind(null,t),na:Vq.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ly(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(bl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new L_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(t,e){if(ea("AsyncQueue",`${e}: ${t}`),Iu(t))return new ue(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{static emptySet(e){return new Sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=yd(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.ga=new Ht(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ou{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ou(e,n,Sc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ty(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $q{constructor(){this.queries=tS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Fe(n),i=s.queries;s.queries=tS(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function tS(){return new Pl(t=>$P(t),ty)}async function F_(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new zq,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=V_(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&z_(n)}async function U_(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bq(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&z_(n)}function Hq(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function z_(t){t.Ca.forEach(e=>{e.next()})}var Qw,nS;(nS=Qw||(Qw={})).Ma="default",nS.Cache="cache";class $_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.key=e}}class k2{constructor(e){this.key=e}}class qq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=BP(e),this.tu=new Sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eS,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),v=ny(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;m&&v?m.data.isEqual(v.data)?w!==x&&(r.track({type:3,doc:v}),k=!0):this.su(m,v)||(r.track({type:2,doc:v}),k=!0,(c&&this.eu(v,c)>0||u&&this.eu(v,u)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),k=!0):m&&!v&&(r.track({type:1,doc:m}),k=!0,(c||u)&&(l=!0)),k&&(v?(o=o.add(v),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,w){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:k})}};return x(v)-x(w)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ou(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new k2(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _2(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ou.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const B_="SyncEngine";class Kq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Wq{constructor(e){this.key=e,this.hu=!1}}class Gq{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Pl(l=>$P(l),ty),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Te.comparator),this.Au=new Map,this.Ru=new C_,this.Vu={},this.mu=new Map,this.fu=au.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qq(t,e,n=!0){const r=C2(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await E2(r,e,n,!0),s}async function Yq(t,e){const n=C2(t);await E2(n,e,!0,!1)}async function E2(t,e,n,r){const s=await gq(t.localStore,ri(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Zq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&g2(t.remoteStore,s),l}async function Zq(t,e,n,r,s){t.pu=(f,m,v)=>async function(x,k,_,g){let b=k.view.ru(_);b.Cs&&(b=await GN(x.localStore,k.query,!1).then(({documents:I})=>k.view.ru(I,b)));const C=g&&g.targetChanges.get(k.targetId),D=g&&g.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(b,x.isPrimaryClient,C,D);return sS(x,k.targetId,O.au),O.snapshot}(t,f,m,v);const i=await GN(t.localStore,e,!0),o=new qq(e,i.Qs),l=o.ru(i.documents),c=df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);sS(t,n,u.au);const h=new Kq(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Xq(t,e,n){const r=Fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ty(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ww(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&P_(r.remoteStore,s.targetId),Yw(r,s.targetId)}).catch(Su)):(Yw(r,s.targetId),await Ww(r.localStore,s.targetId,!0))}async function Jq(t,e){const n=Fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P_(n.remoteStore,r.targetId))}async function eK(t,e,n){const r=oK(t);try{const s=await function(o,l){const c=Fe(o),u=Ze.now(),h=l.reduce((v,w)=>v.add(w.key),rt());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=ta(),x=rt();return c.Ns.getEntries(v,h).next(k=>{w=k,w.forEach((_,g)=>{g.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,w)).next(k=>{f=k;const _=[];for(const g of l){const b=pH(g,f.get(g.key).overlayedDocument);b!=null&&_.push(new To(g.key,b,DP(b.value.mapValue),Yr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,_,l)}).next(k=>{m=k;const _=k.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(v,k.batchId,_)})}).then(()=>({batchId:m.batchId,changes:qP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ht(nt)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await ff(r,s.changes),await ly(r.remoteStore)}catch(s){const i=V_(s,"Failed to persist write");n.reject(i)}}async function T2(t,e){const n=Fe(t);try{const r=await fq(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?gt(o.hu,14607):s.removedDocuments.size>0&&(gt(o.hu,42227),o.hu=!1))}),await ff(n,r,e)}catch(r){await Su(r)}}function rS(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Fe(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&z_(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tK(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ht(Te.comparator);o=o.insert(i,Un.newNoDocument(i,Me.min()));const l=rt().add(i),c=new iy(Me.min(),new Map,new Ht(nt),o,l);await T2(r,c),r.du=r.du.remove(i),r.Au.delete(e),H_(r)}else await Ww(r.localStore,e,!1).then(()=>Yw(r,e,n)).catch(Su)}async function nK(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await hq(n.localStore,e);S2(n,r,null),N2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ff(n,s)}catch(s){await Su(s)}}async function rK(t,e,n){const r=Fe(t);try{const s=await function(o,l){const c=Fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(gt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);S2(r,e,n),N2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ff(r,s)}catch(s){await Su(s)}}function N2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function S2(t,e,n){const r=Fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Yw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||I2(t,r)})}function I2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(P_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),H_(t))}function sS(t,e,n){for(const r of n)r instanceof _2?(t.Ru.addReference(r.key,e),sK(t,r)):r instanceof k2?(ve(B_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||I2(t,r.key)):je(19791,{wu:r})}function sK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(B_,"New document in limbo: "+n),t.Eu.add(r),H_(t))}function H_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new Wq(n)),t.du=t.du.insert(n,r),g2(t.remoteStore,new za(ri(ey(n.path)),r,"TargetPurposeLimboResolution",Zg.ce))}}async function ff(t,e,n){const r=Fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=A_.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const h=Fe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(u,m=>Y.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>Y.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Iu(f))throw f;ve(R_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const v=h.Ms.get(m),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(m,x)}}}(r.localStore,i))}async function iK(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ve(B_,"User change. New user:",e.toKey());const r=await h2(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new ue(Q.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ff(n,r.Ls)}}function aK(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let s=rt();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function C2(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tK.bind(null,e),e.Pu.H_=Bq.bind(null,e.eventManager),e.Pu.yu=Hq.bind(null,e.eventManager),e}function oK(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rK.bind(null,e),e}class Gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ay(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dq(this.persistence,new lq,e.initialUser,this.serializer)}Cu(e){return new d2(j_.mi,this.serializer)}Du(e){return new vq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gp.provider={build:()=>new Gp};class lK extends Gp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof Kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new d2(r=>Kp.mi(r,n),this.serializer)}}class Zw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iK.bind(null,this.syncEngine),await Uq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $q}()}createDatastore(e){const n=ay(e.databaseInfo.databaseId),r=function(i){return new kq(i)}(e.databaseInfo);return function(i,o,l,c){return new Sq(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new Cq(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>rS(this.syncEngine,n,0),function(){return ZN.v()?new ZN:new xq}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,h){const f=new Gq(s,i,o,l,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Fe(s);ve(bl,"RemoteStore shutting down."),i.Ea.add(5),await hf(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Zw.provider={build:()=>new Zw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class cK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vn.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ve(mo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ve(mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qv(t,e){t.asyncQueue.verifyOperationInProgress(),ve(mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await h2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uK(t);ve(mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>JN(e.remoteStore,s)),t._onlineComponents=e}async function uK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(mo,"Using user provided OfflineComponentProvider");try{await qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;nu("Error using user provided cache. Falling back to memory cache: "+n),await qv(t,new Gp)}}else ve(mo,"Using default OfflineComponentProvider"),await qv(t,new lK(void 0));return t._offlineComponents}async function j2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(mo,"Using user provided OnlineComponentProvider"),await iS(t,t._uninitializedComponentsProvider._online)):(ve(mo,"Using default OnlineComponentProvider"),await iS(t,new Zw))),t._onlineComponents}function dK(t){return j2(t).then(e=>e.syncEngine)}async function Qp(t){const e=await j2(t),n=e.eventManager;return n.onListen=Qq.bind(null,e.syncEngine),n.onUnlisten=Xq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Yq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jq.bind(null,e.syncEngine),n}function hK(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new q_({next:m=>{h.Nu(),o.enqueueAndForget(()=>U_(i,f));const v=m.docs.has(l);!v&&m.fromCache?u.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&c&&c.source==="server"?u.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new $_(ey(l.path),h,{includeMetadataChanges:!0,qa:!0});return F_(i,f)}(await Qp(t),t.asyncQueue,e,n,r)),r.promise}function fK(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new q_({next:m=>{h.Nu(),o.enqueueAndForget(()=>U_(i,f)),m.fromCache&&c.source==="server"?u.reject(new ue(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new $_(l,h,{includeMetadataChanges:!0,qa:!0});return F_(i,f)}(await Qp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firestore.googleapis.com",oS=!0;class lS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R2,this.ssl=oS}else this.host=e.host,this.ssl=e.ssl??oS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qH)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A2(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x7;switch(r.type){case"firstParty":return new k7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aS.get(n);r&&(ve("ComponentProvider","Removing Datastore"),aS.delete(n),r.terminate())}(this),Promise.resolve()}}function mK(t,e,n,r={}){var u;t=xr(t,cy);const s=ko(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(t_(`https://${l}`),n_("Firestore",!0)),i.host!==R2&&i.host!==l&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!pl(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Vn.MOCK_USER;else{h=SR(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vn(m)}t._authCredentials=new w7(new bP(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cf(n,Gt._jsonSchema))return new Gt(e,r||null,new Te(Et.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:on("string",Gt._jsonSchemaVersion),referencePath:on("string")};class Ja extends No{constructor(e,n,r){super(e,n,ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Te(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function dt(t,e,...n){if(t=kt(t),_P("collection","path",e),t instanceof cy){const r=Et.fromString(e,...n);return bN(r),new Ja(t,null,r)}{if(!(t instanceof Gt||t instanceof Ja))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return bN(r),new Ja(t.firestore,null,r)}}function Ke(t,e,...n){if(t=kt(t),arguments.length===1&&(e=v_.newId()),_P("doc","path",e),t instanceof cy){const r=Et.fromString(e,...n);return wN(r),new Gt(t,null,new Te(r))}{if(!(t instanceof Gt||t instanceof Ja))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return wN(r),new Gt(t.firestore,t instanceof Ja?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="AsyncQueue";class uS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m2(this,"async_queue_retry"),this._c=()=>{const r=Hv();r&&ve(cS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Iu(e))throw e;ve(cS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ea("INTERNAL UNHANDLED ERROR: ",dS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=L_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&je(47125,{Pc:dS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class na extends cy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new uS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uS(e),this._firestoreClient=void 0,await e}}}function pK(t,e){const n=typeof t=="object"?t:i_(),r=typeof t=="string"?t:zp,s=Kg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ER("firestore");i&&mK(s,...i)}return s}function uy(t){if(t._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gK(t),t._firestoreClient}function gK(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,u,h){return new U7(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,A2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qr(Cn.fromBase64String(e))}catch(n){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qr(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cf(e,qr._jsonSchema))return qr.fromBase64String(e.bytes)}}qr._jsonSchemaVersion="firestore/bytes/1.0",qr._jsonSchema={type:on("string",qr._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(cf(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:on("string",ii._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cf(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ai(e.vectorValues);throw new ue(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:on("string",ai._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=/^__.*__$/;class vK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new uf(e,this.data,n,this.fieldTransforms)}}class P2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class K_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D2(this.Ac)&&yK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ay(e)}Cc(e,n,r,s=!1){return new K_({Ac:e,methodName:n,Dc:r,path:Nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fy(t){const e=t._freezeSettings(),n=ay(t._databaseId);return new xK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O2(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);G_("Data must be an object, but it was:",o,r);const l=M2(r,o);let c,u;if(i.merge)c=new Ir(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Xw(e,f,n);if(!o.contains(m))throw new ue(Q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);V2(h,m)||h.push(m)}c=new Ir(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new vK(new fr(l),c,u)}class my extends hy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof my}}class W_ extends hy{_toFieldTransform(e){return new dH(e.path,new wh)}isEqual(e){return e instanceof W_}}function wK(t,e,n,r){const s=t.Cc(1,e,n);G_("Data must be an object, but it was:",s,r);const i=[],o=fr.empty();Eo(r,(c,u)=>{const h=Q_(e,c,n);u=kt(u);const f=s.yc(h);if(u instanceof my)i.push(h);else{const m=mf(u,f);m!=null&&(i.push(h),o.set(h,m))}});const l=new Ir(i);return new P2(o,l,s.fieldTransforms)}function bK(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[Xw(e,r,n)],c=[s];if(i.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Xw(e,i[m])),c.push(i[m+1]);const u=[],h=fr.empty();for(let m=l.length-1;m>=0;--m)if(!V2(u,l[m])){const v=l[m];let w=c[m];w=kt(w);const x=o.yc(v);if(w instanceof my)u.push(v);else{const k=mf(w,x);k!=null&&(u.push(v),h.set(v,k))}}const f=new Ir(u);return new P2(h,f,o.fieldTransforms)}function _K(t,e,n,r=!1){return mf(n,t.Cc(r?4:3,e))}function mf(t,e){if(L2(t=kt(t)))return G_("Unsupported field value:",e,t),M2(t,e);if(t instanceof hy)return function(r,s){if(!D2(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=mf(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ze.fromDate(r);return{timestampValue:qp(s.serializer,i)}}if(r instanceof Ze){const i=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qp(s.serializer,i)}}if(r instanceof ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qr)return{bytesValue:r2(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:I_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ai)return function(o,l){return{mapValue:{fields:{[AP]:{stringValue:PP},[$p]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return E_(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Yg(r)}`)}(t,e)}function M2(t,e){const n={};return TP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(t,(r,s)=>{const i=mf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function L2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof ii||t instanceof qr||t instanceof Gt||t instanceof hy||t instanceof ai)}function G_(t,e,n){if(!L2(n)||!kP(n)){const r=Yg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Xw(t,e,n){if((e=kt(e))instanceof dy)return e._internalPath;if(typeof e=="string")return Q_(t,e);throw Yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const kK=new RegExp("[~\\*/\\[\\]]");function Q_(t,e,n){if(e.search(kK)>=0)throw Yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dy(...e.split("."))._internalPath}catch{throw Yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ue(Q.INVALID_ARGUMENT,l+t+c)}function V2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EK extends F2{data(){return super.data()}}function py(t,e){return typeof e=="string"?Q_(t,e):e instanceof dy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y_{}class z2 extends Y_{}function Qt(t,e,...n){let r=[];e instanceof Y_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Z_).length,l=i.filter(c=>c instanceof gy).length;if(o>1||o>0&&l>0)throw new ue(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gy extends z2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gy(e,n,r)}_apply(e){const n=this._parse(e);return $2(e._query,n),new No(e.firestore,e.converter,zw(e._query,n))}_parse(e){const n=fy(e.firestore);return function(i,o,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){mS(f,h);const w=[];for(const x of f)w.push(fS(c,i,x));m={arrayValue:{values:w}}}else m=fS(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||mS(f,h),m=_K(l,o,f,h==="in"||h==="not-in");return an.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nt(t,e,n){const r=e,s=py("where",t);return gy._create(s,r,n)}class Z_ extends Y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)$2(o,c),o=zw(o,c)}(e._query,n),new No(e.firestore,e.converter,zw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class X_ extends z2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new X_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xh(i,o)}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Cu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function TK(t,e="asc"){const n=e,r=py("orderBy",t);return X_._create(r,n)}function fS(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ue(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zP(e)&&n.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!Te.isDocumentKey(r))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CN(t,new Te(r))}if(n instanceof Gt)return CN(t,n._key);throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yg(n)}.`)}function mS(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $2(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NK{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Eo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[$p].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Xt(o.doubleValue));return new ai(n)}convertGeoPoint(e){return new ii(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=co(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);gt(c2(r),9688,{name:e});const s=new yh(r.get(1),r.get(3)),i=new Te(r.popFirst(5));return s.isEqual(n)||ea(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends F2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",nl._jsonSchema={type:on("string",nl._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Bm extends nl{data(e={}){return super.data(e)}}class rl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bm(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Bm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new xd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Bm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new xd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:SK(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){t=xr(t,Gt);const e=xr(t.firestore,na);return hK(uy(e),t._key).then(n=>H2(e,t,n))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:on("string",rl._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class J_ extends NK{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function zn(t){t=xr(t,No);const e=xr(t.firestore,na),n=uy(e),r=new J_(e);return U2(t._query),fK(n,t._query).then(s=>new rl(e,r,t,s))}function ek(t,e,n){t=xr(t,Gt);const r=xr(t.firestore,na),s=B2(t.converter,e);return yy(r,[O2(fy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yr.none())])}function xn(t,e,n,...r){t=xr(t,Gt);const s=xr(t.firestore,na),i=fy(s);let o;return o=typeof(e=kt(e))=="string"||e instanceof dy?bK(i,"updateDoc",t._key,e,n,r):wK(i,"updateDoc",t._key,e),yy(s,[o.toMutation(t._key,Yr.exists(!0))])}function lu(t){return yy(xr(t.firestore,na),[new T_(t._key,Yr.none())])}function ra(t,e){const n=xr(t.firestore,na),r=Ke(t),s=B2(t.converter,e);return yy(n,[O2(fy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function Au(t,...e){var c,u,h;t=kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||hS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hS(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,l;if(t instanceof Gt)o=xr(t.firestore,na),l=ey(t._key.path),i={next:f=>{e[r]&&e[r](H2(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=xr(t,No);o=xr(f.firestore,na),l=f._query;const m=new J_(o);i={next:v=>{e[r]&&e[r](new rl(o,m,f,v))},error:e[r+1],complete:e[r+2]},U2(t._query)}return function(m,v,w,x){const k=new q_(x),_=new $_(v,k,w);return m.asyncQueue.enqueueAndForget(async()=>F_(await Qp(m),_)),()=>{k.Nu(),m.asyncQueue.enqueueAndForget(async()=>U_(await Qp(m),_))}}(uy(o),l,s,i)}function yy(t,e){return function(r,s){const i=new Fi;return r.asyncQueue.enqueueAndForget(async()=>eK(await dK(r),s,i)),i.promise}(uy(t),e)}function H2(t,e,n){const r=n.docs.get(e._key),s=new J_(t);return new nl(t,s,e._key,r,new xd(n.hasPendingWrites,n.fromCache),e.converter)}function Cr(){return new W_("serverTimestamp")}(function(e,n=!0){(function(s){Nu=s})(Al),gl(new oo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new na(new b7(r.getProvider("auth-internal")),new E7(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ti(gN,yN,e),ti(gN,yN,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="firebasestorage.googleapis.com",K2="storageBucket",IK=2*60*1e3,CK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends gi{constructor(e,n,r=0){super(Kv(e),`Firebase Storage: ${n} (${Kv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yt||(Yt={}));function Kv(t){return"storage/"+t}function tk(){const t="An unknown error occurred, please check the error payload for server response.";return new Zt(Yt.UNKNOWN,t)}function jK(t){return new Zt(Yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function AK(t){return new Zt(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zt(Yt.UNAUTHENTICATED,t)}function PK(){return new Zt(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DK(t){return new Zt(Yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function OK(){return new Zt(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MK(){return new Zt(Yt.CANCELED,"User canceled the upload/download.")}function LK(t){return new Zt(Yt.INVALID_URL,"Invalid URL '"+t+"'.")}function VK(t){return new Zt(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FK(){return new Zt(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K2+"' property when initializing the app?")}function UK(){return new Zt(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zK(){return new Zt(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $K(t){return new Zt(Yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jw(t){return new Zt(Yt.INVALID_ARGUMENT,t)}function W2(){return new Zt(Yt.APP_DELETED,"The Firebase app was deleted.")}function BK(t){return new Zt(Yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $d(t,e){return new Zt(Yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rd(t){throw new Zt(Yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jr.makeFromUrl(e,n)}catch{return new jr(e,"")}if(r.path==="")return r;throw VK(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),w={bucket:1,path:3},x=n===q2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",_=new RegExp(`^https?://${x}/${s}/${k}`,"i"),b=[{regex:l,indices:c,postModify:i},{regex:v,indices:w,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<b.length;C++){const D=b[C],O=D.regex.exec(e);if(O){const I=O[D.indices.bucket];let N=O[D.indices.path];N||(N=""),r=new jr(I,N),D.postModify(r);break}}if(r==null)throw LK(e);return r}}class HK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...k){u||(u=!0,e.apply(null,k))}function f(k){s=setTimeout(()=>{s=null,t(v,c())},k)}function m(){i&&clearTimeout(i)}function v(k,..._){if(u){m();return}if(k){m(),h.call(null,k,..._);return}if(c()||o){m(),h.call(null,k,..._);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,f(b)}let w=!1;function x(k){w||(w=!0,m(),!u&&(s!==null?(k||(l=2),clearTimeout(s),f(0)):k||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function KK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(t){return t!==void 0}function GK(t){return typeof t=="object"&&!Array.isArray(t)}function nk(t){return typeof t=="string"||t instanceof String}function pS(t){return rk()&&t instanceof Blob}function rk(){return typeof Blob<"u"}function gS(t,e,n,r){if(r<e)throw Jw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function G2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var sl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sl||(sl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n,r,s,i,o,l,c,u,h,f,m=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new um(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===sl.NO_ERROR,c=i.getStatus();if(!l||QK(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===sl.ABORT;r(!1,new um(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new um(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());WK(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=tk();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?W2():MK();o(c)}else{const c=OK();o(c)}};this.canceled_?n(!1,new um(!1,null,!0)):this.backoffId_=qK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class um{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ZK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tW(t,e,n,r,s,i,o=!0,l=!1){const c=G2(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return JK(h,e),ZK(h,n),XK(h,i),eW(h,r),new YK(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rW(...t){const e=nW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rk())return new Blob(t);throw new Zt(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){if(typeof atob>"u")throw $K("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wv{constructor(e,n){this.data=e,this.contentType=n||null}}function aW(t,e){switch(t){case Qs.RAW:return new Wv(Q2(e));case Qs.BASE64:case Qs.BASE64URL:return new Wv(Y2(t,e));case Qs.DATA_URL:return new Wv(lW(e),cW(e))}throw tk()}function Q2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oW(t){let e;try{e=decodeURIComponent(t)}catch{throw $d(Qs.DATA_URL,"Malformed data URL.")}return Q2(e)}function Y2(t,e){switch(t){case Qs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw $d(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Qs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw $d(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iW(e)}catch(s){throw s.message.includes("polyfill")?s:$d(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Z2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $d(Qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lW(t){const e=new Z2(t);return e.base64?Y2(Qs.BASE64,e.rest):oW(e.rest)}function cW(t){return new Z2(t).contentType}function uW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){let r=0,s="";pS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(pS(this.data_)){const r=this.data_,s=sW(r,e,n);return s===null?null:new Ia(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ia(r,!0)}}static getBlob(...e){if(rk()){const n=e.map(r=>r instanceof Ia?r.data_:r);return new Ia(rW.apply(null,n))}else{const n=e.map(o=>nk(o)?aW(Qs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Ia(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){let e;try{e=JSON.parse(t)}catch{return null}return GK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function J2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t,e){return e}class Qn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||fW}}let dm=null;function mW(t){return!nk(t)||t.length<2?t:J2(t)}function eD(){if(dm)return dm;const t=[];t.push(new Qn("bucket")),t.push(new Qn("generation")),t.push(new Qn("metageneration")),t.push(new Qn("name","fullPath",!0));function e(i,o){return mW(o)}const n=new Qn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Qn("size");return s.xform=r,t.push(s),t.push(new Qn("timeCreated")),t.push(new Qn("updated")),t.push(new Qn("md5Hash",null,!0)),t.push(new Qn("cacheControl",null,!0)),t.push(new Qn("contentDisposition",null,!0)),t.push(new Qn("contentEncoding",null,!0)),t.push(new Qn("contentLanguage",null,!0)),t.push(new Qn("contentType",null,!0)),t.push(new Qn("metadata","customMetadata",!0)),dm=t,dm}function pW(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new jr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function gW(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return pW(r,t),r}function tD(t,e,n){const r=X2(e);return r===null?null:gW(t,r,n)}function yW(t,e,n,r){const s=X2(e);if(s===null||!nk(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),v=sk(m,n,r),w=G2({alt:"media",token:u});return v+w})[0]}function vW(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class nD{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){if(!t)throw tk()}function xW(t,e){function n(r,s){const i=tD(t,s,e);return rD(i!==null),i}return n}function wW(t,e){function n(r,s){const i=tD(t,s,e);return rD(i!==null),yW(i,s,t.host,t._protocol)}return n}function sD(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=PK():s=RK():n.getStatus()===402?s=AK(t.bucket):n.getStatus()===403?s=DK(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function bW(t){const e=sD(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=jK(t.path)),i.serverResponse=s.serverResponse,i}return n}function _W(t,e,n){const r=e.fullServerUrl(),s=sk(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new nD(s,i,wW(t,n),o);return l.errorHandler=bW(e),l}function kW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kW(null,e)),r}function TW(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let C=0;C<2;C++)b=b+Math.random().toString().slice(2);return b}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=EW(e,r,s),h=vW(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",v=Ia.getBlob(f,r,m);if(v===null)throw UK();const w={name:u.fullPath},x=sk(i,t.host,t._protocol),k="POST",_=t.maxUploadRetryTime,g=new nD(x,k,xW(t,n),_);return g.urlParams=w,g.headers=o,g.body=v.uploadData(),g.errorHandler=sD(e),g}class NW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw rd("cannot .send() more than once");if(ko(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SW extends NW{initXhr(){this.xhr_.responseType="text"}}function iD(){return new SW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this._service=e,n instanceof jr?this._location=n:this._location=jr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _l(e,n)}get root(){const e=new jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J2(this._location.path)}get storage(){return this._service}get parent(){const e=dW(this._location.path);if(e===null)return null;const n=new jr(this._location.bucket,e);return new _l(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BK(e)}}function IW(t,e,n){t._throwIfRoot("uploadBytes");const r=TW(t.storage,t._location,eD(),new Ia(e,!0),n);return t.storage.makeRequestWithTokens(r,iD).then(s=>({metadata:s,ref:t}))}function CW(t){t._throwIfRoot("getDownloadURL");const e=_W(t.storage,t._location,eD());return t.storage.makeRequestWithTokens(e,iD).then(n=>{if(n===null)throw zK();return n})}function jW(t,e){const n=hW(t._location.path,e),r=new jr(t._location.bucket,n);return new _l(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){return/^[A-Za-z]+:\/\//.test(t)}function RW(t,e){return new _l(t,e)}function aD(t,e){if(t instanceof ik){const n=t;if(n._bucket==null)throw FK();const r=new _l(n,n._bucket);return e!=null?aD(r,e):r}else return e!==void 0?jW(t,e):t}function PW(t,e){if(e&&AW(e)){if(t instanceof ik)return RW(t,e);throw Jw("To use ref(service, url), the first argument must be a Storage instance.")}else return aD(t,e)}function yS(t,e){const n=e==null?void 0:e[K2];return n==null?null:jr.makeFromBucketSpec(n,t)}function DW(t,e,n,r={}){t.host=`${e}:${n}`;const s=ko(e);s&&(t_(`https://${t.host}/b`),n_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:SR(i,t.app.options.projectId))}class ik{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=q2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IK,this._maxUploadRetryTime=CK,this._requests=new Set,s!=null?this._bucket=jr.makeFromBucketSpec(s,this._host):this._bucket=yS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jr.makeFromBucketSpec(this._url,e):this._bucket=yS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _l(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new HK(W2());{const o=tW(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const vS="@firebase/storage",xS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="storage";function ak(t,e,n){return t=kt(t),IW(t,e,n)}function ok(t){return t=kt(t),CW(t)}function lk(t,e){return t=kt(t),PW(t,e)}function OW(t=i_(),e){t=kt(t);const r=Kg(t,oD).getImmediate({identifier:e}),s=ER("storage");return s&&MW(r,...s),r}function MW(t,e,n,r={}){DW(t,e,n,r)}function LW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ik(n,r,s,e,Al)}function VW(){gl(new oo(oD,LW,"PUBLIC").setMultipleInstances(!0)),ti(vS,xS,""),ti(vS,xS,"esm2020")}VW();const FW={apiKey:"AIzaSyDlfvb2sY1Z02Mi9ll7mhWPDiqEWydZZ6I",authDomain:"takascemberi-37c23.firebaseapp.com",projectId:"takascemberi-37c23",storageBucket:"takascemberi-37c23.firebasestorage.app",messagingSenderId:"110874342986",appId:"1:110874342986:web:0220dc85fe58e6b70b58b3"},ck=jR(FW),sa=p7(ck),he=pK(ck),uk=OW(ck),UW=async t=>{try{const{email:e,password:n,...r}=t,i=(await QB(sa,e,n)).user;await JB(i,{displayName:`${r.firstName} ${r.lastName}`});const o={id:i.uid,email:i.email,emailVerified:i.emailVerified,createdAt:new Date,totalListings:0,averageRating:0,totalRatings:0,isAdmin:!1,...r};return await ek(Ke(he,"users",i.uid),o),await ZB(i),await m_(sa),o}catch(e){throw new Error(e.message||"Kayıt işlemi başarısız oldu")}},zW=async(t,e)=>{try{const r=(await YB(sa,t,e)).user;if(!r.emailVerified)throw await m_(sa),new Error("E-posta adresinizi doğrulamanız gerekiyor. Lütfen e-postanızı (SPAM klasörü dahil) kontrol edin ve doğrulama linkine tıklayın.");return r}catch(n){throw n.code==="auth/invalid-credential"?new Error("E-posta adresi veya şifre yanlış."):n.code==="auth/user-not-found"?new Error("Bu e-posta adresi ile kayıtlı bir kullanıcı bulunamadı."):n.code==="auth/wrong-password"?new Error("Şifre yanlış."):n.code==="auth/too-many-requests"?new Error("Çok fazla başarısız giriş denemesi. Lütfen daha sonra tekrar deneyin."):n.code==="auth/user-disabled"?new Error("Bu hesap devre dışı bırakılmış."):n.code==="auth/invalid-email"?new Error("Geçersiz e-posta adresi."):new Error(n.message||"Giriş işlemi başarısız oldu")}},$W=async()=>{try{await m_(sa)}catch(t){throw new Error(t.message||"Çıkış işlemi başarısız oldu")}},BW=async t=>{try{await GB(sa,t)}catch(e){throw e.code==="auth/user-not-found"?new Error("Bu e-posta adresi ile kayıtlı bir kullanıcı bulunamadı."):new Error(e.message||"Şifre sıfırlama e-postası gönderilemedi")}},HW=t=>{if(!t)return{firstName:"Kullanıcı",lastName:""};const e=t.trim().split(" ");if(e.length===1)return{firstName:e[0],lastName:""};const n=e[0],r=e.slice(1).join(" ");return{firstName:n,lastName:r}},lD=async()=>{try{const t=new Ai;t.addScope("email"),t.addScope("profile");const n=(await E8(sa,t)).user,r=Ke(he,"users",n.uid),s=await fn(r);if(s.exists())return s.data();{const{firstName:i,lastName:o}=HW(n.displayName),l={id:n.uid,email:n.email,username:n.email.split("@")[0],firstName:i,lastName:o,phone:"",emailVerified:n.emailVerified,createdAt:new Date,totalListings:0,averageRating:0,totalRatings:0,isAdmin:!1};return await ek(r,l),l}}catch(t){throw t.code==="auth/popup-closed-by-user"?new Error("Google giriş penceresi kapatıldı."):t.code==="auth/popup-blocked"?new Error("Popup engellendi. Lütfen popup engelleyicinizi devre dışı bırakın."):t.code==="auth/cancelled-popup-request"?new Error("Giriş işlemi iptal edildi."):new Error(t.message||"Google ile giriş başarısız oldu")}},qW=async t=>{try{const e=await fn(Ke(he,"users",t));if(e.exists()){const n=e.data();return{...n,createdAt:n.createdAt.toDate()}}return null}catch(e){return console.error("Error fetching user profile:",e),null}},cD=p.createContext({user:null,profile:null,loading:!0}),qn=()=>{const t=p.useContext(cD);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},KW=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0);return p.useEffect(()=>{const l=s8(sa,async c=>{if(c&&!c.emailVerified){await sa.signOut(),n(null),s(null),o(!1);return}if(n(c),c&&c.emailVerified){const u=await qW(c.uid);s(u)}else s(null);o(!1)});return()=>l()},[]),a.jsx(cD.Provider,{value:{user:e,profile:r,loading:i},children:t})},WW={tr:{nav:{home:"Ana Sayfa",items:"İlanlar",profile:"Profil",addItem:"İlan Ekle",messages:"Mesajlar",admin:"Admin",notifications:"Bildirimler",blog:"Blog"},auth:{login:"Giriş Yap",register:"Kayıt Ol",logout:"Çıkış Yap",email:"E-posta",password:"Şifre",confirmPassword:"Şifre Tekrar",forgotPassword:"Şifremi Unuttum",resetPassword:"Şifre Sıfırla",name:"Ad Soyad",phone:"Telefon",loginToAccount:"Hesabınıza giriş yapın",createAccount:"Hesap oluşturun",alreadyHaveAccount:"Zaten hesabınız var mı?",dontHaveAccount:"Hesabınız yok mu?",sendResetEmail:"Sıfırlama E-postası Gönder",loginError:"Giriş yapılırken hata oluştu",registerError:"Kayıt olurken hata oluştu",invalidCredentials:"E-posta adresi veya şifre yanlış",emailAlreadyInUse:"Bu e-posta adresi zaten kullanımda",weakPassword:"Şifre çok zayıf",userNotFound:"Kullanıcı bulunamadı",verifyEmail:"E-posta adresinizi doğrulayın"},profile:{myProfile:"Profilim",myItems:"İlanlarım",tradeOffers:"Takas Teklifleri",ratings:"Değerlendirmeler",editProfile:"Profili Düzenle",profileUpdated:"Profil güncellendi",updateProfile:"Profili Güncelle",joinDate:"Katılma Tarihi",itemCount:"İlan Sayısı",rating:"Değerlendirme",noItemsYet:"Henüz ilan yok",noRatingsYet:"Henüz değerlendirme yok",changePhoto:"Fotoğraf Değiştir",changePassword:"Şifre Değiştir",activeItem:"Aktif İlan",completedTrade:"Tamamlanan Takas",averageRating:"Ortalama Puan",evaluation:"değerlendirme",pendingItems:"Bekleyen İlanlarım",activeItems:"Aktif İlanlarım",messages:"Mesajlarım",rejectedItems:"Reddedilen İlanlarım",expiredItems:"Süresi Dolan İlanlarım",noPendingItems:"Bekleyen ilan yok",noPendingItemsDesc:"Yeni eklediğiniz ilanlar admin onayından sonra burada görünür",noActiveItems:"Henüz aktif ilan yok",noActiveItemsDesc:"İlk ilanınızı ekleyin ve takas yapmaya başlayın!",noRejectedItems:"Reddedilen ilan yok",noRejectedItemsDesc:"İlanlarınız henüz reddedilmemiş",noExpiredItems:"Süresi dolan ilan yok",noExpiredItemsDesc:"30 günden eski ilanlarınız burada görünür",loadingPendingItems:"Bekleyen ilanlarınız yükleniyorŏ",loadingRejectedItems:"Reddedilen ilanlar yükleniyorŏ",loadingExpiredItems:"Süresi dolan ilanlar yükleniyorŏ",pendingInfo:"Bu ilanlar admin onayı bekliyor",pendingInfoDesc:"İlanlarınız admin tarafından incelendikten sonra yayınlanacak.",rejectedInfo:"Bu ilanlar admin tarafından reddedildi",rejectedInfoDesc:"İlanlarınız uygun olmadığı için yayınlanmadı. Yeni ilan ekleyebilirsiniz.",expiredInfo:"Bu ilanların süresi dolmuş",expiredInfoDesc:"İlanlarınızı tekrar yayına almak için ödeme yapabilir veya silebilirsiniz.",edit:"Düzenle",view:"Görüntüle",selectAll:"Tümünü seç",deleteSelected:"Seçilenleri Sil",deleting:"Siliniyor...",itemsSelected:"ilan seçildi",statusActive:"Aktif",statusRejected:"Reddedildi"},items:{title:"Başlık",description:"Açıklama",category:"Kategori",subcategory:"Alt Kategori",condition:"Durum",location:"Konum",city:"Şehir",district:"İlçe",neighborhood:"Mahalle",images:"Resimler",addItem:"İlan Ekle",editItem:"İlanı Düzenle",deleteItem:"İlanı Sil",makeOffer:"Teklif Et",contactOwner:"Sahibiyle İletişim",itemAdded:"İlan başarıyla eklendi",itemUpdated:"İlan güncellendi",itemDeleted:"İlan silindi",searchItems:"İlan ara...",noItemsFound:"İlan bulunamadı",itemExpired:"İlan süresi doldu",itemPending:"İlan onay bekliyor",itemApproved:"İlan onaylandı",itemRejected:"İlan reddedildi",paymentRequired:"4. İlan İçin Ödeme Gerekli",paymentDescription:"İlk 3 ilan ücretsiz! 4. ilan ve sonrasında her ilan için 10 TL ödeme yapmanız gerekmektedir.",backToItems:"İlanlara Dön",itemDescription:"Açıklama",itemOwner:"İlan Sahibi",sendMessage:"Mesaj Gönder",tradeOffer:"Takas Teklifi Ver",tradeOfferHint:"Bu ilan ile takas yapmak için kendi ilanlarınızdan birini seçin",itemNotFound:"İlan Bulunamadı",itemNotFoundDesc:"Aradığınız ilan mevcut değil veya kaldırılmış olabilir.",statusActive:"Aktif",statusTraded:"Takas Edildi"},common:{save:"Kaydet",cancel:"İptal",delete:"Sil",edit:"Düzenle",search:"Ara",loading:"Yükleniyor...",error:"Hata",success:"Başarılı",yes:"Evet",no:"Hayır",close:"Kapat",submit:"Gönder",back:"Geri",next:"İleri",previous:"Önceki",select:"Seç",upload:"Yükle",remove:"Kaldır",view:"Görüntüle",markAllRead:"Tümünü Okundu İşaretle",viewAll:"Tümünü Gör",language:"Dil",categoriesTitle:"Kategorilere Göz Atın",categoriesSubtitle:"İhtiyacınız olan ürün kategorisini seçin ve takas yapmaya başlayın",teknolojikDesc:"Telefon, laptop, kamera takas edin",beyazEsyaDesc:"Beyaz eşyalar değiştirin",mobilyaDesc:"Mobilya değiştirin",arabaDesc:"Araç parçaları takas edin",oyuncakDesc:"Çocuk oyuncakları değiştirin",tasinmazDesc:"Ev, arsa, tarla takas edin",kitapDesc:"Kitap koleksiyonunuzu değiştirin",testimonialsTitle:"Kullanıcı Yorumları",testimonialsSubtitle:"Mutlu kullanıcılarımızdan yorumlar",testimonial1:"Laptopumu kamerayla takas ettim. Çok güvenli ve kolay.",testimonial2:"Oyuncakları değiştirmek harika. Hem tasarruf ettik hem yeni oyuncaklar aldık.",testimonial3:"Kitaplarımı yeni kitaplarla değiştiriyorum. Çok praktik.",footerDescription:"Türkiye'nin en güvenilir ilan değişim platformu. Sürdürülebilir bir gelecek için takasla değişim!",platform:"Platform",howItWorksLink:"Nasıl Çalışır",security:"Güvenlik",commissionRates:"Komisyon Oranları",mobileApp:"Mobil Uygulama",support:"Destek",helpCenter:"Yardım Merkezi",contact:"İletişim",liveSupport:"Canlı Destek",faq:"SSS",legal:"Yasal",termsOfUse:"Kullanım Şartları",privacyPolicy:"Gizlilik Politikası",kvkk:"KVKK",cookies:"Çerezler",allRightsReserved:"© 2024 Takas. Tüm hakları saklıdır.",sslSecure:"SSL Güvenli",ecoFriendly:"Çevre Dostu"},blog:{recyclingTitle:"Geri Dönüşüm Neden Bu Kadar Önemli?",recyclingSubtitle:"Doğayı korumanın en etkili yollarından biri olan geri dönüşümün önemini keşfedin. Takas yaparak hem çevreyi koruyun hem de ekonomiye katkı sağlayın.",protectNatureTitle:"🌍 Doğayı Korumak İçin",protectNatureDesc:"Her yıl tonlarca plastik, cam, metal ve elektronik atık doğaya bırakılıyor. Bu atıkların yok olması yüzlerce yıl sürebiliyor.",plasticBottle:"Plastik şişe: 400 yıl",aluminumCan:"Alüminyum kutu: 80-100 yıl",glassBottle:"Cam şişe: Neredeyse hiç yok olmuyor",economyTitle:"💰 Ekonomiye Katkı Sağlamak",economyDesc:"Kullanmadığımız eşyalar çöp olmak zorunda değil. Onları yeniden değerlendirmek mümkün:",rawMaterial:"Ham madde ihtiyacı azalır",energyConsumption:"Enerji tüketimi büyük ölçüde düşer",economicContribution:"Ülke ekonomisine ciddi katkı sağlanır",easiestWayTitle:"🔄 Geri Dönüşümün En Kolay Yolu: Takas",easiestWayDesc:"Artık kullanmadığınız eşyaları çöpe atmak yerine ihtiyacı olanlarla paylaşabilirsiniz:",phoneExample:"Kullanmadığınız telefon → Fotoğraf makinesiyle değiştir",furnitureExample:"Fazla mobilya → Yeni bir bisiklete dönüştür",electronicExample:"Çekmecede duran elektronik → İhtiyacın olan ev aletine takas et",readMore:"📖 Devamını Oku",startTrading:"Hemen Takas Et",encouragement:"💚 Sen de çevreye katkı sağla, doğayı koru!",blogTitle:"Blog",blogSubtitle:"Geri dönüşüm, sürdürülebilir yaşam ve çevre dostu alışkanlıklar hakkında değerli bilgiler",environmentContribution:"Sen de Çevreye Katkı Sağla!",environmentContributionDesc:"Kullanmadığın eşyaları takas ederek hem doğayı koru hem de ihtiyacın olan ürünlere sahip ol.",addItem:"İlan Ekle",browseItems:"İlanları Gözat",backToBlog:"Blog'a Dön",share:"Paylaş",startTradingNow:"Hemen Takas Yapmaya Başla!",startTradingDesc:"Kullanmadığın eşyaları paylaş, ihtiyacın olanları bul ve çevreye katkı sağla.",notFound:"Blog yazısı bulunamadı",nationalCapitalTitle:"Milli Sermaye Nedir? Nasıl Oluşur ve Nasıl Tükenir?",nationalCapitalExcerpt:"Ülkemizin maddi ve manevi tüm kaynaklarını oluşturan milli sermayenin önemini keşfedin. İsrafı engelleyerek ve bilinçli tüketerek milli sermayemizi nasıl koruyabiliriz?"},home:{welcomeTitle:"Takas Çemberi'ne Hoş Geldiniz",welcomeSubtitle:"Sürdürülebilir bir gelecek için eşyalarınızı takas edin",heroDescription:"Burada alışveriş yerine paylaşım... Harcama yerine kazanım... Tüketim yerine üretim var...",heroTexts:[{title:"Takas Çemberi'ne Hoş Geldiniz",subtitle:"Kullanıcılar yalnızca kendilerine ait veya takas hakkına sahip oldukları ürünleri paylaşabilir. Kapora, ön ödeme veya kullanıcılar arası para transferi kesinlikle yasaktır. Kullanıcıların birbirlerine yaptığı ödemelerden takas çemberi sorumlu değildir. Platform, şüpheli veya kural dışı ilanları kaldırma hakkını saklı tutar."},{title:"TAKAS ÇEMBERİNE HOŞ GELDİNİZ",subtitle:"Burada alışveriş yerine paylaşım... Harcama yerine kazanım... Tüketim yerine üretim var..."}],getStarted:"Hemen Başla",howItWorks:"Nasıl Çalışır?",step1Title:"Hesap Oluştur",step1Description:"Ücretsiz kayıt olun",step2Title:"İlan Ekle",step2Description:"İlanınızın fotoğrafını ekleyin",step3Title:"İlan Bul",step3Description:"İstediğiniz ilanı arayın",step4Title:"Takas Yap",step4Description:"Teklif gönderin ve takas yapın",howItWorksDetail:{title:"Nasıl Çalışır",description:"Eşyalarını ücretsiz ilanla, takas teklifleri al ve kolayca değişim yap."},securityDetail:{title:"Güvenlik",description:"Kullanıcı bilgilerin ve işlemlerin güvenli altyapıyla korunur."},commissionDetail:{title:"Komisyon Oranları",description:"Takas işlemlerinde kesinlikle komisyon alınmaz."},mobileAppDetail:{title:"Mobil Uygulama",description:"Takas Çemberi'ni dilediğin an cebinden kullanabilirsin."},helpCenterDetail:{title:"Yardım Merkezi",description:"Sık sorulan sorular ve rehberlerle sorunlarını kolayca çöz."},contactDetail:{title:"İletişim",description:"Bizimle mail ya da canlı destek mesajlaşma ile doğrudan iletişime geçebilirsin."},liveSupportDetail:{title:"Canlı Destek",description:"7/24 anlık sohbet desteği ile her soruna hızlı çözüm bul."},faqDetail:{title:"SSS (Sıkça Sorulan Sorular)",items:{q1:{question:"Nasıl üye olabilirim?",answer:"E-posta adresinle ücretsiz kayıt olabilirsin."},q2:{question:"Takas yapmak ücretli mi?",answer:"Hayır, tamamen ücretsizdir."},q3:{question:"Komisyon alınıyor mu?",answer:"Hayır, hiçbir işlemden komisyon alınmaz."},q4:{question:"İlanımı nasıl eklerim?",answer:'Profilinden "İlan Ekle" seçeneğini kullanarak kolayca ekleyebilirsin.'},q5:{question:"Kötü niyetli kullanıcıya rastlarsam ne olur?",answer:"Şikayet edebilirsin, ekibimiz inceleyip gerekirse hesabı askıya alır."},q6:{question:"Mobil uygulama var mı?",answer:"Evet, Android ve iOS üzerinden indirebilirsin."}}},termsOfUseDetail:{title:"Kullanım Şartları",description:"Platformu kullanırken etik ve ahlak çerçevesinde ilerlemelisiniz. Şikayetler incelenir ve gerekli görüldüğü anda hesabınız askıya alınır."},privacyPolicyDetail:{title:"Gizlilik Politikası",description:"Kişisel verilerin korunması bizim için önceliklidir. Ad, e-posta, telefon gibi bilgiler sadece hizmet sunumu için kullanılır ve üçüncü kişilerle izinsiz paylaşılmaz. Güvenlik için modern şifreleme ve veri koruma yöntemleri uygulanır. Kullanıcılar, istedikleri zaman hesaplarını silebilir ve verilerinin silinmesini talep edebilir."},kvkkDetail:{title:"KVKK (Kişisel Verilerin Korunması Kanunu)",description:"Toplanan kişisel veriler yalnızca platform hizmetlerinin yürütülmesi amacıyla kullanılır. Verilerin işlenme amacı, hukuki sebebi ve saklama süresi kullanıcılara şeffaf şekilde bildirilir. Kullanıcılar, kendi verilerine erişme, düzeltme, silme ve işlemeyi durdurma haklarına sahiptir. İlgili talepler kullanıcı destek birimine iletilebilir. KVKK kapsamında gerekli teknik ve idari güvenlik tedbirleri alınmaktadır."},cookiesDetail:{title:"Çerezler",description:"Site deneyimini geliştirmek için çerezler kullanılır. Çerezler sayesinde giriş bilgilerin hatırlanır, ilanlar kişiselleştirilir ve site performansı ölçülür. İsteyen kullanıcılar tarayıcı ayarlarından çerezleri kapatabilir."},featuredItems:"Öne Çıkan İlanlar",browseByCategory:"Kategorilere Göz At",categories:{beyaz_esya:"Beyaz Eşya",elektronik:"Elektronik",mobilya:"Mobilya",giyim:"Giyim",kitap:"Kitap",oyuncak:"Oyuncak",spor:"Spor",otomobil:"Otomobil",diger:"Diğer"},recentItems:"Son İlanlar",noRecentItems:"Henüz ilan bulunmuyor",loginToSeeMore:"Daha fazla görmek için giriş yapın",stepsSubtitle:"4 adımda takas yapın",recentItemsCount:"Yeni eklenen",ctaDescription:"Ücretsiz kayıt ol ve binlerce ilan arasından seç. İlk takas özel indirimli!",addFirstItem:"İlk İlanını Ekle",itemsText:"ilan"},addItem:{title:"Yeni İlan Ekle",subtitle:"Takas etmek istediğiniz ilanınızın bilgilerini ekleyin",photos:"Fotoğraflar",addPhoto:"Fotoğraf Ekle",photoHint:"En fazla 5 fotoğraf. İlk fotoğraf kapak olur.",category:"Kategori",selectCategory:"Kategori seçin",subcategory:"Alt Kategori",selectSubcategory:"Alt kategori seçin",condition:"Durum",selectCondition:"Durum seçin",city:"İl",selectCity:"İl seçin",district:"İlçe",enterDistrict:"İlçe girin",neighborhood:"Mahalle",enterNeighborhood:"Mahalle girin",title_field:"Başlık",enterTitle:"Başlık ekleyin",description:"Açıklama",enterDescription:"Açıklama ekleyin",carBrand:"Marka",selectCarBrand:"Marka seçin",carModel:"Model",enterCarModel:"Model girin",carKm:"Kilometre",enterCarKm:"Kilometre girin",submitButton:"İlanı Ekle (30 gün süreli)",cancel:"İptal",required:"*"},categories:{all:"Tümü",elektronik:"Elektronik",mobilya:"Mobilya",giyim:"Giyim",kitap:"Kitap",oyuncak:"Oyuncak",spor:"Spor",beyaz_esya:"Beyaz Eşya",otomobil:"Otomobil",araba:"Araba",araba_yedek_parca:"Araba Yedek Parça",araba_group:"Araba & Yedek Parça",tasinmazlar:"Taşınmazlar",teknolojik_urunler:"Teknolojik Ürünler",diger:"Diğer"},conditions:{all:"Tümü",yeni:"Yeni",kullanilmis:"Kullanılmış",orta:"Orta",cok_iyi:"Çok İyi",kusurlu:"Kusurlu"},terms:{title:"📜 Kullanım Şartları ve Gizlilik Politikası",usageTermsTitle:"📜 Takas Çemberi Kullanım Şartları",privacyPolicyTitle:"🔒 Gizlilik Politikası",generalProvisionsTitle:"1. Genel Hükümler",generalProvisions:["Takas Çemberi, üyelerinin ihtiyaç fazlası ürünlerini ücretsiz veya belirlenen şartlarda takas etmelerine imkân sağlayan bir dijital platformdur.","Platforma üye olan her kullanıcı, bu kullanım şartlarını okumuş ve kabul etmiş sayılır."],membershipSecurityTitle:"2. Üyelik ve Hesap Güvenliği",membershipSecurity:["Üyeler, kayıt sırasında doğru ve güncel bilgiler vermekle yükümlüdür.","Hesap güvenliğinden kullanıcı sorumludur. Kullanıcı adı ve şifrenin üçüncü kişilerle paylaşılmasından doğacak sorumluluk kullanıcıya aittir."],adsSharesTitle:"3. İlan ve Paylaşımlar",adsShares:["Kullanıcılar yalnızca kendilerine ait veya takas hakkına sahip oldukları ürünleri paylaşabilir.","Kapora, ön ödeme veya kullanıcılar arası para transferi kesinlikle yasaktır, bu tür durumlarda Takas Çemberi sorumlu değildir.","Platform, şüpheli veya kural dışı ilanları kaldırma hakkını saklı tutar."],liabilityDisclaimerTitle:"4. Sorumluluk Reddi",liabilityDisclaimer:["Takas Çemberi, kullanıcılar arasında gerçekleşen takas işlemlerinin tarafı değildir.","Ürün kalitesi, teslimi veya takas sonrası yaşanabilecek anlaşmazlıklardan kullanıcılar sorumludur."],serviceLimitsTitle:"5. Hizmetin Sınırları",serviceLimits:["Takas Çemberi, hizmeti dilediği zaman değiştirme, askıya alma veya sonlandırma hakkını saklı tutar."],dataCollectionTitle:"1. Kişisel Verilerin Toplanması",dataCollection:["Üyelik sırasında ad, e-posta ve iletişim bilgileri gibi temel veriler talep edilmektedir.","Bu bilgiler yalnızca kullanıcı deneyimini iyileştirmek ve güvenli bir platform sağlamak amacıyla kullanılmaktadır."],dataUsageTitle:"2. Verilerin Kullanımı",dataUsage:["Kullanıcı bilgileri üçüncü kişilerle kesinlikle paylaşılmaz.","Ancak yasal zorunluluk halinde resmi makamlarla paylaşılabilir."],cookiesTitle:"3. Çerezler (Cookies)",cookies:["Platform, kullanıcı deneyimini artırmak için çerezlerden faydalanabilir.","Dileyen kullanıcı tarayıcı ayarlarından çerezleri kapatabilir."],securityTitle:"4. Güvenlik",security:["Kullanıcı verilerinin korunması için gerekli teknik ve idari önlemler alınmaktadır."],rightsTitle:"5. Haklarınız",rights:["Kullanıcılar, kişisel verilerinin silinmesini, güncellenmesini veya düzeltilmesini talep edebilir.","Bu talepler için iletişim bölümünden bizimle irtibat kurulabilir."],acceptText:"Yukarıdaki Kullanım Şartları ve Gizlilik Politikası'nı okudum, anladım ve kabul ediyorum.",acceptButton:"✅ Kabul Et & Kayıt Ol",cancelButton:"❌ İptal",acceptCheckbox:"✅ Kabul ediyorum",loading:"Kayıt oluşturuluyor..."},admin:{panel:"Admin Panel",users:"Kullanıcılar",userManagement:"Kullanıcı Yönetimi",searchUsers:"Kullanıcı ara...",sendMessage:"Mesaj Gönder",messageTitle:"Mesaj Başlığı",messageContent:"Mesaj İçeriği",enterMessageTitle:"Mesaj başlığı girin",enterMessageContent:"Mesaj içeriğini girin",send:"Gönder",messageSent:"Mesaj başarıyla gönderildi",messageError:"Mesaj gönderilirken hata oluştu",userName:"Kullanıcı Adı",email:"E-posta",joinDate:"Katılma Tarihi",actions:"İşlemler",noUsersFound:"Kullanıcı bulunamadı",loadingUsers:"Kullanıcılar yükleniyor...",viewProfile:"Profil Görüntüle",close:"Kapat"}},en:{nav:{home:"Home",items:"Items",profile:"Profile",addItem:"Add Item",messages:"Messages",admin:"Admin",notifications:"Notifications",blog:"Blog"},auth:{login:"Login",register:"Register",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password",resetPassword:"Reset Password",name:"Full Name",phone:"Phone",loginToAccount:"Login to your account",createAccount:"Create an account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",sendResetEmail:"Send Reset Email",loginError:"Login error occurred",registerError:"Registration error occurred",invalidCredentials:"Invalid email or password",emailAlreadyInUse:"This email is already in use",weakPassword:"Password is too weak",userNotFound:"User not found",verifyEmail:"Please verify your email"},profile:{myProfile:"My Profile",myItems:"My Items",tradeOffers:"Trade Offers",ratings:"Ratings",editProfile:"Edit Profile",profileUpdated:"Profile updated",updateProfile:"Update Profile",joinDate:"Join Date",itemCount:"Item Count",rating:"Rating",noItemsYet:"No items yet",noRatingsYet:"No ratings yet",changePhoto:"Change Photo",changePassword:"Change Password",activeItem:"Active Item",completedTrade:"Completed Trade",averageRating:"Average Rating",evaluation:"evaluation",pendingItems:"My Pending Items",activeItems:"My Active Items",messages:"My Messages",rejectedItems:"My Rejected Items",expiredItems:"My Expired Items",noPendingItems:"No pending items",noPendingItemsDesc:"Your new items will appear here after admin approval",noActiveItems:"No active items yet",noActiveItemsDesc:"Add your first item and start trading!",noRejectedItems:"No rejected items",noRejectedItemsDesc:"Your items have not been rejected yet",noExpiredItems:"No expired items",noExpiredItemsDesc:"Items older than 30 days will appear here",loadingPendingItems:"Loading your pending items...",loadingRejectedItems:"Loading rejected items...",loadingExpiredItems:"Loading expired items...",pendingInfo:"These items are waiting for admin approval",pendingInfoDesc:"Your items will be published after being reviewed by admin.",rejectedInfo:"These items were rejected by admin",rejectedInfoDesc:"Your items were not published because they were inappropriate. You can add new items.",expiredInfo:"These items have expired",expiredInfoDesc:"You can pay to republish your items or delete them.",edit:"Edit",view:"View",selectAll:"Select All",deleteSelected:"Delete Selected",deleting:"Deleting...",itemsSelected:"items selected",statusActive:"Active",statusRejected:"Rejected"},items:{title:"Title",description:"Description",category:"Category",subcategory:"Subcategory",condition:"Condition",location:"Location",city:"City",district:"District",neighborhood:"Neighborhood",images:"Images",addItem:"Add Item",editItem:"Edit Item",deleteItem:"Delete Item",makeOffer:"Make Offer",contactOwner:"Contact Owner",itemAdded:"Item added successfully",itemUpdated:"Item updated",itemDeleted:"Item deleted",searchItems:"Search items...",noItemsFound:"No items found",itemExpired:"Item expired",itemPending:"Item pending approval",itemApproved:"Item approved",itemRejected:"Item rejected",paymentRequired:"Payment Required for 4th Item",paymentDescription:"First 3 items are free! For the 4th item and beyond, a payment of 10 TL is required for each item.",backToItems:"Back to Items",itemDescription:"Description",itemOwner:"Item Owner",sendMessage:"Send Message",tradeOffer:"Make Trade Offer",tradeOfferHint:"Select one of your items to trade with this item",itemNotFound:"Item Not Found",itemNotFoundDesc:"The item you are looking for does not exist or may have been removed.",statusActive:"Active",statusTraded:"Traded"},common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",search:"Search",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",select:"Select",upload:"Upload",remove:"Remove",view:"View",markAllRead:"Mark All Read",viewAll:"View All",language:"Language",categoriesTitle:"Browse Categories",categoriesSubtitle:"Choose the product category you need and start trading",teknolojikDesc:"Trade phones, laptops, cameras",beyazEsyaDesc:"Exchange white goods",mobilyaDesc:"Exchange furniture",arabaDesc:"Trade vehicle parts",oyuncakDesc:"Exchange children's toys",tasinmazDesc:"Trade real estate, land, fields",kitapDesc:"Exchange your book collection",testimonialsTitle:"User Reviews",testimonialsSubtitle:"Comments from our happy users",testimonial1:"I traded my laptop for a camera. Very safe and easy.",testimonial2:"Trading toys is great. We both saved money and got new toys.",testimonial3:"I trade my books for new books. Very practical.",footerDescription:"Turkey's most reliable listing exchange platform. Change through barter for a sustainable future!",platform:"Platform",howItWorksLink:"How It Works",security:"Security",commissionRates:"Commission Rates",mobileApp:"Mobile App",support:"Support",helpCenter:"Help Center",contact:"Contact",liveSupport:"Live Support",faq:"FAQ",legal:"Legal",termsOfUse:"Terms of Use",privacyPolicy:"Privacy Policy",kvkk:"KVKK",cookies:"Cookies",allRightsReserved:"© 2024 Barter. All rights reserved.",sslSecure:"SSL Secure",ecoFriendly:"Eco Friendly"},blog:{recyclingTitle:"Why Is Recycling So Important?",recyclingSubtitle:"Discover the importance of recycling, one of the most effective ways to protect nature. Protect the environment and contribute to the economy by trading.",protectNatureTitle:"🌍 To Protect Nature",protectNatureDesc:"Every year, tons of plastic, glass, metal and electronic waste are dumped into nature. These wastes can take hundreds of years to disappear.",plasticBottle:"Plastic bottle: 400 years",aluminumCan:"Aluminum can: 80-100 years",glassBottle:"Glass bottle: Almost never disappears",economyTitle:"💰 Contributing to Economy",economyDesc:"Items we don't use don't have to become trash. It's possible to reevaluate them:",rawMaterial:"Raw material needs decrease",energyConsumption:"Energy consumption decreases significantly",economicContribution:"Serious contribution to the country's economy",easiestWayTitle:"🔄 The Easiest Way to Recycle: Trading",easiestWayDesc:"Instead of throwing away items you no longer use, you can share them with those who need them:",phoneExample:"Your unused phone → Exchange with camera",furnitureExample:"Extra furniture → Turn into a new bike",electronicExample:"Electronics in drawer → Trade for home appliance you need",readMore:"📖 Read More",startTrading:"Start Trading Now",encouragement:"💚 You too contribute to the environment, protect nature!",blogTitle:"Blog",blogSubtitle:"Valuable insights on recycling, sustainable living and eco-friendly habits",environmentContribution:"You Can Also Contribute to the Environment!",environmentContributionDesc:"By trading items you don't use, both protect nature and get the products you need.",addItem:"Add Item",browseItems:"Browse Items",backToBlog:"Back to Blog",share:"Share",startTradingNow:"Start Trading Now!",startTradingDesc:"Share items you don't use, find what you need and contribute to the environment.",notFound:"Blog post not found",nationalCapitalTitle:"What is National Capital? How is it Formed and How is it Consumed?",nationalCapitalExcerpt:"Discover the importance of national capital, which constitutes all the material and spiritual resources of our country. How can we protect our national capital by preventing waste and conscious consumption?"},home:{welcomeTitle:"Welcome to Barter Circle",welcomeSubtitle:"Trade your items for a sustainable future",heroDescription:"Here is sharing instead of shopping... Gain instead of spending... Production instead of consumption...",heroTexts:[{title:"Welcome to Barter Circle",subtitle:"Users can only share products that belong to them or that they have the right to trade. Deposits, advance payments or money transfers between users are strictly prohibited. Barter Circle is not responsible for payments made between users. Platform reserves the right to remove suspicious or non-compliant listings."},{title:"WELCOME TO BARTER CIRCLE",subtitle:"Here is sharing instead of shopping... Gain instead of spending... Production instead of consumption..."}],getStarted:"Get Started",howItWorks:"How It Works?",step1Title:"Create Account",step1Description:"Register for free",step2Title:"Add Item",step2Description:"Add photos of your item",step3Title:"Find Item",step3Description:"Search for the item you want",step4Title:"Make Trade",step4Description:"Send offers and make trades",howItWorksDetail:{title:"How It Works",description:"List your items for free, receive trade offers and easily exchange."},securityDetail:{title:"Security",description:"Your user information and transactions are protected with secure infrastructure."},commissionDetail:{title:"Commission Rates",description:"No commission is charged on trade transactions."},mobileAppDetail:{title:"Mobile App",description:"Use Barter Circle from your pocket anytime you want."},helpCenterDetail:{title:"Help Center",description:"Easily solve your problems with frequently asked questions and guides."},contactDetail:{title:"Contact",description:"Contact us directly via email or live support messaging."},liveSupportDetail:{title:"Live Support",description:"Find quick solutions to every problem with 24/7 instant chat support."},faqDetail:{title:"FAQ (Frequently Asked Questions)",items:{q1:{question:"How can I become a member?",answer:"You can register for free with your email address."},q2:{question:"Is trading paid?",answer:"No, it's completely free."},q3:{question:"Is commission charged?",answer:"No, no commission is charged from any transaction."},q4:{question:"How do I add my listing?",answer:'You can easily add it using the "Add Listing" option from your profile.'},q5:{question:"What happens if I encounter a malicious user?",answer:"You can report them, our team will review and suspend the account if necessary."},q6:{question:"Is there a mobile app?",answer:"Yes, you can download it from Android and iOS."}}},termsOfUseDetail:{title:"Terms of Use",description:"You must proceed within ethical and moral framework while using the platform. Complaints are reviewed and your account is suspended when deemed necessary."},privacyPolicyDetail:{title:"Privacy Policy",description:"Protection of personal data is our priority. Information such as name, email, phone is used only for service provision and is not shared with third parties without permission. Modern encryption and data protection methods are applied for security. Users can delete their accounts anytime and request deletion of their data."},kvkkDetail:{title:"GDPR (General Data Protection Regulation)",description:"Personal data collected is used only for the execution of platform services. The purpose, legal basis and retention period of data processing are transparently communicated to users. Users have the right to access, correct, delete and stop processing their own data. Related requests can be submitted to user support unit. Necessary technical and administrative security measures are taken under GDPR."},cookiesDetail:{title:"Cookies",description:"Cookies are used to improve site experience. Thanks to cookies, your login information is remembered, listings are personalized and site performance is measured. Users who want can turn off cookies from browser settings."},featuredItems:"Featured Items",browseByCategory:"Browse by Category",categories:{beyaz_esya:"Home Appliances",elektronik:"Electronics",mobilya:"Furniture",giyim:"Clothing",kitap:"Books",oyuncak:"Toys",spor:"Sports",otomobil:"Automotive",diger:"Other"},recentItems:"Recent Items",noRecentItems:"No items found yet",loginToSeeMore:"Login to see more",stepsSubtitle:"Trade in 4 easy steps",recentItemsCount:"Recently added",ctaDescription:"Register for free and choose from thousands of listings. First trade with special discount!",addFirstItem:"Add Your First Item",itemsText:"items"},addItem:{title:"Add New Listing",subtitle:"Add information about the item you want to trade",photos:"Photos",addPhoto:"Add Photo",photoHint:"Maximum 5 photos. First photo will be cover.",category:"Category",selectCategory:"Select category",subcategory:"Subcategory",selectSubcategory:"Select subcategory",condition:"Condition",selectCondition:"Select condition",city:"City",selectCity:"Select city",district:"District",enterDistrict:"Enter district",neighborhood:"Neighborhood",enterNeighborhood:"Enter neighborhood",title_field:"Title",enterTitle:"Add title",description:"Description",enterDescription:"Add description",carBrand:"Brand",selectCarBrand:"Select brand",carModel:"Model",enterCarModel:"Enter model",carKm:"Mileage",enterCarKm:"Enter mileage",submitButton:"Add Listing (30 days)",cancel:"Cancel",required:"*"},categories:{all:"All",elektronik:"Electronics",mobilya:"Furniture",giyim:"Clothing",kitap:"Books",oyuncak:"Toys",spor:"Sports",beyaz_esya:"Home Appliances",otomobil:"Automotive",araba:"Cars",araba_yedek_parca:"Car Parts",araba_group:"Cars & Parts",tasinmazlar:"Real Estate",tasinmazlar_group:"Real Estate",teknolojik_urunler:"Technology Products",diger:"Other"},conditions:{all:"All",yeni:"New",kullanilmis:"Used",orta:"Fair",cok_iyi:"Very Good",kusurlu:"Damaged"},terms:{title:"📜 Terms of Use and Privacy Policy",usageTermsTitle:"📜 Takas Çemberi Terms of Use",privacyPolicyTitle:"🔒 Privacy Policy",generalProvisionsTitle:"1. General Provisions",generalProvisions:["Takas Çemberi is a digital platform that allows its members to exchange their surplus products for free or under specified terms.","Every user who becomes a member of the platform is deemed to have read and accepted these terms of use."],membershipSecurityTitle:"2. Membership and Account Security",membershipSecurity:["Members are obliged to provide accurate and up-to-date information during registration.","Users are responsible for account security. Users are responsible for any liability arising from sharing usernames and passwords with third parties."],adsSharesTitle:"3. Listings and Shares",adsShares:["Users can only share products that belong to them or that they have the right to trade.","Deposits, advance payments or money transfers between users are strictly prohibited, Takas Çemberi is not responsible in such cases.","The platform reserves the right to remove suspicious or non-compliant listings."],liabilityDisclaimerTitle:"4. Disclaimer of Liability",liabilityDisclaimer:["Takas Çemberi is not a party to trading transactions between users.","Users are responsible for product quality, delivery or disputes that may arise after trading."],serviceLimitsTitle:"5. Service Limitations",serviceLimits:["Takas Çemberi reserves the right to change, suspend or terminate the service at any time."],dataCollectionTitle:"1. Personal Data Collection",dataCollection:["Basic data such as name, email and contact information are requested during membership.","This information is used only to improve user experience and provide a secure platform."],dataUsageTitle:"2. Data Usage",dataUsage:["User information is never shared with third parties.","However, it may be shared with official authorities in case of legal obligation."],cookiesTitle:"3. Cookies",cookies:["The platform may use cookies to enhance user experience.","Users who wish can turn off cookies from their browser settings."],securityTitle:"4. Security",security:["Necessary technical and administrative measures are taken to protect user data."],rightsTitle:"5. Your Rights",rights:["Users can request deletion, updating or correction of their personal data.","For these requests, you can contact us through the contact section."],acceptText:"I have read, understood and accept the above Terms of Use and Privacy Policy.",acceptButton:"✅ Accept & Register",cancelButton:"❌ Cancel",acceptCheckbox:"✅ I accept",loading:"Creating account..."},admin:{panel:"Admin Panel",users:"Users",userManagement:"User Management",searchUsers:"Search users...",sendMessage:"Send Message",messageTitle:"Message Title",messageContent:"Message Content",enterMessageTitle:"Enter message title",enterMessageContent:"Enter message content",send:"Send",messageSent:"Message sent successfully",messageError:"Error sending message",userName:"User Name",email:"Email",joinDate:"Join Date",actions:"Actions",noUsersFound:"No users found",loadingUsers:"Loading users...",viewProfile:"View Profile",close:"Close"}},ar:{nav:{home:"الرئيسية",items:"العناصر",profile:"الملف الشخصي",addItem:"إضافة عنصر",messages:"الرسائل",admin:"المسؤول",notifications:"الإشعارات",blog:"مدونة"},auth:{login:"تسجيل الدخول",register:"إنشاء حساب",logout:"تسجيل الخروج",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",forgotPassword:"نسيت كلمة المرور",resetPassword:"إعادة تعيين كلمة المرور",name:"الاسم الكامل",phone:"الهاتف",loginToAccount:"سجل دخولك إلى حسابك",createAccount:"إنشاء حساب جديد",alreadyHaveAccount:"هل لديك حساب بالفعل؟",dontHaveAccount:"ليس لديك حساب؟",sendResetEmail:"إرسال رسالة إعادة التعيين",loginError:"حدث خطأ في تسجيل الدخول",registerError:"حدث خطأ في التسجيل",invalidCredentials:"بريد إلكتروني أو كلمة مرور غير صحيحة",emailAlreadyInUse:"هذا البريد الإلكتروني مستخدم بالفعل",weakPassword:"كلمة المرور ضعيفة جداً",userNotFound:"المستخدم غير موجود",verifyEmail:"يرجى التحقق من بريدك الإلكتروني"},profile:{myProfile:"ملفي الشخصي",myItems:"عناصري",tradeOffers:"عروض التبادل",ratings:"التقييمات",editProfile:"تعديل الملف الشخصي",profileUpdated:"تم تحديث الملف الشخصي",updateProfile:"تحديث الملف الشخصي",joinDate:"تاريخ الانضمام",itemCount:"عدد العناصر",rating:"التقييم",noItemsYet:"لا توجد عناصر بعد",noRatingsYet:"لا توجد تقييمات بعد",changePhoto:"تغيير الصورة",changePassword:"تغيير كلمة المرور",activeItem:"إعلان نشط",completedTrade:"تبادل مكتمل",averageRating:"متوسط التقييم",evaluation:"تقييم",pendingItems:"إعلاناتي المعلقة",activeItems:"إعلاناتي النشطة",messages:"رسائلي",rejectedItems:"إعلاناتي المرفوضة",expiredItems:"إعلاناتي المنتهية الصلاحية",noPendingItems:"لا توجد إعلانات معلقة",noPendingItemsDesc:"إعلاناتك الجديدة ستظهر هنا بعد موافقة المدير",noActiveItems:"لا توجد إعلانات نشطة بعد",noActiveItemsDesc:"أضف إعلانك الأول وابدأ التداول!",noRejectedItems:"لا توجد إعلانات مرفوضة",noRejectedItemsDesc:"لم يتم رفض إعلاناتك بعد",noExpiredItems:"لا توجد إعلانات منتهية الصلاحية",noExpiredItemsDesc:"الإعلانات الأقدم من 30 يوماً ستظهر هنا",loadingPendingItems:"جاري تحميل إعلاناتك المعلقة...",loadingRejectedItems:"جاري تحميل الإعلانات المرفوضة...",loadingExpiredItems:"جاري تحميل الإعلانات المنتهية الصلاحية...",pendingInfo:"هذه الإعلانات في انتظار موافقة المدير",pendingInfoDesc:"سيتم نشر إعلاناتك بعد مراجعتها من قبل المدير.",rejectedInfo:"هذه الإعلانات تم رفضها من قبل المدير",rejectedInfoDesc:"لم يتم نشر إعلاناتك لأنها غير مناسبة. يمكنك إضافة إعلانات جديدة.",expiredInfo:"هذه الإعلانات انتهت صلاحيتها",expiredInfoDesc:"يمكنك الدفع لإعادة نشر إعلاناتك أو حذفها.",edit:"تعديل",view:"عرض",selectAll:"تحديد الكل",deleteSelected:"حذف المحدد",deleting:"جاري الحذف...",itemsSelected:"إعلانات محددة",statusActive:"نشط",statusRejected:"مرفوض"},items:{title:"العنوان",description:"الوصف",category:"الفئة",subcategory:"الفئة الفرعية",condition:"الحالة",location:"الموقع",city:"المدينة",district:"المنطقة",neighborhood:"الحي",images:"الصور",addItem:"إضافة عنصر",editItem:"تعديل العنصر",deleteItem:"حذف العنصر",makeOffer:"تقديم عرض",contactOwner:"التواصل مع المالك",itemAdded:"تم إضافة العنصر بنجاح",itemUpdated:"تم تحديث العنصر",itemDeleted:"تم حذف العنصر",searchItems:"البحث في العناصر...",noItemsFound:"لم يتم العثور على عناصر",itemExpired:"انتهت صلاحية العنصر",itemPending:"العنصر في انتظار الموافقة",itemApproved:"تم قبول العنصر",itemRejected:"تم رفض العنصر",paymentRequired:"الدفع مطلوب للعنصر الرابع",paymentDescription:"أول 3 عناصر مجانية! للعنصر الرابع وما بعده، مطلوب دفع 10 ليرة تركية لكل عنصر.",backToItems:"العودة إلى العناصر",itemDescription:"الوصف",itemOwner:"مالك العنصر",sendMessage:"إرسال رسالة",tradeOffer:"تقديم عرض تبادل",tradeOfferHint:"اختر أحد عناصرك للتبادل مع هذا العنصر",itemNotFound:"العنصر غير موجود",itemNotFoundDesc:"العنصر الذي تبحث عنه غير موجود أو ربما تم حذفه.",statusActive:"نشط",statusTraded:"تم تبادله"},common:{save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",search:"بحث",loading:"جاري التحميل...",error:"خطأ",success:"نجح",yes:"نعم",no:"لا",close:"إغلاق",submit:"إرسال",back:"رجوع",next:"التالي",previous:"السابق",select:"اختيار",upload:"رفع",remove:"إزالة",view:"عرض",markAllRead:"تحديد الكل كمقروء",viewAll:"عرض الكل",language:"اللغة",categoriesTitle:"تصفح الفئات",categoriesSubtitle:"اختر فئة المنتج التي تحتاجها وابدأ التداول",teknolojikDesc:"تبادل الهواتف والكمبيوترات المحمولة والكاميرات",beyazEsyaDesc:"تبادل الأجهزة المنزلية",mobilyaDesc:"تبادل الأثاث",arabaDesc:"تبادل قطع غيار السيارات",oyuncakDesc:"تبادل ألعاب الأطفال",tasinmazDesc:"تبادل المنازل والأراضي والحقول",kitapDesc:"تبادل مجموعة كتبك",testimonialsTitle:"آراء المستخدمين",testimonialsSubtitle:"تعليقات من مستخدمينا السعداء",testimonial1:"تبادلت الكمبيوتر المحمول الخاص بي بكاميرا. آمن وسهل جداً.",testimonial2:"تبادل الألعاب رائع. وفرنا المال وحصلنا على ألعاب جديدة.",testimonial3:"أتبادل كتبي بكتب جديدة. عملي جداً.",footerDescription:"منصة تبادل الإعلانات الأكثر موثوقية في تركيا. التغيير من خلال المقايضة من أجل مستقبل مستدام!",platform:"المنصة",howItWorksLink:"كيف تعمل",security:"الأمان",commissionRates:"معدلات العمولة",mobileApp:"التطبيق المحمول",support:"الدعم",helpCenter:"مركز المساعدة",contact:"اتصل بنا",liveSupport:"الدعم المباشر",faq:"الأسئلة الشائعة",legal:"قانوني",termsOfUse:"شروط الاستخدام",privacyPolicy:"سياسة الخصوصية",kvkk:"KVKK",cookies:"ملفات تعريف الارتباط",allRightsReserved:"© 2024 المقايضة. جميع الحقوق محفوظة.",sslSecure:"آمن SSL",ecoFriendly:"صديق للبيئة"},blog:{recyclingTitle:"لماذا تعتبر إعادة التدوير مهمة جداً؟",recyclingSubtitle:"اكتشف أهمية إعادة التدوير، إحدى أكثر الطرق فعالية لحماية الطبيعة. احمِ البيئة وساهم في الاقتصاد من خلال التبادل.",protectNatureTitle:"🌍 لحماية الطبيعة",protectNatureDesc:"كل عام، يتم إلقاء أطنان من البلاستيك والزجاج والمعدن والنفايات الإلكترونية في الطبيعة. يمكن أن تستغرق هذه النفايات مئات السنين للاختفاء.",plasticBottle:"زجاجة بلاستيكية: 400 سنة",aluminumCan:"علبة ألومنيوم: 80-100 سنة",glassBottle:"زجاجة زجاجية: لا تختفي أبداً تقريباً",economyTitle:"💰 المساهمة في الاقتصاد",economyDesc:"الأشياء التي لا نستخدمها لا يجب أن تصبح قمامة. من الممكن إعادة تقييمها:",rawMaterial:"تقل الحاجة للمواد الخام",energyConsumption:"ينخفض استهلاك الطاقة بشكل كبير",economicContribution:"مساهمة جدية في اقتصاد البلاد",easiestWayTitle:"🔄 أسهل طريقة لإعادة التدوير: التبادل",easiestWayDesc:"بدلاً من رمي الأشياء التي لا تستخدمها، يمكنك مشاركتها مع من يحتاجها:",phoneExample:"هاتفك غير المستخدم → استبدله بكاميرا",furnitureExample:"أثاث إضافي → حوله إلى دراجة جديدة",electronicExample:"إلكترونيات في الدرج → استبدلها بجهاز منزلي تحتاجه",readMore:"📖 اقرأ المزيد",startTrading:"ابدأ التبادل الآن",encouragement:"💚 أنت أيضاً ساهم في البيئة واحمِ الطبيعة!",blogTitle:"مدونة",blogSubtitle:"رؤى قيمة حول إعادة التدوير والعيش المستدام والعادات الصديقة للبيئة",environmentContribution:"يمكنك أيضاً المساهمة في البيئة!",environmentContributionDesc:"من خلال تبادل العناصر التي لا تستخدمها، احمِ الطبيعة واحصل على المنتجات التي تحتاجها.",addItem:"أضف عنصر",browseItems:"تصفح العناصر",backToBlog:"العودة إلى المدونة",share:"شارك",startTradingNow:"ابدأ التداول الآن!",startTradingDesc:"شارك العناصر التي لا تستخدمها، واعثر على ما تحتاجه واساهم في البيئة.",notFound:"لم يتم العثور على المقال",nationalCapitalTitle:"ما هو رأس المال الوطني؟ كيف يتكون وكيف يستهلك؟",nationalCapitalExcerpt:"اكتشف أهمية رأس المال الوطني الذي يشكل جميع موارد بلدنا المادية والمعنوية. كيف يمكننا حماية رأس مالنا الوطني من خلال منع الهدر والاستهلاك الواعي؟"},home:{welcomeTitle:"مرحباً بك في دائرة المقايضة",welcomeSubtitle:"تبادل العناصر من أجل مستقبل مستدام",heroDescription:"هنا التقاسم بدلاً من التسوق... الكسب بدلاً من الإنفاق... الإنتاج بدلاً من الاستهلاك...",heroTexts:[{title:"مرحباً بك في دائرة المقايضة",subtitle:"يمكن للمستخدمين مشاركة المنتجات التي تخصهم فقط أو التي لديهم حق في تداولها. الودائع أو الدفعات المقدمة أو التحويلات المالية بين المستخدمين محظورة تماماً. دائرة المقايضة غير مسؤولة عن المدفوعات التي يقوم بها المستخدمون لبعضهم البعض. المنصة تحتفظ بحق إزالة الإعلانات المشبوهة أو غير المتوافقة."},{title:"مرحباً بك في دائرة المقايضة",subtitle:"هنا التقاسم بدلاً من التسوق... الكسب بدلاً من الإنفاق... الإنتاج بدلاً من الاستهلاك..."}],getStarted:"ابدأ الآن",howItWorks:"كيف يعمل؟",step1Title:"إنشاء حساب",step1Description:"سجل مجاناً",step2Title:"إضافة عنصر",step2Description:"أضف صور لعنصرك",step3Title:"البحث عن عنصر",step3Description:"ابحث عن العنصر الذي تريده",step4Title:"قم بالتداول",step4Description:"أرسل عروض وقم بالتداول",howItWorksDetail:{title:"كيف يعمل",description:"أدرج عناصرك مجاناً، واستقبل عروض التبادل وقم بالتبادل بسهولة."},securityDetail:{title:"الأمان",description:"معلومات المستخدم والمعاملات محمية بأساس أمني آمن."},commissionDetail:{title:"معدلات العمولة",description:"لا يتم أخذ عمولة نهائياً في معاملات التبادل."},mobileAppDetail:{title:"التطبيق المحمول",description:"استخدم دائرة المقايضة من جيبك في أي وقت تريد."},helpCenterDetail:{title:"مركز المساعدة",description:"حل مشاكلك بسهولة مع الأسئلة الشائعة والأدلة."},contactDetail:{title:"اتصل بنا",description:"تواصل معنا مباشرة عبر البريد الإلكتروني أو رسائل الدعم المباشر."},liveSupportDetail:{title:"الدعم المباشر",description:"اعثر على حلول سريعة لكل مشكلة مع دعم الدردشة الفوري 24/7."},faqDetail:{title:"الأسئلة الشائعة",items:{q1:{question:"كيف يمكنني أن أصبح عضواً؟",answer:"يمكنك التسجيل مجاناً بعنوان بريدك الإلكتروني."},q2:{question:"هل التداول مدفوع؟",answer:"لا، إنه مجاني تماماً."},q3:{question:"هل يتم أخذ عمولة؟",answer:"لا، لا يتم أخذ عمولة من أي معاملة."},q4:{question:"كيف أضيف إعلاني؟",answer:'يمكنك إضافته بسهولة باستخدام خيار "إضافة إعلان" من ملفك الشخصي.'},q5:{question:"ماذا يحدث إذا واجهت مستخدماً خبيثاً؟",answer:"يمكنك الإبلاغ عنه، سيراجع فريقنا ويعلق الحساب إذا لزم الأمر."},q6:{question:"هل يوجد تطبيق محمول؟",answer:"نعم، يمكنك تحميله من Android و iOS."}}},termsOfUseDetail:{title:"شروط الاستخدام",description:"يجب عليك المضي قدماً ضمن الإطار الأخلاقي والأدبي أثناء استخدام المنصة. يتم مراجعة الشكاوى ويتم تعليق حسابك عند الضرورة."},privacyPolicyDetail:{title:"سياسة الخصوصية",description:"حماية البيانات الشخصية هي أولويتنا. المعلومات مثل الاسم والبريد الإلكتروني والهاتف تُستخدم فقط لتقديم الخدمة ولا يتم مشاركتها مع أطراف ثالثة بدون إذن. تُطبق طرق التشفير الحديثة وحماية البيانات للأمان. يمكن للمستخدمين حذف حساباتهم في أي وقت وطلب حذف بياناتهم."},kvkkDetail:{title:"قانون حماية البيانات الشخصية",description:"البيانات الشخصية المجمعة تُستخدم فقط لتنفيذ خدمات المنصة. يتم إبلاغ المستخدمين بشفافية عن غرض معالجة البيانات والأساس القانوني ومدة الاحتفاظ. للمستخدمين الحق في الوصول إلى بياناتهم الخاصة وتصحيحها وحذفها وإيقاف معالجتها. يمكن تقديم الطلبات ذات الصلة إلى وحدة دعم المستخدمين. يتم اتخاذ التدابير الأمنية التقنية والإدارية اللازمة في إطار قانون حماية البيانات الشخصية."},cookiesDetail:{title:"ملفات تعريف الارتباط",description:"تُستخدم ملفات تعريف الارتباط لتحسين تجربة الموقع. بفضل ملفات تعريف الارتباط، يتم تذكر معلومات تسجيل الدخول وتخصيص الإعلانات وقياس أداء الموقع. يمكن للمستخدمين الذين يريدون إيقاف ملفات تعريف الارتباط من إعدادات المتصفح."},featuredItems:"العناصر المميزة",browseByCategory:"تصفح حسب الفئة",categories:{beyaz_esya:"الأجهزة المنزلية",elektronik:"الإلكترونيات",mobilya:"الأثاث",giyim:"الملابس",kitap:"الكتب",oyuncak:"الألعاب",spor:"الرياضة",otomobil:"السيارات",diger:"أخرى"},recentItems:"العناصر الحديثة",noRecentItems:"لم يتم العثور على عناصر بعد",loginToSeeMore:"سجل الدخول لترى المزيد",stepsSubtitle:"التبادل في 4 خطوات سهلة",recentItemsCount:"تم إضافة مؤخراً",ctaDescription:"سجل مجاناً واختر من آلاف الإعلانات. أول تبادل بخصم خاص!",addFirstItem:"أضف عنصرك الأول",itemsText:"عناصر"},addItem:{title:"إضافة إعلان جديد",subtitle:"أضف معلومات العنصر الذي تريد تبادله",photos:"الصور",addPhoto:"إضافة صورة",photoHint:"أقصى 5 صور. الصورة الأولى ستكون الغلاف.",category:"الفئة",selectCategory:"اختر الفئة",subcategory:"الفئة الفرعية",selectSubcategory:"اختر الفئة الفرعية",condition:"الحالة",selectCondition:"اختر الحالة",city:"المدينة",selectCity:"اختر المدينة",district:"المنطقة",enterDistrict:"أدخل المنطقة",neighborhood:"الحي",enterNeighborhood:"أدخل الحي",title_field:"العنوان",enterTitle:"أضف العنوان",description:"الوصف",enterDescription:"أضف الوصف",carBrand:"الماركة",selectCarBrand:"اختر الماركة",carModel:"الطراز",enterCarModel:"أدخل الطراز",carKm:"المسافة المقطوعة",enterCarKm:"أدخل المسافة المقطوعة",submitButton:"إضافة إعلان (30 يوماً)",cancel:"إلغاء",required:"*"},categories:{all:"الكل",elektronik:"الإلكترونيات",mobilya:"الأثاث",giyim:"الملابس",kitap:"الكتب",oyuncak:"الألعاب",spor:"الرياضة",beyaz_esya:"الأجهزة المنزلية",otomobil:"السيارات",araba:"السيارات",araba_yedek_parca:"قطع غيار السيارات",araba_group:"السيارات وقطع الغيار",tasinmazlar:"العقارات",tasinmazlar_group:"العقارات",teknolojik_urunler:"المنتجات التكنولوجية",diger:"أخرى"},conditions:{all:"الكل",yeni:"جديد",kullanilmis:"مستعمل",orta:"متوسط",cok_iyi:"جيد جداً",kusurlu:"معطوب"},terms:{title:"📜 شروط الاستخدام وسياسة الخصوصية",usageTermsTitle:"📜 شروط استخدام تاكاس تشمبري",privacyPolicyTitle:"🔒 سياسة الخصوصية",generalProvisionsTitle:"1. أحكام عامة",generalProvisions:["تاكاس تشمبري هي منصة رقمية تتيح لأعضائها تبادل منتجاتهم الفائضة مجاناً أو وفقاً لشروط محددة.","كل مستخدم يصبح عضواً في المنصة يُعتبر أنه قرأ ووافق على شروط الاستخدام هذه."],membershipSecurityTitle:"2. العضوية وأمان الحساب",membershipSecurity:["الأعضاء ملزمون بتقديم معلومات دقيقة ومحدثة أثناء التسجيل.","المستخدمون مسؤولون عن أمان الحساب. المستخدمون مسؤولون عن أي مسؤولية تنشأ من مشاركة أسماء المستخدمين وكلمات المرور مع أطراف ثالثة."],adsSharesTitle:"3. الإعلانات والمشاركات",adsShares:["يمكن للمستخدمين مشاركة المنتجات التي تخصهم فقط أو التي لديهم حق في تداولها.","الودائع أو الدفعات المقدمة أو التحويلات المالية بين المستخدمين محظورة تماماً، تاكاس تشمبري غير مسؤول في مثل هذه الحالات.","المنصة تحتفظ بحق إزالة الإعلانات المشبوهة أو غير المتوافقة."],liabilityDisclaimerTitle:"4. إخلاء المسؤولية",liabilityDisclaimer:["تاكاس تشمبري ليس طرفاً في معاملات التداول بين المستخدمين.","المستخدمون مسؤولون عن جودة المنتج والتسليم أو النزاعات التي قد تنشأ بعد التداول."],serviceLimitsTitle:"5. قيود الخدمة",serviceLimits:["تاكاس تشمبري تحتفظ بحق تغيير أو تعليق أو إنهاء الخدمة في أي وقت."],dataCollectionTitle:"1. جمع البيانات الشخصية",dataCollection:["يتم طلب البيانات الأساسية مثل الاسم والبريد الإلكتروني ومعلومات الاتصال أثناء العضوية.","هذه المعلومات تُستخدم فقط لتحسين تجربة المستخدم وتوفير منصة آمنة."],dataUsageTitle:"2. استخدام البيانات",dataUsage:["معلومات المستخدم لا تُشارك أبداً مع أطراف ثالثة.","ومع ذلك، قد تُشارك مع السلطات الرسمية في حالة الالتزام القانوني."],cookiesTitle:"3. ملفات تعريف الارتباط",cookies:["قد تستخدم المنصة ملفات تعريف الارتباط لتحسين تجربة المستخدم.","المستخدمون الذين يرغبون يمكنهم إيقاف ملفات تعريف الارتباط من إعدادات المتصفح."],securityTitle:"4. الأمان",security:["يتم اتخاذ التدابير التقنية والإدارية اللازمة لحماية بيانات المستخدم."],rightsTitle:"5. حقوقك",rights:["يمكن للمستخدمين طلب حذف أو تحديث أو تصحيح بياناتهم الشخصية.","لهذه الطلبات، يمكنكم التواصل معنا من خلال قسم الاتصال."],acceptText:"لقد قرأت وفهمت ووافقت على شروط الاستخدام وسياسة الخصوصية أعلاه.",acceptButton:"✅ قبول والتسجيل",cancelButton:"❌ إلغاء",acceptCheckbox:"✅ أوافق",loading:"جاري إنشاء الحساب..."},admin:{panel:"لوحة الإدارة",users:"المستخدمون",userManagement:"إدارة المستخدمين",searchUsers:"البحث عن المستخدمين...",sendMessage:"إرسال رسالة",messageTitle:"عنوان الرسالة",messageContent:"محتوى الرسالة",enterMessageTitle:"أدخل عنوان الرسالة",enterMessageContent:"أدخل محتوى الرسالة",send:"إرسال",messageSent:"تم إرسال الرسالة بنجاح",messageError:"خطأ في إرسال الرسالة",userName:"اسم المستخدم",email:"البريد الإلكتروني",joinDate:"تاريخ الانضمام",actions:"الإجراءات",noUsersFound:"لم يتم العثور على مستخدمين",loadingUsers:"جاري تحميل المستخدمين...",viewProfile:"عرض الملف الشخصي",close:"إغلاق"}}},uD=p.createContext(void 0);function GW({children:t}){const[e,n]=p.useState(()=>localStorage.getItem("language")||"tr"),r=i=>{n(i),localStorage.setItem("language",i),i==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=i)};p.useEffect(()=>{e==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=e)},[e]);const s={language:e,setLanguage:r,t:WW[e]};return a.jsx(uD.Provider,{value:s,children:t})}function Kn(){const t=p.useContext(uD);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const QW=Fg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?nA:"button";return a.jsx(o,{className:_e(QW({variant:e,size:n,className:t})),ref:i,...s})});W.displayName="Button";const YW=Fg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:t,variant:e,...n}){return a.jsx("div",{className:_e(YW({variant:e}),t),...n})}var pf=t=>t.type==="checkbox",$o=t=>t instanceof Date,er=t=>t==null;const dD=t=>typeof t=="object";var nn=t=>!er(t)&&!Array.isArray(t)&&dD(t)&&!$o(t),hD=t=>nn(t)&&t.target?pf(t.target)?t.target.checked:t.target.value:t,ZW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,fD=(t,e)=>t.has(ZW(e)),XW=t=>{const e=t.constructor&&t.constructor.prototype;return nn(e)&&e.hasOwnProperty("isPrototypeOf")},dk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _n(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(dk&&(t instanceof Blob||r))&&(n||nn(t)))if(e=n?[]:{},!n&&!XW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=_n(t[s]));else return t;return e}var vy=t=>Array.isArray(t)?t.filter(Boolean):[],Jt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!nn(t))return n;const r=vy(e.split(/[,[\].]+?/)).reduce((s,i)=>er(s)?s:s[i],t);return Jt(r)||r===t?Jt(t[e])?n:t[e]:r},Tr=t=>typeof t=="boolean",hk=t=>/^\w*$/.test(t),mD=t=>vy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ft=(t,e,n)=>{let r=-1;const s=hk(e)?[e]:mD(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=nn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Zp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pD=fe.createContext(null),xy=()=>fe.useContext(pD),JW=t=>{const{children:e,...n}=t;return fe.createElement(pD.Provider,{value:n},e)};var gD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ds.all&&(e._proxyFormState[o]=!r||ds.all),n&&(n[o]=!0),t[o]}});return s};function eG(t){const e=xy(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=fe.useState(n._formState),c=fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=fe.useRef(s);return u.current=s,fe.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:i,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,i]),fe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),fe.useMemo(()=>gD(o,n,c.current,!1),[o,n])}var Ys=t=>typeof t=="string",yD=(t,e,n,r,s)=>Ys(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function tG(t){const e=xy(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},l=fe.useRef(r),c=fe.useRef(s);l.current=r,fe.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&h(yD(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,i,o]);const[u,h]=fe.useState(n._getWatch(r,s));return fe.useEffect(()=>n._removeUnmounted()),u}function nG(t){const e=xy(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=fD(s._names.array,n),l=tG({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),c=eG({control:s,name:n,exact:!0}),u=fe.useRef(t),h=fe.useRef(s.register(n,{...t.rules,value:l,...Tr(t.disabled)?{disabled:t.disabled}:{}})),f=fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(c.validatingFields,n)},error:{enumerable:!0,get:()=>oe(c.errors,n)}}),[c,n]),m=fe.useCallback(k=>h.current.onChange({target:{value:hD(k),name:n},type:Zp.CHANGE}),[n]),v=fe.useCallback(()=>h.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:Zp.BLUR}),[n,s._formValues]),w=fe.useCallback(k=>{const _=oe(s._fields,n);_&&k&&(_._f.ref={focus:()=>k.focus(),select:()=>k.select(),setCustomValidity:g=>k.setCustomValidity(g),reportValidity:()=>k.reportValidity()})},[s._fields,n]),x=fe.useMemo(()=>({name:n,value:l,...Tr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:v,ref:w}),[n,r,c.disabled,m,v,w,l]);return fe.useEffect(()=>{const k=s._options.shouldUnregister||i;s.register(n,{...u.current.rules,...Tr(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(g,b)=>{const C=oe(s._fields,g);C&&C._f&&(C._f.mount=b)};if(_(n,!0),k){const g=_n(oe(s._options.defaultValues,n));ft(s._defaultValues,n,g),Jt(oe(s._formValues,n))&&ft(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?k&&!s._state.action:k)?s.unregister(n):_(n,!1)}},[n,s,o,i]),fe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),fe.useMemo(()=>({field:x,formState:c,fieldState:f}),[x,c,f])}const rG=t=>t.render(nG(t));var vD=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Bd=t=>Array.isArray(t)?t:[t],wS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},e0=t=>er(t)||!dD(t);function Ca(t,e){if(e0(t)||e0(e))return t===e;if($o(t)&&$o(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if($o(i)&&$o(o)||nn(i)&&nn(o)||Array.isArray(i)&&Array.isArray(o)?!Ca(i,o):i!==o)return!1}}return!0}var Xn=t=>nn(t)&&!Object.keys(t).length,fk=t=>t.type==="file",hs=t=>typeof t=="function",Xp=t=>{if(!dk)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xD=t=>t.type==="select-multiple",mk=t=>t.type==="radio",sG=t=>mk(t)||pf(t),Gv=t=>Xp(t)&&t.isConnected;function iG(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Jt(t)?r++:t[e[r++]];return t}function aG(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jt(t[e]))return!1;return!0}function cn(t,e){const n=Array.isArray(e)?e:hk(e)?[e]:mD(e),r=n.length===1?t:iG(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(nn(r)&&Xn(r)||Array.isArray(r)&&aG(r))&&cn(t,n.slice(0,-1)),t}var wD=t=>{for(const e in t)if(hs(t[e]))return!0;return!1};function Jp(t,e={}){const n=Array.isArray(t);if(nn(t)||n)for(const r in t)Array.isArray(t[r])||nn(t[r])&&!wD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jp(t[r],e[r])):er(t[r])||(e[r]=!0);return e}function bD(t,e,n){const r=Array.isArray(t);if(nn(t)||r)for(const s in t)Array.isArray(t[s])||nn(t[s])&&!wD(t[s])?Jt(e)||e0(n[s])?n[s]=Array.isArray(t[s])?Jp(t[s],[]):{...Jp(t[s])}:bD(t[s],er(e)?{}:e[s],n[s]):n[s]=!Ca(t[s],e[s]);return n}var sd=(t,e)=>bD(t,e,Jp(e));const bS={value:!1,isValid:!1},_S={value:!0,isValid:!0};var _D=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jt(t[0].attributes.value)?Jt(t[0].value)||t[0].value===""?_S:{value:t[0].value,isValid:!0}:_S:bS}return bS},kD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Jt(t)?t:e?t===""?NaN:t&&+t:n&&Ys(t)?new Date(t):r?r(t):t;const kS={isValid:!1,value:null};var ED=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kS):kS;function ES(t){const e=t.ref;return fk(e)?e.files:mk(e)?ED(t.refs).value:xD(e)?[...e.selectedOptions].map(({value:n})=>n):pf(e)?_D(t.refs).value:kD(Jt(e.value)?t.ref.value:e.value,t)}var oG=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&ft(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},eg=t=>t instanceof RegExp,id=t=>Jt(t)?t:eg(t)?t.source:nn(t)?eg(t.value)?t.value.source:t.value:t,TS=t=>({isOnSubmit:!t||t===ds.onSubmit,isOnBlur:t===ds.onBlur,isOnChange:t===ds.onChange,isOnAll:t===ds.all,isOnTouch:t===ds.onTouched});const NS="AsyncFunction";var lG=t=>!!t&&!!t.validate&&!!(hs(t.validate)&&t.validate.constructor.name===NS||nn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===NS)),cG=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),SS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Hd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Hd(l,e))break}else if(nn(l)&&Hd(l,e))break}}};function IS(t,e,n){const r=oe(t,n);if(r||hk(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),l=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var uG=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Xn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ds.all))},dG=(t,e,n)=>!t||!e||t===e||Bd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),hG=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,fG=(t,e)=>!vy(oe(t,e)).length&&cn(t,e),mG=(t,e,n)=>{const r=Bd(oe(t,n));return ft(r,"root",e[n]),ft(t,n,r),t},Hm=t=>Ys(t);function CS(t,e,n="validate"){if(Hm(t)||Array.isArray(t)&&t.every(Hm)||Tr(t)&&!t)return{type:n,message:Hm(t)?t:"",ref:e}}var Hl=t=>nn(t)&&!eg(t)?t:{value:t,message:""},jS=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:f,max:m,pattern:v,validate:w,name:x,valueAsNumber:k,mount:_}=t._f,g=oe(n,x);if(!_||e.has(x))return{};const b=l?l[0]:o,C=R=>{s&&b.reportValidity&&(b.setCustomValidity(Tr(R)?"":R||""),b.reportValidity())},D={},O=mk(o),I=pf(o),N=O||I,E=(k||fk(o))&&Jt(o.value)&&Jt(g)||Xp(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,S=vD.bind(null,x,r,D),j=(R,A,B,X=_i.maxLength,J=_i.minLength)=>{const ae=R?A:B;D[x]={type:R?X:J,message:ae,ref:o,...S(R?X:J,ae)}};if(i?!Array.isArray(g)||!g.length:c&&(!N&&(E||er(g))||Tr(g)&&!g||I&&!_D(l).isValid||O&&!ED(l).isValid)){const{value:R,message:A}=Hm(c)?{value:!!c,message:c}:Hl(c);if(R&&(D[x]={type:_i.required,message:A,ref:b,...S(_i.required,A)},!r))return C(A),D}if(!E&&(!er(f)||!er(m))){let R,A;const B=Hl(m),X=Hl(f);if(!er(g)&&!isNaN(g)){const J=o.valueAsNumber||g&&+g;er(B.value)||(R=J>B.value),er(X.value)||(A=J<X.value)}else{const J=o.valueAsDate||new Date(g),ae=ne=>new Date(new Date().toDateString()+" "+ne),z=o.type=="time",H=o.type=="week";Ys(B.value)&&g&&(R=z?ae(g)>ae(B.value):H?g>B.value:J>new Date(B.value)),Ys(X.value)&&g&&(A=z?ae(g)<ae(X.value):H?g<X.value:J<new Date(X.value))}if((R||A)&&(j(!!R,B.message,X.message,_i.max,_i.min),!r))return C(D[x].message),D}if((u||h)&&!E&&(Ys(g)||i&&Array.isArray(g))){const R=Hl(u),A=Hl(h),B=!er(R.value)&&g.length>+R.value,X=!er(A.value)&&g.length<+A.value;if((B||X)&&(j(B,R.message,A.message),!r))return C(D[x].message),D}if(v&&!E&&Ys(g)){const{value:R,message:A}=Hl(v);if(eg(R)&&!g.match(R)&&(D[x]={type:_i.pattern,message:A,ref:o,...S(_i.pattern,A)},!r))return C(A),D}if(w){if(hs(w)){const R=await w(g,n),A=CS(R,b);if(A&&(D[x]={...A,...S(_i.validate,A.message)},!r))return C(A.message),D}else if(nn(w)){let R={};for(const A in w){if(!Xn(R)&&!r)break;const B=CS(await w[A](g,n),b,A);B&&(R={...B,...S(A,B.message)},C(B.message),r&&(D[x]=R))}if(!Xn(R)&&(D[x]={ref:b,...R},!r))return D}}return C(!0),D};const pG={mode:ds.onSubmit,reValidateMode:ds.onChange,shouldFocusError:!0};function gG(t={}){let e={...pG,...t},n={submitCount:0,isDirty:!1,isLoading:hs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=nn(e.defaultValues)||nn(e.values)?_n(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:_n(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:wS(),state:wS()},v=TS(e.mode),w=TS(e.reValidateMode),x=e.criteriaMode===ds.all,k=M=>U=>{clearTimeout(u),u=setTimeout(M,U)},_=async M=>{if(!e.disabled&&(h.isValid||f.isValid||M)){const U=e.resolver?Xn((await E()).errors):await j(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},g=(M,U)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(G=>{G&&(U?ft(n.validatingFields,G,U):cn(n.validatingFields,G))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Xn(n.validatingFields)}))},b=(M,U=[],G,le,ee=!0,Z=!0)=>{if(le&&G&&!e.disabled){if(o.action=!0,Z&&Array.isArray(oe(r,M))){const pe=G(oe(r,M),le.argA,le.argB);ee&&ft(r,M,pe)}if(Z&&Array.isArray(oe(n.errors,M))){const pe=G(oe(n.errors,M),le.argA,le.argB);ee&&ft(n.errors,M,pe),fG(n.errors,M)}if((h.touchedFields||f.touchedFields)&&Z&&Array.isArray(oe(n.touchedFields,M))){const pe=G(oe(n.touchedFields,M),le.argA,le.argB);ee&&ft(n.touchedFields,M,pe)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=sd(s,i)),m.state.next({name:M,isDirty:A(M,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(i,M,U)},C=(M,U)=>{ft(n.errors,M,U),m.state.next({errors:n.errors})},D=M=>{n.errors=M,m.state.next({errors:n.errors,isValid:!1})},O=(M,U,G,le)=>{const ee=oe(r,M);if(ee){const Z=oe(i,M,Jt(G)?oe(s,M):G);Jt(Z)||le&&le.defaultChecked||U?ft(i,M,U?Z:ES(ee._f)):J(M,Z),o.mount&&_()}},I=(M,U,G,le,ee)=>{let Z=!1,pe=!1;const Qe={name:M};if(!e.disabled){if(!G||le){(h.isDirty||f.isDirty)&&(pe=n.isDirty,n.isDirty=Qe.isDirty=A(),Z=pe!==Qe.isDirty);const F=Ca(oe(s,M),U);pe=!!oe(n.dirtyFields,M),F?cn(n.dirtyFields,M):ft(n.dirtyFields,M,!0),Qe.dirtyFields=n.dirtyFields,Z=Z||(h.dirtyFields||f.dirtyFields)&&pe!==!F}if(G){const F=oe(n.touchedFields,M);F||(ft(n.touchedFields,M,G),Qe.touchedFields=n.touchedFields,Z=Z||(h.touchedFields||f.touchedFields)&&F!==G)}Z&&ee&&m.state.next(Qe)}return Z?Qe:{}},N=(M,U,G,le)=>{const ee=oe(n.errors,M),Z=(h.isValid||f.isValid)&&Tr(U)&&n.isValid!==U;if(e.delayError&&G?(c=k(()=>C(M,G)),c(e.delayError)):(clearTimeout(u),c=null,G?ft(n.errors,M,G):cn(n.errors,M)),(G?!Ca(ee,G):ee)||!Xn(le)||Z){const pe={...le,...Z&&Tr(U)?{isValid:U}:{},errors:n.errors,name:M};n={...n,...pe},m.state.next(pe)}},E=async M=>{g(M,!0);const U=await e.resolver(i,e.context,oG(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(M),U},S=async M=>{const{errors:U}=await E(M);if(M)for(const G of M){const le=oe(U,G);le?ft(n.errors,G,le):cn(n.errors,G)}else n.errors=U;return U},j=async(M,U,G={valid:!0})=>{for(const le in M){const ee=M[le];if(ee){const{_f:Z,...pe}=ee;if(Z){const Qe=l.array.has(Z.name),F=ee._f&&lG(ee._f);F&&h.validatingFields&&g([le],!0);const Ve=await jS(ee,l.disabled,i,x,e.shouldUseNativeValidation&&!U,Qe);if(F&&h.validatingFields&&g([le]),Ve[Z.name]&&(G.valid=!1,U))break;!U&&(oe(Ve,Z.name)?Qe?mG(n.errors,Ve,Z.name):ft(n.errors,Z.name,Ve[Z.name]):cn(n.errors,Z.name))}!Xn(pe)&&await j(pe,U,G)}}return G.valid},R=()=>{for(const M of l.unMount){const U=oe(r,M);U&&(U._f.refs?U._f.refs.every(G=>!Gv(G)):!Gv(U._f.ref))&&He(M)}l.unMount=new Set},A=(M,U)=>!e.disabled&&(M&&U&&ft(i,M,U),!Ca(be(),s)),B=(M,U,G)=>yD(M,l,{...o.mount?i:Jt(U)?s:Ys(M)?{[M]:U}:U},G,U),X=M=>vy(oe(o.mount?i:s,M,e.shouldUnregister?oe(s,M,[]):[])),J=(M,U,G={})=>{const le=oe(r,M);let ee=U;if(le){const Z=le._f;Z&&(!Z.disabled&&ft(i,M,kD(U,Z)),ee=Xp(Z.ref)&&er(U)?"":U,xD(Z.ref)?[...Z.ref.options].forEach(pe=>pe.selected=ee.includes(pe.value)):Z.refs?pf(Z.ref)?Z.refs.length>1?Z.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(ee)?!!ee.find(Qe=>Qe===pe.value):ee===pe.value)):Z.refs[0]&&(Z.refs[0].checked=!!ee):Z.refs.forEach(pe=>pe.checked=pe.value===ee):fk(Z.ref)?Z.ref.value="":(Z.ref.value=ee,Z.ref.type||m.state.next({name:M,values:_n(i)})))}(G.shouldDirty||G.shouldTouch)&&I(M,ee,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&xe(M)},ae=(M,U,G)=>{for(const le in U){const ee=U[le],Z=`${M}.${le}`,pe=oe(r,Z);(l.array.has(M)||nn(ee)||pe&&!pe._f)&&!$o(ee)?ae(Z,ee,G):J(Z,ee,G)}},z=(M,U,G={})=>{const le=oe(r,M),ee=l.array.has(M),Z=_n(U);ft(i,M,Z),ee?(m.array.next({name:M,values:_n(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&G.shouldDirty&&m.state.next({name:M,dirtyFields:sd(s,i),isDirty:A(M,Z)})):le&&!le._f&&!er(Z)?ae(M,Z,G):J(M,Z,G),SS(M,l)&&m.state.next({...n}),m.state.next({name:o.mount?M:void 0,values:_n(i)})},H=async M=>{o.mount=!0;const U=M.target;let G=U.name,le=!0;const ee=oe(r,G),Z=pe=>{le=Number.isNaN(pe)||$o(pe)&&isNaN(pe.getTime())||Ca(pe,oe(i,G,pe))};if(ee){let pe,Qe;const F=U.type?ES(ee._f):hD(M),Ve=M.type===Zp.BLUR||M.type===Zp.FOCUS_OUT,vt=!cG(ee._f)&&!e.resolver&&!oe(n.errors,G)&&!ee._f.deps||hG(Ve,oe(n.touchedFields,G),n.isSubmitted,w,v),it=SS(G,l,Ve);ft(i,G,F),Ve?(ee._f.onBlur&&ee._f.onBlur(M),c&&c(0)):ee._f.onChange&&ee._f.onChange(M);const Pe=I(G,F,Ve),or=!Xn(Pe)||it;if(!Ve&&m.state.next({name:G,type:M.type,values:_n(i)}),vt)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Ve&&_():Ve||_()),or&&m.state.next({name:G,...it?{}:Pe});if(!Ve&&it&&m.state.next({...n}),e.resolver){const{errors:wr}=await E([G]);if(Z(F),le){const Lr=IS(n.errors,r,G),Vl=IS(wr,r,Lr.name||G);pe=Vl.error,G=Vl.name,Qe=Xn(wr)}}else g([G],!0),pe=(await jS(ee,l.disabled,i,x,e.shouldUseNativeValidation))[G],g([G]),Z(F),le&&(pe?Qe=!1:(h.isValid||f.isValid)&&(Qe=await j(r,!0)));le&&(ee._f.deps&&xe(ee._f.deps),N(G,Qe,pe,Pe))}},ne=(M,U)=>{if(oe(n.errors,U)&&M.focus)return M.focus(),1},xe=async(M,U={})=>{let G,le;const ee=Bd(M);if(e.resolver){const Z=await S(Jt(M)?M:ee);G=Xn(Z),le=M?!ee.some(pe=>oe(Z,pe)):G}else M?(le=(await Promise.all(ee.map(async Z=>{const pe=oe(r,Z);return await j(pe&&pe._f?{[Z]:pe}:pe)}))).every(Boolean),!(!le&&!n.isValid)&&_()):le=G=await j(r);return m.state.next({...!Ys(M)||(h.isValid||f.isValid)&&G!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:G}:{},errors:n.errors}),U.shouldFocus&&!le&&Hd(r,ne,M?ee:l.mount),le},be=M=>{const U={...o.mount?i:s};return Jt(M)?U:Ys(M)?oe(U,M):M.map(G=>oe(U,G))},Ie=(M,U)=>({invalid:!!oe((U||n).errors,M),isDirty:!!oe((U||n).dirtyFields,M),error:oe((U||n).errors,M),isValidating:!!oe(n.validatingFields,M),isTouched:!!oe((U||n).touchedFields,M)}),Je=M=>{M&&Bd(M).forEach(U=>cn(n.errors,U)),m.state.next({errors:M?n.errors:{}})},yt=(M,U,G)=>{const le=(oe(r,M,{_f:{}})._f||{}).ref,ee=oe(n.errors,M)||{},{ref:Z,message:pe,type:Qe,...F}=ee;ft(n.errors,M,{...F,...U,ref:le}),m.state.next({name:M,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&le&&le.focus&&le.focus()},ht=(M,U)=>hs(M)?m.state.subscribe({next:G=>M(B(void 0,U),G)}):B(M,U,!0),me=M=>m.state.subscribe({next:U=>{dG(M.name,U.name,M.exact)&&uG(U,M.formState||h,ns,M.reRenderRoot)&&M.callback({values:{...i},...n,...U})}}).unsubscribe,st=M=>(o.mount=!0,f={...f,...M.formState},me({...M,formState:f})),He=(M,U={})=>{for(const G of M?Bd(M):l.mount)l.mount.delete(G),l.array.delete(G),U.keepValue||(cn(r,G),cn(i,G)),!U.keepError&&cn(n.errors,G),!U.keepDirty&&cn(n.dirtyFields,G),!U.keepTouched&&cn(n.touchedFields,G),!U.keepIsValidating&&cn(n.validatingFields,G),!e.shouldUnregister&&!U.keepDefaultValue&&cn(s,G);m.state.next({values:_n(i)}),m.state.next({...n,...U.keepDirty?{isDirty:A()}:{}}),!U.keepIsValid&&_()},$=({disabled:M,name:U})=>{(Tr(M)&&o.mount||M||l.disabled.has(U))&&(M?l.disabled.add(U):l.disabled.delete(U))},de=(M,U={})=>{let G=oe(r,M);const le=Tr(U.disabled)||Tr(e.disabled);return ft(r,M,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:M}},name:M,mount:!0,...U}}),l.mount.add(M),G?$({disabled:Tr(U.disabled)?U.disabled:e.disabled,name:M}):O(M,!0,U.value),{...le?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:id(U.min),max:id(U.max),minLength:id(U.minLength),maxLength:id(U.maxLength),pattern:id(U.pattern)}:{},name:M,onChange:H,onBlur:H,ref:ee=>{if(ee){de(M,U),G=oe(r,M);const Z=Jt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,pe=sG(Z),Qe=G._f.refs||[];if(pe?Qe.find(F=>F===Z):Z===G._f.ref)return;ft(r,M,{_f:{...G._f,...pe?{refs:[...Qe.filter(Gv),Z,...Array.isArray(oe(s,M))?[{}]:[]],ref:{type:Z.type,name:M}}:{ref:Z}}}),O(M,!1,void 0,Z)}else G=oe(r,M,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(fD(l.array,M)&&o.action)&&l.unMount.add(M)}}},Re=()=>e.shouldFocusError&&Hd(r,ne,l.mount),Ue=M=>{Tr(M)&&(m.state.next({disabled:M}),Hd(r,(U,G)=>{const le=oe(r,G);le&&(U.disabled=le._f.disabled||M,Array.isArray(le._f.refs)&&le._f.refs.forEach(ee=>{ee.disabled=le._f.disabled||M}))},0,!1))},Ye=(M,U)=>async G=>{let le;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ee=_n(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:pe}=await E();n.errors=Z,ee=pe}else await j(r);if(l.disabled.size)for(const Z of l.disabled)ft(ee,Z,void 0);if(cn(n.errors,"root"),Xn(n.errors)){m.state.next({errors:{}});try{await M(ee,G)}catch(Z){le=Z}}else U&&await U({...n.errors},G),Re(),setTimeout(Re);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},ln=(M,U={})=>{oe(r,M)&&(Jt(U.defaultValue)?z(M,_n(oe(s,M))):(z(M,U.defaultValue),ft(s,M,_n(U.defaultValue))),U.keepTouched||cn(n.touchedFields,M),U.keepDirty||(cn(n.dirtyFields,M),n.isDirty=U.defaultValue?A(M,_n(oe(s,M))):A()),U.keepError||(cn(n.errors,M),h.isValid&&_()),m.state.next({...n}))},An=(M,U={})=>{const G=M?_n(M):s,le=_n(G),ee=Xn(M),Z=ee?s:le;if(U.keepDefaultValues||(s=G),!U.keepValues){if(U.keepDirtyValues){const pe=new Set([...l.mount,...Object.keys(sd(s,i))]);for(const Qe of Array.from(pe))oe(n.dirtyFields,Qe)?ft(Z,Qe,oe(i,Qe)):z(Qe,oe(Z,Qe))}else{if(dk&&Jt(M))for(const pe of l.mount){const Qe=oe(r,pe);if(Qe&&Qe._f){const F=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Xp(F)){const Ve=F.closest("form");if(Ve){Ve.reset();break}}}}for(const pe of l.mount)z(pe,oe(Z,pe))}i=_n(Z),m.array.next({values:{...Z}}),m.state.next({values:{...Z}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Ca(M,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:U.keepDirtyValues?U.keepDefaultValues&&i?sd(s,i):n.dirtyFields:U.keepDefaultValues&&M?sd(s,M):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Wn=(M,U)=>An(hs(M)?M(i):M,U),ca=(M,U={})=>{const G=oe(r,M),le=G&&G._f;if(le){const ee=le.refs?le.refs[0]:le.ref;ee.focus&&(ee.focus(),U.shouldSelect&&hs(ee.select)&&ee.select())}},ns=M=>{n={...n,...M}},Co={control:{register:de,unregister:He,getFieldState:Ie,handleSubmit:Ye,setError:yt,_subscribe:me,_runSchema:E,_getWatch:B,_getDirty:A,_setValid:_,_setFieldArray:b,_setDisabledField:$,_setErrors:D,_getFieldArray:X,_reset:An,_resetDefaultValues:()=>hs(e.defaultValues)&&e.defaultValues().then(M=>{Wn(M,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ue,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:st,trigger:xe,register:de,handleSubmit:Ye,watch:ht,setValue:z,getValues:be,reset:Wn,resetField:ln,clearErrors:Je,unregister:He,setError:yt,setFocus:ca,getFieldState:Ie};return{...Co,formControl:Co}}function kh(t={}){const e=fe.useRef(void 0),n=fe.useRef(void 0),[r,s]=fe.useState({isDirty:!1,isValidating:!1,isLoading:hs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:hs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:gG(t),formState:r},t.formControl&&t.defaultValues&&!hs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,fe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),fe.useEffect(()=>{t.values&&!Ca(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),fe.useEffect(()=>{t.errors&&!Xn(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=gD(r,i),e.current}const AS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},TD=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?AS(r.ref,n,t):r.refs&&r.refs.forEach(s=>AS(s,n,t))}},yG=(t,e)=>{e.shouldUseNativeValidation&&TD(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(vG(e.names||Object.keys(t),r)){const o=Object.assign({},oe(n,r));ft(o,"root",i),ft(n,r,o)}else ft(n,r,i)}return n},vG=(t,e)=>t.some(n=>n.startsWith(e+"."));var xG=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=vD(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},Eh=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&TD({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:yG(xG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},lt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(lt||(lt={}));var t0;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(t0||(t0={}));const ye=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Si=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},te=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wG=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Pr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof Pr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pr.create=t=>new Pr(t);const cu=(t,e)=>{let n;switch(t.code){case te.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,lt.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:n=`Unrecognized key(s) in object: ${lt.joinValues(t.keys,", ")}`;break;case te.invalid_union:n="Invalid input";break;case te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${lt.joinValues(t.options)}`;break;case te.invalid_enum_value:n=`Invalid enum value. Expected ${lt.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:n="Invalid function arguments";break;case te.invalid_return_type:n="Invalid function return type";break;case te.invalid_date:n="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case te.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case te.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case te.custom:n="Invalid input";break;case te.invalid_intersection_types:n="Intersection results could not be merged";break;case te.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:n="Number must be finite";break;default:n=e.defaultError,lt.assertNever(t)}return{message:n}};let ND=cu;function bG(t){ND=t}function tg(){return ND}const ng=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},_G=[];function ce(t,e){const n=tg(),r=ng({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===cu?void 0:cu].filter(s=>!!s)});t.common.issues.push(r)}class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return De;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Hn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return De;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const De=Object.freeze({status:"aborted"}),hc=t=>({status:"dirty",value:t}),rr=t=>({status:"valid",value:t}),n0=t=>t.status==="aborted",r0=t=>t.status==="dirty",kl=t=>t.status==="valid",Th=t=>typeof Promise<"u"&&t instanceof Promise;function rg(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function SD(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));var wd,bd;class fi{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RS=(t,e)=>{if(kl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pr(t.common.issues);return this._error=n,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var c,u;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=h??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Ge{get description(){return this._def.description}_getType(e){return Si(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hn,ctx:{common:e.parent.common,data:e.data,parsedType:Si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Th(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Si(e)},i=this._parseSync({data:e,path:s.path,parent:s});return RS(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Si(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return kl(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>kl(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Si(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Th(s)?s:Promise.resolve(s));return RS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:te.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Cs({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return oi.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Es.create(this)}promise(){return du.create(this,this._def)}or(e){return Ch.create([this,e],this._def)}and(e){return jh.create(this,e,this._def)}transform(e){return new Cs({...Be(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Oh({...Be(this._def),innerType:this,defaultValue:n,typeName:Ae.ZodDefault})}brand(){return new pk({typeName:Ae.ZodBranded,type:this,...Be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Mh({...Be(this._def),innerType:this,catchValue:n,typeName:Ae.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return gf.create(this,e)}readonly(){return Lh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kG=/^c[^\s-]{8,}$/i,EG=/^[0-9a-z]+$/,TG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SG=/^[a-z0-9_-]{21}$/i,IG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,CG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qv;const RG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,MG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ID="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",VG=new RegExp(`^${ID}$`);function CD(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function FG(t){return new RegExp(`^${CD(t)}$`)}function jD(t){let e=`${ID}T${CD(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function UG(t,e){return!!((e==="v4"||!e)&&RG.test(t)||(e==="v6"||!e)&&DG.test(t))}function zG(t,e){if(!IG.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function $G(t,e){return!!((e==="v4"||!e)&&PG.test(t)||(e==="v6"||!e)&&OG.test(t))}class gs extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return ce(i,{code:te.invalid_type,expected:ye.string,received:i.parsedType}),De}const r=new Hn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?ce(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ce(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")jG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"email",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Qv||(Qv=new RegExp(AG,"u")),Qv.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"emoji",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")NG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"uuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")SG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"nanoid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")kG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")EG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid2",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")TG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ulid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ce(s,{validation:"url",code:te.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"regex",code:te.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ce(s,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?jD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?VG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:te.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?FG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:te.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?CG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"duration",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?UG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ip",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?zG(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"jwt",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?$G(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cidr",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?MG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"base64",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?LG.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"base64url",code:te.invalid_string,message:i.message}),r.dirty()):lt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:te.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new gs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ke.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ke.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ke.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ke.errToObj(n)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gs.create=t=>{var e;return new gs({checks:[],typeName:Ae.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Be(t)})};function BG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class po extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return ce(i,{code:te.invalid_type,expected:ye.number,received:i.parsedType}),De}let r;const s=new Hn;for(const i of this._def.checks)i.kind==="int"?lt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?BG(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:te.not_finite,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,s){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(s)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}po.create=t=>new po({checks:[],typeName:Ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class go extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const s=new Hn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ce(n,{code:te.invalid_type,expected:ye.bigint,received:n.parsedType}),De}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,s){return new go({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(s)}]})}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}go.create=t=>{var e;return new go({checks:[],typeName:Ae.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Be(t)})};class Nh extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return ce(r,{code:te.invalid_type,expected:ye.boolean,received:r.parsedType}),De}return rr(e.data)}}Nh.create=t=>new Nh({typeName:Ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class El extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return ce(i,{code:te.invalid_type,expected:ye.date,received:i.parsedType}),De}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ce(i,{code:te.invalid_date}),De}const r=new Hn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):lt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}El.create=t=>new El({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ae.ZodDate,...Be(t)});class sg extends Ge{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return ce(r,{code:te.invalid_type,expected:ye.symbol,received:r.parsedType}),De}return rr(e.data)}}sg.create=t=>new sg({typeName:Ae.ZodSymbol,...Be(t)});class Sh extends Ge{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:te.invalid_type,expected:ye.undefined,received:r.parsedType}),De}return rr(e.data)}}Sh.create=t=>new Sh({typeName:Ae.ZodUndefined,...Be(t)});class Ih extends Ge{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return ce(r,{code:te.invalid_type,expected:ye.null,received:r.parsedType}),De}return rr(e.data)}}Ih.create=t=>new Ih({typeName:Ae.ZodNull,...Be(t)});class uu extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return rr(e.data)}}uu.create=t=>new uu({typeName:Ae.ZodAny,...Be(t)});class il extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rr(e.data)}}il.create=t=>new il({typeName:Ae.ZodUnknown,...Be(t)});class ia extends Ge{_parse(e){const n=this._getOrReturnCtx(e);return ce(n,{code:te.invalid_type,expected:ye.never,received:n.parsedType}),De}}ia.create=t=>new ia({typeName:Ae.ZodNever,...Be(t)});class ig extends Ge{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return ce(r,{code:te.invalid_type,expected:ye.void,received:r.parsedType}),De}return rr(e.data)}}ig.create=t=>new ig({typeName:Ae.ZodVoid,...Be(t)});class Es extends Ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ye.array)return ce(n,{code:te.invalid_type,expected:ye.array,received:n.parsedType}),De;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(ce(n,{code:o?te.too_big:te.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ce(n,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ce(n,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new fi(n,o,n.path,l)))).then(o=>Hn.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new fi(n,o,n.path,l)));return Hn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Es({...this._def,minLength:{value:e,message:ke.toString(n)}})}max(e,n){return new Es({...this._def,maxLength:{value:e,message:ke.toString(n)}})}length(e,n){return new Es({...this._def,exactLength:{value:e,message:ke.toString(n)}})}nonempty(e){return this.min(1,e)}}Es.create=(t,e)=>new Es({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...Be(e)});function Jl(t){if(t instanceof Vt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=oi.create(Jl(r))}return new Vt({...t._def,shape:()=>e})}else return t instanceof Es?new Es({...t._def,type:Jl(t.element)}):t instanceof oi?oi.create(Jl(t.unwrap())):t instanceof vo?vo.create(Jl(t.unwrap())):t instanceof mi?mi.create(t.items.map(e=>Jl(e))):t}class Vt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=lt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ye.object){const u=this._getOrReturnCtx(e);return ce(u,{code:te.invalid_type,expected:ye.object,received:u.parsedType}),De}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ia&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new fi(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ia){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(ce(s,{code:te.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new fi(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,m=await h.value;u.push({key:f,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>Hn.mergeObjectSync(r,u)):Hn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new Vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ke.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Vt({...this._def,unknownKeys:"strip"})}passthrough(){return new Vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ae.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Vt({...this._def,catchall:e})}pick(e){const n={};return lt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Vt({...this._def,shape:()=>n})}omit(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Vt({...this._def,shape:()=>n})}deepPartial(){return Jl(this)}partial(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Vt({...this._def,shape:()=>n})}required(e){const n={};return lt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof oi;)i=i._def.innerType;n[r]=i}}),new Vt({...this._def,shape:()=>n})}keyof(){return AD(lt.objectKeys(this.shape))}}Vt.create=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strip",catchall:ia.create(),typeName:Ae.ZodObject,...Be(e)});Vt.strictCreate=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strict",catchall:ia.create(),typeName:Ae.ZodObject,...Be(e)});Vt.lazycreate=(t,e)=>new Vt({shape:t,unknownKeys:"strip",catchall:ia.create(),typeName:Ae.ZodObject,...Be(e)});class Ch extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Pr(l.ctx.common.issues));return ce(n,{code:te.invalid_union,unionErrors:o}),De}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Pr(c));return ce(n,{code:te.invalid_union,unionErrors:l}),De}}get options(){return this._def.options}}Ch.create=(t,e)=>new Ch({options:t,typeName:Ae.ZodUnion,...Be(e)});const Ei=t=>t instanceof Rh?Ei(t.schema):t instanceof Cs?Ei(t.innerType()):t instanceof Ph?[t.value]:t instanceof yo?t.options:t instanceof Dh?lt.objectValues(t.enum):t instanceof Oh?Ei(t._def.innerType):t instanceof Sh?[void 0]:t instanceof Ih?[null]:t instanceof oi?[void 0,...Ei(t.unwrap())]:t instanceof vo?[null,...Ei(t.unwrap())]:t instanceof pk||t instanceof Lh?Ei(t.unwrap()):t instanceof Mh?Ei(t._def.innerType):[];class wy extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.object)return ce(n,{code:te.invalid_type,expected:ye.object,received:n.parsedType}),De;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ce(n,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Ei(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new wy({typeName:Ae.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Be(r)})}}function s0(t,e){const n=Si(t),r=Si(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const s=lt.objectKeys(e),i=lt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=s0(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=s0(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class jh extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(n0(i)||n0(o))return De;const l=s0(i.value,o.value);return l.valid?((r0(i)||r0(o))&&n.dirty(),{status:n.value,value:l.data}):(ce(r,{code:te.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jh.create=(t,e,n)=>new jh({left:t,right:e,typeName:Ae.ZodIntersection,...Be(n)});class mi extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return ce(r,{code:te.invalid_type,expected:ye.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return ce(r,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Hn.mergeArray(n,o)):Hn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new mi({...this._def,rest:e})}}mi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mi({items:t,typeName:Ae.ZodTuple,rest:null,...Be(e)})};class Ah extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.object)return ce(r,{code:te.invalid_type,expected:ye.object,received:r.parsedType}),De;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new fi(r,l,r.path,l)),value:o._parse(new fi(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Hn.mergeObjectAsync(n,s):Hn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ge?new Ah({keyType:e,valueType:n,typeName:Ae.ZodRecord,...Be(r)}):new Ah({keyType:gs.create(),valueType:e,typeName:Ae.ZodRecord,...Be(n)})}}class ag extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return ce(r,{code:te.invalid_type,expected:ye.map,received:r.parsedType}),De;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new fi(r,l,r.path,[u,"key"])),value:i._parse(new fi(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return De;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return De;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}ag.create=(t,e,n)=>new ag({valueType:e,keyType:t,typeName:Ae.ZodMap,...Be(n)});class Tl extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return ce(r,{code:te.invalid_type,expected:ye.set,received:r.parsedType}),De;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ce(r,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ce(r,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return De;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new fi(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Tl({...this._def,minSize:{value:e,message:ke.toString(n)}})}max(e,n){return new Tl({...this._def,maxSize:{value:e,message:ke.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Tl.create=(t,e)=>new Tl({valueType:t,minSize:null,maxSize:null,typeName:Ae.ZodSet,...Be(e)});class Ic extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.function)return ce(n,{code:te.invalid_type,expected:ye.function,received:n.parsedType}),De;function r(l,c){return ng({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,tg(),cu].filter(u=>!!u),issueData:{code:te.invalid_arguments,argumentsError:c}})}function s(l,c){return ng({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,tg(),cu].filter(u=>!!u),issueData:{code:te.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof du){const l=this;return rr(async function(...c){const u=new Pr([]),h=await l._def.args.parseAsync(c,i).catch(v=>{throw u.addIssue(r(c,v)),u}),f=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(f,i).catch(v=>{throw u.addIssue(s(f,v)),u})})}else{const l=this;return rr(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Pr([r(c,u.error)]);const h=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(h,i);if(!f.success)throw new Pr([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ic({...this._def,args:mi.create(e).rest(il.create())})}returns(e){return new Ic({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ic({args:e||mi.create([]).rest(il.create()),returns:n||il.create(),typeName:Ae.ZodFunction,...Be(r)})}}class Rh extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Rh.create=(t,e)=>new Rh({getter:t,typeName:Ae.ZodLazy,...Be(e)});class Ph extends Ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ce(n,{received:n.data,code:te.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ph.create=(t,e)=>new Ph({value:t,typeName:Ae.ZodLiteral,...Be(e)});function AD(t,e){return new yo({values:t,typeName:Ae.ZodEnum,...Be(e)})}class yo extends Ge{constructor(){super(...arguments),wd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{expected:lt.joinValues(r),received:n.parsedType,code:te.invalid_type}),De}if(rg(this,wd)||SD(this,wd,new Set(this._def.values)),!rg(this,wd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ce(n,{received:n.data,code:te.invalid_enum_value,options:r}),De}return rr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yo.create(e,{...this._def,...n})}exclude(e,n=this._def){return yo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}wd=new WeakMap;yo.create=AD;class Dh extends Ge{constructor(){super(...arguments),bd.set(this,void 0)}_parse(e){const n=lt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const s=lt.objectValues(n);return ce(r,{expected:lt.joinValues(s),received:r.parsedType,code:te.invalid_type}),De}if(rg(this,bd)||SD(this,bd,new Set(lt.getValidEnumValues(this._def.values))),!rg(this,bd).has(e.data)){const s=lt.objectValues(n);return ce(r,{received:r.data,code:te.invalid_enum_value,options:s}),De}return rr(e.data)}get enum(){return this._def.values}}bd=new WeakMap;Dh.create=(t,e)=>new Dh({values:t,typeName:Ae.ZodNativeEnum,...Be(e)});class du extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return ce(n,{code:te.invalid_type,expected:ye.promise,received:n.parsedType}),De;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return rr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}du.create=(t,e)=>new du({type:t,typeName:Ae.ZodPromise,...Be(e)});class Cs extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ce(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return De;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?De:c.status==="dirty"||n.value==="dirty"?hc(c.value):c});{if(n.value==="aborted")return De;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||n.value==="dirty"?hc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?De:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?De:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kl(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>kl(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);lt.assertNever(s)}}Cs.create=(t,e,n)=>new Cs({schema:t,typeName:Ae.ZodEffects,effect:e,...Be(n)});Cs.createWithPreprocess=(t,e,n)=>new Cs({schema:e,effect:{type:"preprocess",transform:t},typeName:Ae.ZodEffects,...Be(n)});class oi extends Ge{_parse(e){return this._getType(e)===ye.undefined?rr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oi.create=(t,e)=>new oi({innerType:t,typeName:Ae.ZodOptional,...Be(e)});class vo extends Ge{_parse(e){return this._getType(e)===ye.null?rr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(t,e)=>new vo({innerType:t,typeName:Ae.ZodNullable,...Be(e)});class Oh extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Oh.create=(t,e)=>new Oh({innerType:t,typeName:Ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class Mh extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Th(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Mh.create=(t,e)=>new Mh({innerType:t,typeName:Ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class og extends Ge{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return ce(r,{code:te.invalid_type,expected:ye.nan,received:r.parsedType}),De}return{status:"valid",value:e.data}}}og.create=t=>new og({typeName:Ae.ZodNaN,...Be(t)});const HG=Symbol("zod_brand");class pk extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class gf extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?De:i.status==="dirty"?(n.dirty(),hc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?De:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new gf({in:e,out:n,typeName:Ae.ZodPipeline})}}class Lh extends Ge{_parse(e){const n=this._def.innerType._parse(e),r=s=>(kl(s)&&(s.value=Object.freeze(s.value)),s);return Th(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Lh.create=(t,e)=>new Lh({innerType:t,typeName:Ae.ZodReadonly,...Be(e)});function PS(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function RD(t,e={},n){return t?uu.create().superRefine((r,s)=>{var i,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var u,h;if(!c){const f=PS(e,r),m=(h=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&h!==void 0?h:!0;s.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=PS(e,r),u=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:u})}}):uu.create()}const qG={object:Vt.lazycreate};var Ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const KG=(t,e={message:`Input not instance of ${t.name}`})=>RD(n=>n instanceof t,e),PD=gs.create,DD=po.create,WG=og.create,GG=go.create,OD=Nh.create,QG=El.create,YG=sg.create,ZG=Sh.create,XG=Ih.create,JG=uu.create,eQ=il.create,tQ=ia.create,nQ=ig.create,rQ=Es.create,sQ=Vt.create,iQ=Vt.strictCreate,aQ=Ch.create,oQ=wy.create,lQ=jh.create,cQ=mi.create,uQ=Ah.create,dQ=ag.create,hQ=Tl.create,fQ=Ic.create,mQ=Rh.create,pQ=Ph.create,gQ=yo.create,yQ=Dh.create,vQ=du.create,DS=Cs.create,xQ=oi.create,wQ=vo.create,bQ=Cs.createWithPreprocess,_Q=gf.create,kQ=()=>PD().optional(),EQ=()=>DD().optional(),TQ=()=>OD().optional(),NQ={string:t=>gs.create({...t,coerce:!0}),number:t=>po.create({...t,coerce:!0}),boolean:t=>Nh.create({...t,coerce:!0}),bigint:t=>go.create({...t,coerce:!0}),date:t=>El.create({...t,coerce:!0})},SQ=De;var q=Object.freeze({__proto__:null,defaultErrorMap:cu,setErrorMap:bG,getErrorMap:tg,makeIssue:ng,EMPTY_PATH:_G,addIssueToContext:ce,ParseStatus:Hn,INVALID:De,DIRTY:hc,OK:rr,isAborted:n0,isDirty:r0,isValid:kl,isAsync:Th,get util(){return lt},get objectUtil(){return t0},ZodParsedType:ye,getParsedType:Si,ZodType:Ge,datetimeRegex:jD,ZodString:gs,ZodNumber:po,ZodBigInt:go,ZodBoolean:Nh,ZodDate:El,ZodSymbol:sg,ZodUndefined:Sh,ZodNull:Ih,ZodAny:uu,ZodUnknown:il,ZodNever:ia,ZodVoid:ig,ZodArray:Es,ZodObject:Vt,ZodUnion:Ch,ZodDiscriminatedUnion:wy,ZodIntersection:jh,ZodTuple:mi,ZodRecord:Ah,ZodMap:ag,ZodSet:Tl,ZodFunction:Ic,ZodLazy:Rh,ZodLiteral:Ph,ZodEnum:yo,ZodNativeEnum:Dh,ZodPromise:du,ZodEffects:Cs,ZodTransformer:Cs,ZodOptional:oi,ZodNullable:vo,ZodDefault:Oh,ZodCatch:Mh,ZodNaN:og,BRAND:HG,ZodBranded:pk,ZodPipeline:gf,ZodReadonly:Lh,custom:RD,Schema:Ge,ZodSchema:Ge,late:qG,get ZodFirstPartyTypeKind(){return Ae},coerce:NQ,any:JG,array:rQ,bigint:GG,boolean:OD,date:QG,discriminatedUnion:oQ,effect:DS,enum:gQ,function:fQ,instanceof:KG,intersection:lQ,lazy:mQ,literal:pQ,map:dQ,nan:WG,nativeEnum:yQ,never:tQ,null:XG,nullable:wQ,number:DD,object:sQ,oboolean:TQ,onumber:EQ,optional:xQ,ostring:kQ,pipeline:_Q,preprocess:bQ,promise:vQ,record:uQ,set:hQ,strictObject:iQ,string:PD,symbol:YG,transformer:DS,tuple:cQ,undefined:ZG,union:aQ,unknown:eQ,void:nQ,NEVER:SQ,ZodIssueCode:te,quotelessJson:wG,ZodError:Pr}),Yv="focusScope.autoFocusOnMount",Zv="focusScope.autoFocusOnUnmount",OS={bubbles:!1,cancelable:!0},IQ="FocusScope",by=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=Lt(s),h=Lt(i),f=p.useRef(null),m=Le(e,x=>c(x)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(b){if(v.paused||!l)return;const C=b.target;l.contains(C)?f.current=C:va(f.current,{select:!0})},k=function(b){if(v.paused||!l)return;const C=b.relatedTarget;C!==null&&(l.contains(C)||va(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&va(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const g=new MutationObserver(_);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),g.disconnect()}}},[r,l,v.paused]),p.useEffect(()=>{if(l){LS.add(v);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(Yv,OS);l.addEventListener(Yv,u),l.dispatchEvent(_),_.defaultPrevented||(CQ(DQ(MD(l)),{select:!0}),document.activeElement===x&&va(l))}return()=>{l.removeEventListener(Yv,u),setTimeout(()=>{const _=new CustomEvent(Zv,OS);l.addEventListener(Zv,h),l.dispatchEvent(_),_.defaultPrevented||va(x??document.body,{select:!0}),l.removeEventListener(Zv,h),LS.remove(v)},0)}}},[l,u,h,v]);const w=p.useCallback(x=>{if(!n&&!r||v.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(k&&_){const g=x.currentTarget,[b,C]=jQ(g);b&&C?!x.shiftKey&&_===C?(x.preventDefault(),n&&va(b,{select:!0})):x.shiftKey&&_===b&&(x.preventDefault(),n&&va(C,{select:!0})):_===g&&x.preventDefault()}},[n,r,v.paused]);return a.jsx(Ee.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});by.displayName=IQ;function CQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(va(r,{select:e}),document.activeElement!==n)return}function jQ(t){const e=MD(t),n=MS(e,t),r=MS(e.reverse(),t);return[n,r]}function MD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function MS(t,e){for(const n of t)if(!AQ(n,{upTo:e}))return n}function AQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RQ(t){return t instanceof HTMLInputElement&&"select"in t}function va(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&RQ(t)&&e&&t.select()}}var LS=PQ();function PQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VS(t,e),t.unshift(e)},remove(e){var n;t=VS(t,e),(n=t[0])==null||n.resume()}}}function VS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function DQ(t){return t.filter(e=>e.tagName!=="A")}var Xv=0;function gk(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FS()),document.body.insertAdjacentElement("beforeend",t[1]??FS()),Xv++,()=>{Xv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xv--}},[])}function FS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ks=function(){return Ks=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ks.apply(this,arguments)};function LD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OQ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var qm="right-scroll-bar-position",Km="width-before-scroll-bar",MQ="with-scroll-bars-hidden",LQ="--removed-body-scroll-bar-size";function Jv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function VQ(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var FQ=typeof window<"u"?p.useLayoutEffect:p.useEffect,US=new WeakMap;function UQ(t,e){var n=VQ(null,function(r){return t.forEach(function(s){return Jv(s,r)})});return FQ(function(){var r=US.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Jv(l,null)}),i.forEach(function(l){s.has(l)||Jv(l,o)})}US.set(n,t)},[t]),n}function zQ(t){return t}function $Q(t,e){e===void 0&&(e=zQ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function BQ(t){t===void 0&&(t={});var e=$Q(null);return e.options=Ks({async:!0,ssr:!1},t),e}var VD=function(t){var e=t.sideCar,n=LD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ks({},n))};VD.isSideCarExport=!0;function HQ(t,e){return t.useMedium(e),VD}var FD=BQ(),ex=function(){},_y=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:ex,onWheelCapture:ex,onTouchMoveCapture:ex}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,v=t.noIsolation,w=t.inert,x=t.allowPinchZoom,k=t.as,_=k===void 0?"div":k,g=t.gapMode,b=LD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,D=UQ([n,e]),O=Ks(Ks({},b),s);return p.createElement(p.Fragment,null,h&&p.createElement(C,{sideCar:FD,removeScrollBar:u,shards:f,noIsolation:v,inert:w,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:g}),o?p.cloneElement(p.Children.only(l),Ks(Ks({},O),{ref:D})):p.createElement(_,Ks({},O,{className:c,ref:D}),l))});_y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_y.classNames={fullWidth:Km,zeroRight:qm};var qQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qQ();return e&&t.setAttribute("nonce",e),t}function WQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function GQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=KQ())&&(WQ(e,n),GQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YQ=function(){var t=QQ();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UD=function(){var t=YQ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},ZQ={left:0,top:0,right:0,gap:0},tx=function(t){return parseInt(t||"",10)||0},XQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[tx(n),tx(r),tx(s)]},JQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ZQ;var e=XQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},eY=UD(),Cc="data-scroll-locked",tY=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(MQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qm,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Km,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qm," .").concat(qm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cc,`] {
    `).concat(LQ,": ").concat(l,`px;
  }
`)},zS=function(){var t=parseInt(document.body.getAttribute(Cc)||"0",10);return isFinite(t)?t:0},nY=function(){p.useEffect(function(){return document.body.setAttribute(Cc,(zS()+1).toString()),function(){var t=zS()-1;t<=0?document.body.removeAttribute(Cc):document.body.setAttribute(Cc,t.toString())}},[])},rY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;nY();var i=p.useMemo(function(){return JQ(s)},[s]);return p.createElement(eY,{styles:tY(i,!e,s,n?"":"!important")})},i0=!1;if(typeof window<"u")try{var hm=Object.defineProperty({},"passive",{get:function(){return i0=!0,!0}});window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch{i0=!1}var ql=i0?{passive:!1}:!1,sY=function(t){return t.tagName==="TEXTAREA"},zD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sY(t)&&n[e]==="visible")},iY=function(t){return zD(t,"overflowY")},aY=function(t){return zD(t,"overflowX")},$S=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$D(t,r);if(s){var i=BD(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},oY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},lY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$D=function(t,e){return t==="v"?iY(e):aY(e)},BD=function(t,e){return t==="v"?oY(e):lY(e)},cY=function(t,e){return t==="h"&&e==="rtl"?-1:1},uY=function(t,e,n,r,s){var i=cY(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,h=o>0,f=0,m=0;do{var v=BD(t,l),w=v[0],x=v[1],k=v[2],_=x-k-i*w;(w||_)&&$D(t,l)&&(f+=_,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},fm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BS=function(t){return[t.deltaX,t.deltaY]},HS=function(t){return t&&"current"in t?t.current:t},dY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fY=0,Kl=[];function mY(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(fY++)[0],i=p.useState(UD)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=OQ([t.lockRef.current],(t.shards||[]).map(HS),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=fm(x),g=n.current,b="deltaX"in x?x.deltaX:g[0]-_[0],C="deltaY"in x?x.deltaY:g[1]-_[1],D,O=x.target,I=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in x&&I==="h"&&O.type==="range")return!1;var N=$S(I,O);if(!N)return!0;if(N?D=I:(D=I==="v"?"h":"v",N=$S(I,O)),!N)return!1;if(!r.current&&"changedTouches"in x&&(b||C)&&(r.current=D),!D)return!0;var E=r.current||D;return uY(E,k,x,E==="h"?b:C,!0)},[]),c=p.useCallback(function(x){var k=x;if(!(!Kl.length||Kl[Kl.length-1]!==i)){var _="deltaY"in k?BS(k):fm(k),g=e.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&dY(D.delta,_)})[0];if(g&&g.should){k.cancelable&&k.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(HS).filter(Boolean).filter(function(D){return D.contains(k.target)}),C=b.length>0?l(k,b[0]):!o.current.noIsolation;C&&k.cancelable&&k.preventDefault()}}},[]),u=p.useCallback(function(x,k,_,g){var b={name:x,delta:k,target:_,should:g,shadowParent:pY(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),h=p.useCallback(function(x){n.current=fm(x),r.current=void 0},[]),f=p.useCallback(function(x){u(x.type,BS(x),x.target,l(x,t.lockRef.current))},[]),m=p.useCallback(function(x){u(x.type,fm(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return Kl.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ql),document.addEventListener("touchmove",c,ql),document.addEventListener("touchstart",h,ql),function(){Kl=Kl.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,ql),document.removeEventListener("touchmove",c,ql),document.removeEventListener("touchstart",h,ql)}},[]);var v=t.removeScrollBar,w=t.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:hY(s)}):null,v?p.createElement(rY,{gapMode:t.gapMode}):null)}function pY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gY=HQ(FD,mY);var ky=p.forwardRef(function(t,e){return p.createElement(_y,Ks({},t,{ref:e,sideCar:gY}))});ky.classNames=_y.classNames;var yY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,mm=new WeakMap,pm={},nx=0,HD=function(t){return t&&(t.host||HD(t.parentNode))},vY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xY=function(t,e,n,r){var s=vY(e,Array.isArray(t)?t:[t]);pm[n]||(pm[n]=new WeakMap);var i=pm[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var v=m.getAttribute(r),w=v!==null&&v!=="false",x=(Wl.get(m)||0)+1,k=(i.get(m)||0)+1;Wl.set(m,x),i.set(m,k),o.push(m),x===1&&w&&mm.set(m,!0),k===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),l.clear(),nx++,function(){o.forEach(function(f){var m=Wl.get(f)-1,v=i.get(f)-1;Wl.set(f,m),i.set(f,v),m||(mm.has(f)||f.removeAttribute(r),mm.delete(f)),v||f.removeAttribute(n)}),nx--,nx||(Wl=new WeakMap,Wl=new WeakMap,mm=new WeakMap,pm={})}},yk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=yY(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),xY(r,s,n,"aria-hidden")):function(){return null}},vk="Dialog",[qD,pne]=wn(vk),[wY,Ds]=qD(vk),KD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,h]=Qi({prop:r,defaultProp:s,onChange:i});return a.jsx(wY,{scope:e,triggerRef:l,contentRef:c,contentId:Qr(),titleId:Qr(),descriptionId:Qr(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};KD.displayName=vk;var WD="DialogTrigger",GD=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ds(WD,n),i=Le(e,s.triggerRef);return a.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bk(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});GD.displayName=WD;var xk="DialogPortal",[bY,QD]=qD(xk,{forceMount:void 0}),YD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ds(xk,e);return a.jsx(bY,{scope:e,forceMount:n,children:p.Children.map(r,o=>a.jsx(jn,{present:n||i.open,children:a.jsx(Xh,{asChild:!0,container:s,children:o})}))})};YD.displayName=xk;var lg="DialogOverlay",ZD=p.forwardRef((t,e)=>{const n=QD(lg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ds(lg,t.__scopeDialog);return i.modal?a.jsx(jn,{present:r||i.open,children:a.jsx(kY,{...s,ref:e})}):null});ZD.displayName=lg;var _Y=fl("DialogOverlay.RemoveScroll"),kY=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ds(lg,n);return a.jsx(ky,{as:_Y,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ee.div,{"data-state":bk(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Nl="DialogContent",XD=p.forwardRef((t,e)=>{const n=QD(Nl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ds(Nl,t.__scopeDialog);return a.jsx(jn,{present:r||i.open,children:i.modal?a.jsx(EY,{...s,ref:e}):a.jsx(TY,{...s,ref:e})})});XD.displayName=Nl;var EY=p.forwardRef((t,e)=>{const n=Ds(Nl,t.__scopeDialog),r=p.useRef(null),s=Le(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return yk(i)},[]),a.jsx(JD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),TY=p.forwardRef((t,e)=>{const n=Ds(Nl,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(JD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),JD=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Ds(Nl,n),c=p.useRef(null),u=Le(e,c);return gk(),a.jsxs(a.Fragment,{children:[a.jsx(by,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(xu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(NY,{titleId:l.titleId}),a.jsx(IY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wk="DialogTitle",e4=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ds(wk,n);return a.jsx(Ee.h2,{id:s.titleId,...r,ref:e})});e4.displayName=wk;var t4="DialogDescription",n4=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ds(t4,n);return a.jsx(Ee.p,{id:s.descriptionId,...r,ref:e})});n4.displayName=t4;var r4="DialogClose",s4=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ds(r4,n);return a.jsx(Ee.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});s4.displayName=r4;function bk(t){return t?"open":"closed"}var i4="DialogTitleWarning",[gne,a4]=r5(i4,{contentName:Nl,titleName:wk,docsSlug:"dialog"}),NY=({titleId:t})=>{const e=a4(i4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},SY="DialogDescriptionWarning",IY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a4(SY).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CY=KD,jY=GD,AY=YD,o4=ZD,l4=XD,c4=e4,u4=n4,RY=s4;const Ui=CY,a0=jY,PY=AY,d4=p.forwardRef(({className:t,...e},n)=>a.jsx(o4,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));d4.displayName=o4.displayName;const li=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(PY,{container:typeof document<"u"?document.body:void 0,children:[a.jsx(d4,{}),a.jsxs(l4,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(RY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));li.displayName=l4.displayName;const ci=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ci.displayName="DialogHeader";const _k=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_k.displayName="DialogFooter";const ui=p.forwardRef(({className:t,...e},n)=>a.jsx(c4,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));ui.displayName=c4.displayName;const h4=p.forwardRef(({className:t,...e},n)=>a.jsx(u4,{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));h4.displayName=u4.displayName;var DY="Label",f4=p.forwardRef((t,e)=>a.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));f4.displayName=DY;var m4=f4;const OY=Fg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ys=p.forwardRef(({className:t,...e},n)=>a.jsx(m4,{ref:n,className:_e(OY(),t),...e}));ys.displayName=m4.displayName;const Ey=JW,p4=p.createContext({}),Ot=({...t})=>a.jsx(p4.Provider,{value:{name:t.name},children:a.jsx(rG,{...t})}),Ty=()=>{const t=p.useContext(p4),e=p.useContext(g4),{getFieldState:n,formState:r}=xy(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},g4=p.createContext({}),jt=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return a.jsx(g4.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:_e("space-y-2",t),...e})})});jt.displayName="FormItem";const At=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Ty();return a.jsx(ys,{ref:n,className:_e(r&&"text-destructive",t),htmlFor:s,...e})});At.displayName="FormLabel";const mt=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Ty();return a.jsx(nA,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});mt.displayName="FormControl";const MY=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Ty();return a.jsx("p",{ref:n,id:r,className:_e("text-sm text-muted-foreground",t),...e})});MY.displayName="FormDescription";const Rt=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Ty(),o=s?String((s==null?void 0:s.message)??""):e;return o?a.jsx("p",{ref:r,id:i,className:_e("text-sm font-medium text-destructive",t),...n,children:o}):null});Rt.displayName="FormMessage";const xt=p.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));xt.displayName="Input";var LY=p.createContext(void 0);function Ol(t){const e=p.useContext(LY);return t||e||"ltr"}var rx="rovingFocusGroup.onEntryFocus",VY={bubbles:!1,cancelable:!0},Ny="RovingFocusGroup",[o0,y4,FY]=Mg(Ny),[UY,Ru]=wn(Ny,[FY]),[zY,$Y]=UY(Ny),v4=p.forwardRef((t,e)=>a.jsx(o0.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(o0.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(BY,{...t,ref:e})})}));v4.displayName=Ny;var BY=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),v=Le(e,m),w=Ol(i),[x=null,k]=Qi({prop:o,defaultProp:l,onChange:c}),[_,g]=p.useState(!1),b=Lt(u),C=y4(n),D=p.useRef(!1),[O,I]=p.useState(0);return p.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(rx,b),()=>N.removeEventListener(rx,b)},[b]),a.jsx(zY,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:p.useCallback(N=>k(N),[k]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>I(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>I(N=>N-1),[]),children:a.jsx(Ee.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{D.current=!0}),onFocus:se(t.onFocus,N=>{const E=!D.current;if(N.target===N.currentTarget&&E&&!_){const S=new CustomEvent(rx,VY);if(N.currentTarget.dispatchEvent(S),!S.defaultPrevented){const j=C().filter(J=>J.focusable),R=j.find(J=>J.active),A=j.find(J=>J.id===x),X=[R,A,...j].filter(Boolean).map(J=>J.ref.current);b4(X,h)}}D.current=!1}),onBlur:se(t.onBlur,()=>g(!1))})})}),x4="RovingFocusGroupItem",w4=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,l=Qr(),c=i||l,u=$Y(x4,n),h=u.currentTabStopId===c,f=y4(n),{onFocusableItemAdd:m,onFocusableItemRemove:v}=u;return p.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),a.jsx(o0.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:a.jsx(Ee.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:se(t.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:se(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:se(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=KY(w,u.orientation,u.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=f().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const g=_.indexOf(w.currentTarget);_=u.loop?WY(_,g+1):_.slice(g+1)}setTimeout(()=>b4(_))}})})})});w4.displayName=x4;var HY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KY(t,e,n){const r=qY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HY[r]}function b4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function WY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kk=v4,Ek=w4,l0=["Enter"," "],GY=["ArrowDown","PageUp","Home"],_4=["ArrowUp","PageDown","End"],QY=[...GY,..._4],YY={ltr:[...l0,"ArrowRight"],rtl:[...l0,"ArrowLeft"]},ZY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yf="Menu",[Vh,XY,JY]=Mg(yf),[Ml,k4]=wn(yf,[JY,Tu,Ru]),Sy=Tu(),E4=Ru(),[eZ,Ll]=Ml(yf),[tZ,vf]=Ml(yf),T4=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,l=Sy(e),[c,u]=p.useState(null),h=p.useRef(!1),f=Lt(i),m=Ol(s);return p.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(uR,{...l,children:a.jsx(eZ,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(tZ,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};T4.displayName=yf;var nZ="MenuAnchor",Tk=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sy(n);return a.jsx(Zb,{...s,...r,ref:e})});Tk.displayName=nZ;var Nk="MenuPortal",[rZ,N4]=Ml(Nk,{forceMount:void 0}),S4=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ll(Nk,e);return a.jsx(rZ,{scope:e,forceMount:n,children:a.jsx(jn,{present:n||i.open,children:a.jsx(Xh,{asChild:!0,container:s,children:r})})})};S4.displayName=Nk;var Zr="MenuContent",[sZ,Sk]=Ml(Zr),I4=p.forwardRef((t,e)=>{const n=N4(Zr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ll(Zr,t.__scopeMenu),o=vf(Zr,t.__scopeMenu);return a.jsx(Vh.Provider,{scope:t.__scopeMenu,children:a.jsx(jn,{present:r||i.open,children:a.jsx(Vh.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(iZ,{...s,ref:e}):a.jsx(aZ,{...s,ref:e})})})})}),iZ=p.forwardRef((t,e)=>{const n=Ll(Zr,t.__scopeMenu),r=p.useRef(null),s=Le(e,r);return p.useEffect(()=>{const i=r.current;if(i)return yk(i)},[]),a.jsx(Ik,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aZ=p.forwardRef((t,e)=>{const n=Ll(Zr,t.__scopeMenu);return a.jsx(Ik,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),oZ=fl("MenuContent.ScrollLock"),Ik=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:v,disableOutsideScroll:w,...x}=t,k=Ll(Zr,n),_=vf(Zr,n),g=Sy(n),b=E4(n),C=XY(n),[D,O]=p.useState(null),I=p.useRef(null),N=Le(e,I,k.onContentChange),E=p.useRef(0),S=p.useRef(""),j=p.useRef(0),R=p.useRef(null),A=p.useRef("right"),B=p.useRef(0),X=w?ky:p.Fragment,J=w?{as:oZ,allowPinchZoom:!0}:void 0,ae=H=>{var me,st;const ne=S.current+H,xe=C().filter(He=>!He.disabled),be=document.activeElement,Ie=(me=xe.find(He=>He.ref.current===be))==null?void 0:me.textValue,Je=xe.map(He=>He.textValue),yt=xZ(Je,ne,Ie),ht=(st=xe.find(He=>He.textValue===yt))==null?void 0:st.ref.current;(function He($){S.current=$,window.clearTimeout(E.current),$!==""&&(E.current=window.setTimeout(()=>He(""),1e3))})(ne),ht&&setTimeout(()=>ht.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),gk();const z=p.useCallback(H=>{var xe,be;return A.current===((xe=R.current)==null?void 0:xe.side)&&bZ(H,(be=R.current)==null?void 0:be.area)},[]);return a.jsx(sZ,{scope:n,searchRef:S,onItemEnter:p.useCallback(H=>{z(H)&&H.preventDefault()},[z]),onItemLeave:p.useCallback(H=>{var ne;z(H)||((ne=I.current)==null||ne.focus(),O(null))},[z]),onTriggerLeave:p.useCallback(H=>{z(H)&&H.preventDefault()},[z]),pointerGraceTimerRef:j,onPointerGraceIntentChange:p.useCallback(H=>{R.current=H},[]),children:a.jsx(X,{...J,children:a.jsx(by,{asChild:!0,trapped:s,onMountAutoFocus:se(i,H=>{var ne;H.preventDefault(),(ne=I.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(xu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:v,children:a.jsx(kk,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:se(c,H=>{_.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Xb,{role:"menu","aria-orientation":"vertical","data-state":H4(k.open),"data-radix-menu-content":"",dir:_.dir,...g,...x,ref:N,style:{outline:"none",...x.style},onKeyDown:se(x.onKeyDown,H=>{const xe=H.target.closest("[data-radix-menu-content]")===H.currentTarget,be=H.ctrlKey||H.altKey||H.metaKey,Ie=H.key.length===1;xe&&(H.key==="Tab"&&H.preventDefault(),!be&&Ie&&ae(H.key));const Je=I.current;if(H.target!==Je||!QY.includes(H.key))return;H.preventDefault();const ht=C().filter(me=>!me.disabled).map(me=>me.ref.current);_4.includes(H.key)&&ht.reverse(),yZ(ht)}),onBlur:se(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(E.current),S.current="")}),onPointerMove:se(t.onPointerMove,Fh(H=>{const ne=H.target,xe=B.current!==H.clientX;if(H.currentTarget.contains(ne)&&xe){const be=H.clientX>B.current?"right":"left";A.current=be,B.current=H.clientX}}))})})})})})})});I4.displayName=Zr;var lZ="MenuGroup",Ck=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ee.div,{role:"group",...r,ref:e})});Ck.displayName=lZ;var cZ="MenuLabel",C4=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ee.div,{...r,ref:e})});C4.displayName=cZ;var cg="MenuItem",qS="menu.itemSelect",Iy=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=vf(cg,t.__scopeMenu),l=Sk(cg,t.__scopeMenu),c=Le(e,i),u=p.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(qS,{bubbles:!0,cancelable:!0});f.addEventListener(qS,v=>r==null?void 0:r(v),{once:!0}),Pb(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(j4,{...s,ref:c,disabled:n,onClick:se(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),u.current=!0},onPointerUp:se(t.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:se(t.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||l0.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Iy.displayName=cg;var j4=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Sk(cg,n),l=E4(n),c=p.useRef(null),u=Le(e,c),[h,f]=p.useState(!1),[m,v]=p.useState("");return p.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[i.children]),a.jsx(Vh.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:a.jsx(Ek,{asChild:!0,...l,focusable:!r,children:a.jsx(Ee.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:se(t.onPointerMove,Fh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Fh(w=>o.onItemLeave(w))),onFocus:se(t.onFocus,()=>f(!0)),onBlur:se(t.onBlur,()=>f(!1))})})})}),uZ="MenuCheckboxItem",A4=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return a.jsx(M4,{scope:t.__scopeMenu,checked:n,children:a.jsx(Iy,{role:"menuitemcheckbox","aria-checked":ug(n)?"mixed":n,...s,ref:e,"data-state":Ak(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(ug(n)?!0:!n),{checkForDefaultPrevented:!1})})})});A4.displayName=uZ;var R4="MenuRadioGroup",[dZ,hZ]=Ml(R4,{value:void 0,onValueChange:()=>{}}),P4=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Lt(r);return a.jsx(dZ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:a.jsx(Ck,{...s,ref:e})})});P4.displayName=R4;var D4="MenuRadioItem",O4=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=hZ(D4,t.__scopeMenu),i=n===s.value;return a.jsx(M4,{scope:t.__scopeMenu,checked:i,children:a.jsx(Iy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Ak(i),onSelect:se(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});O4.displayName=D4;var jk="MenuItemIndicator",[M4,fZ]=Ml(jk,{checked:!1}),L4=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=fZ(jk,n);return a.jsx(jn,{present:r||ug(i.checked)||i.checked===!0,children:a.jsx(Ee.span,{...s,ref:e,"data-state":Ak(i.checked)})})});L4.displayName=jk;var mZ="MenuSeparator",V4=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});V4.displayName=mZ;var pZ="MenuArrow",F4=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sy(n);return a.jsx(Jb,{...s,...r,ref:e})});F4.displayName=pZ;var gZ="MenuSub",[yne,U4]=Ml(gZ),_d="MenuSubTrigger",z4=p.forwardRef((t,e)=>{const n=Ll(_d,t.__scopeMenu),r=vf(_d,t.__scopeMenu),s=U4(_d,t.__scopeMenu),i=Sk(_d,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Tk,{asChild:!0,...u,children:a.jsx(j4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":H4(n.open),...t,ref:vu(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Fh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:se(t.onPointerLeave,Fh(f=>{var v,w;h();const m=(v=n.content)==null?void 0:v.getBoundingClientRect();if(m){const x=(w=n.content)==null?void 0:w.dataset.side,k=x==="right",_=k?-5:5,g=m[k?"left":"right"],b=m[k?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:g,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:g,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,f=>{var v;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||YY[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});z4.displayName=_d;var $4="MenuSubContent",B4=p.forwardRef((t,e)=>{const n=N4(Zr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ll(Zr,t.__scopeMenu),o=vf(Zr,t.__scopeMenu),l=U4($4,t.__scopeMenu),c=p.useRef(null),u=Le(e,c);return a.jsx(Vh.Provider,{scope:t.__scopeMenu,children:a.jsx(jn,{present:r||i.open,children:a.jsx(Vh.Slot,{scope:t.__scopeMenu,children:a.jsx(Ik,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:se(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{var v;const f=h.currentTarget.contains(h.target),m=ZY[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});B4.displayName=$4;function H4(t){return t?"open":"closed"}function ug(t){return t==="indeterminate"}function Ak(t){return ug(t)?"indeterminate":t?"checked":"unchecked"}function yZ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function vZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function xZ(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=vZ(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function wZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function bZ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return wZ(n,e)}function Fh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var _Z=T4,kZ=Tk,EZ=S4,TZ=I4,NZ=Ck,SZ=C4,IZ=Iy,CZ=A4,jZ=P4,AZ=O4,RZ=L4,PZ=V4,DZ=F4,OZ=z4,MZ=B4,Rk="DropdownMenu",[LZ,vne]=wn(Rk,[k4]),ar=k4(),[VZ,q4]=LZ(Rk),K4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=ar(e),u=p.useRef(null),[h=!1,f]=Qi({prop:s,defaultProp:i,onChange:o});return a.jsx(VZ,{scope:e,triggerId:Qr(),triggerRef:u,contentId:Qr(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(_Z,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};K4.displayName=Rk;var W4="DropdownMenuTrigger",G4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=q4(W4,n),o=ar(n);return a.jsx(kZ,{asChild:!0,...o,children:a.jsx(Ee.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:vu(e,i.triggerRef),onPointerDown:se(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});G4.displayName=W4;var FZ="DropdownMenuPortal",Q4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ar(e);return a.jsx(EZ,{...r,...n})};Q4.displayName=FZ;var Y4="DropdownMenuContent",Z4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=q4(Y4,n),i=ar(n),o=p.useRef(!1);return a.jsx(TZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:se(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z4.displayName=Y4;var UZ="DropdownMenuGroup",zZ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(NZ,{...s,...r,ref:e})});zZ.displayName=UZ;var $Z="DropdownMenuLabel",X4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(SZ,{...s,...r,ref:e})});X4.displayName=$Z;var BZ="DropdownMenuItem",J4=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(IZ,{...s,...r,ref:e})});J4.displayName=BZ;var HZ="DropdownMenuCheckboxItem",eO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(CZ,{...s,...r,ref:e})});eO.displayName=HZ;var qZ="DropdownMenuRadioGroup",KZ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(jZ,{...s,...r,ref:e})});KZ.displayName=qZ;var WZ="DropdownMenuRadioItem",tO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(AZ,{...s,...r,ref:e})});tO.displayName=WZ;var GZ="DropdownMenuItemIndicator",nO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(RZ,{...s,...r,ref:e})});nO.displayName=GZ;var QZ="DropdownMenuSeparator",rO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(PZ,{...s,...r,ref:e})});rO.displayName=QZ;var YZ="DropdownMenuArrow",ZZ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(DZ,{...s,...r,ref:e})});ZZ.displayName=YZ;var XZ="DropdownMenuSubTrigger",sO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(OZ,{...s,...r,ref:e})});sO.displayName=XZ;var JZ="DropdownMenuSubContent",iO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ar(n);return a.jsx(MZ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iO.displayName=JZ;var eX=K4,tX=G4,nX=Q4,aO=Z4,oO=X4,lO=J4,cO=eO,uO=tO,dO=nO,hO=rO,fO=sO,mO=iO;const ba=eX,_a=tX,rX=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>a.jsxs(fO,{ref:s,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,a.jsx(G5,{className:"ml-auto"})]}));rX.displayName=fO.displayName;const sX=p.forwardRef(({className:t,...e},n)=>a.jsx(mO,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));sX.displayName=mO.displayName;const Ii=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(nX,{children:a.jsx(aO,{ref:r,sideOffset:e,className:_e("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Ii.displayName=aO.displayName;const En=p.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(lO,{ref:r,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));En.displayName=lO.displayName;const iX=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>a.jsxs(cO,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dO,{children:a.jsx(bc,{className:"h-4 w-4"})})}),e]}));iX.displayName=cO.displayName;const aX=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(uO,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dO,{children:a.jsx(CA,{className:"h-2 w-2 fill-current"})})}),e]}));aX.displayName=uO.displayName;const oX=p.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(oO,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));oX.displayName=oO.displayName;const lX=p.forwardRef(({className:t,...e},n)=>a.jsx(hO,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));lX.displayName=hO.displayName;const cX=q.object({email:q.string().email("Geçerli e-posta giriniz"),password:q.string().min(6,"En az 6 karakter")}),uX=q.object({email:q.string().email("Geçerli e-posta giriniz")});function pO({open:t,onClose:e,onSwitchToRegister:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(!1),{toast:v}=pn(),{language:w,setLanguage:x,t:k}=Kn(),_=kh({resolver:Eh(cX),defaultValues:{email:"",password:""}}),g=kh({resolver:Eh(uX),defaultValues:{email:""}}),b=async I=>{s(!0);try{await zW(I.email,I.password),v({title:"Giriş başarılı",description:"Hoş geldin!"}),e(),_.reset()}catch(N){v({title:"Giriş Hatası",description:N.message,variant:"destructive"})}finally{s(!1)}},C=async I=>{m(!0);try{await BW(I.email),v({title:"Şifre Sıfırlama E-postası Gönderildi",description:"E-posta adresinizi kontrol edin ve şifre sıfırlama linkine tıklayın."}),h(!1),g.reset()}catch(N){v({title:"Hata",description:N.message,variant:"destructive"})}finally{m(!1)}},D=async()=>{o(!0);try{await lD(),v({title:"Giriş başarılı",description:"Google ile giriş yapıldı!"}),e(),_.reset()}catch(I){v({title:"Google Giriş Hatası",description:I.message,variant:"destructive"})}finally{o(!1)}},O=()=>{h(!1),_.reset(),g.reset(),e()};return a.jsx(Ui,{open:t,onOpenChange:O,children:a.jsxs(li,{className:"sm:max-w-md","data-testid":"modal-login",children:[a.jsx(ci,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ui,{"data-testid":"title-login",children:u?k.auth.resetPassword:k.auth.login}),a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsx(W,{variant:"ghost",size:"sm","data-testid":"button-language-login",children:a.jsx(Jc,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsx(En,{onClick:()=>x("tr"),className:w==="tr"?"bg-blue-50":"","data-testid":"language-tr-login",children:"🇹🇷 Türkçe"}),a.jsx(En,{onClick:()=>x("en"),className:w==="en"?"bg-blue-50":"","data-testid":"language-en-login",children:"🇺🇸 English"}),a.jsx(En,{onClick:()=>x("ar"),className:w==="ar"?"bg-blue-50":"","data-testid":"language-ar-login",children:"🇸🇦 العربية"})]})]})]})}),u?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"E-posta adresinizi girin. Şifre sıfırlama linki e-postanıza gönderilecek."}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium leading-6 text-gray-900 mb-2",children:"E-posta"}),a.jsx(xt,{id:"reset-email",type:"email",placeholder:"ornek@email.com",value:g.watch("email"),onChange:I=>g.setValue("email",I.target.value),autoComplete:"email",className:"w-full","data-testid":"input-reset-email"}),g.formState.errors.email&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.formState.errors.email.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{type:"button",variant:"outline",className:"flex-1",onClick:()=>h(!1),disabled:f,"data-testid":"button-cancel-reset",children:"Geri"}),a.jsx(W,{type:"button",className:"flex-1",disabled:f,onClick:()=>{const I=g.getValues("email");I&&/\S+@\S+\.\S+/.test(I)?C({email:I}):g.setError("email",{message:"Geçerli e-posta giriniz"})},"data-testid":"button-submit-reset",children:f?"Gönderiliyor...":"E-posta Gönder"})]})]}):a.jsx(Ey,{..._,children:a.jsxs("form",{onSubmit:_.handleSubmit(b),className:"space-y-4",children:[a.jsx(Ot,{control:_.control,name:"email",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"E-posta"}),a.jsx(mt,{children:a.jsx(xt,{type:"email",placeholder:"ornek@email.com",...I,"data-testid":"input-email"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:_.control,name:"password",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Şifre"}),a.jsx(mt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(xt,{type:l?"text":"password",placeholder:"••••••••",...I,"data-testid":"input-password",className:"pr-10"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700","data-testid":"button-toggle-password",children:l?a.jsx(Vb,{className:"h-4 w-4"}):a.jsx(ro,{className:"h-4 w-4"})})]})}),a.jsx(Rt,{})]})}),a.jsx(W,{type:"submit",className:"w-full",disabled:r||i,"data-testid":"button-submit-login",children:r?"Giriş yapılıyor...":"Giriş Yap"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"veya"})})]}),a.jsxs(W,{type:"button",variant:"outline",className:"w-full",disabled:r||i,onClick:D,"data-testid":"button-google-signin",children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),i?"Google ile giriş yapılıyor...":"Google ile Giriş Yap"]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-sm text-primary hover:text-primary/80 font-medium","data-testid":"button-forgot-password",children:"Şifremi Unuttum"})})]})}),!u&&a.jsx("div",{className:"text-center pt-4",children:a.jsxs("p",{className:"text-gray-600",children:["Hesabın yok mu?"," ",a.jsx("button",{onClick:n,className:"text-primary hover:text-primary/80 font-medium","data-testid":"button-switch-to-register",children:"Kayıt Ol"})]})})]})})}function Pk(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Dk="Checkbox",[dX,xne]=wn(Dk),[hX,fX]=dX(Dk),gO=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=t,[m,v]=p.useState(null),w=Le(e,C=>v(C)),x=p.useRef(!1),k=m?h||!!m.closest("form"):!0,[_=!1,g]=Qi({prop:s,defaultProp:i,onChange:u}),b=p.useRef(_);return p.useEffect(()=>{const C=m==null?void 0:m.form;if(C){const D=()=>g(b.current);return C.addEventListener("reset",D),()=>C.removeEventListener("reset",D)}},[m,g]),a.jsxs(hX,{scope:n,state:_,disabled:l,children:[a.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":eo(_)?"mixed":_,"aria-required":o,"data-state":xO(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onKeyDown:se(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:se(t.onClick,C=>{g(D=>eo(D)?!0:!D),k&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),k&&a.jsx(mX,{control:m,bubbles:!x.current,name:r,value:c,checked:_,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:eo(i)?!1:i})]})});gO.displayName=Dk;var yO="CheckboxIndicator",vO=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=fX(yO,n);return a.jsx(jn,{present:r||eo(i.state)||i.state===!0,children:a.jsx(Ee.span,{"data-state":xO(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});vO.displayName=yO;var mX=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=p.useRef(null),l=Pk(n),c=Gb(e);p.useEffect(()=>{const h=o.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&v){const w=new Event("click",{bubbles:r});h.indeterminate=eo(n),v.call(h,eo(n)?!1:n),h.dispatchEvent(w)}},[l,n,r]);const u=p.useRef(eo(n)?!1:n);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eo(t){return t==="indeterminate"}function xO(t){return eo(t)?"indeterminate":t?"checked":"unchecked"}var wO=gO,pX=vO;const Br=p.forwardRef(({className:t,...e},n)=>a.jsx(wO,{ref:n,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(pX,{className:_e("flex items-center justify-center text-current"),children:a.jsx(bc,{className:"h-4 w-4"})})}));Br.displayName=wO.displayName;function c0(t,[e,n]){return Math.min(n,Math.max(e,t))}function gX(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Ok="ScrollArea",[bO,wne]=wn(Ok),[yX,ts]=bO(Ok),_O=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=p.useState(null),[u,h]=p.useState(null),[f,m]=p.useState(null),[v,w]=p.useState(null),[x,k]=p.useState(null),[_,g]=p.useState(0),[b,C]=p.useState(0),[D,O]=p.useState(!1),[I,N]=p.useState(!1),E=Le(e,j=>c(j)),S=Ol(s);return a.jsx(yX,{scope:n,type:r,dir:S,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:v,onScrollbarXChange:w,scrollbarXEnabled:D,onScrollbarXEnabledChange:O,scrollbarY:x,onScrollbarYChange:k,scrollbarYEnabled:I,onScrollbarYEnabledChange:N,onCornerWidthChange:g,onCornerHeightChange:C,children:a.jsx(Ee.div,{dir:S,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});_O.displayName=Ok;var kO="ScrollAreaViewport",EO=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=ts(kO,n),l=p.useRef(null),c=Le(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});EO.displayName=kO;var yi="ScrollAreaScrollbar",Mk=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ts(yi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(vX,{...r,ref:e,forceMount:n}):s.type==="scroll"?a.jsx(xX,{...r,ref:e,forceMount:n}):s.type==="auto"?a.jsx(TO,{...r,ref:e,forceMount:n}):s.type==="always"?a.jsx(Lk,{...r,ref:e}):null});Mk.displayName=yi;var vX=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ts(yi,t.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(jn,{present:n||i,children:a.jsx(TO,{"data-state":i?"visible":"hidden",...r,ref:e})})}),xX=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ts(yi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=jy(()=>c("SCROLL_END"),100),[l,c]=gX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const v=u[h];f!==v&&(c("SCROLL"),o()),f=v};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,o]),a.jsx(jn,{present:n||l!=="hidden",children:a.jsx(Lk,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:se(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),TO=p.forwardRef((t,e)=>{const n=ts(yi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=p.useState(!1),l=t.orientation==="horizontal",c=jy(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:h)}},10);return hu(n.viewport,c),hu(n.content,c),a.jsx(jn,{present:r||i,children:a.jsx(Lk,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Lk=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ts(yi,t.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=jO(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,v){return TX(m,o.current,l,v)}return n==="horizontal"?a.jsx(wX,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,v=KS(m,l,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?a.jsx(bX,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,v=KS(m,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),wX=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ts(yi,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Le(e,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(SO,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cy(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(m),RO(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:hg(o.paddingLeft),paddingEnd:hg(o.paddingRight)}})}})}),bX=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ts(yi,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Le(e,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(SO,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cy(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(m),RO(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:hg(o.paddingTop),paddingEnd:hg(o.paddingBottom)}})}})}),[_X,NO]=bO(yi),SO=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=t,v=ts(yi,n),[w,x]=p.useState(null),k=Le(e,E=>x(E)),_=p.useRef(null),g=p.useRef(""),b=v.viewport,C=r.content-r.viewport,D=Lt(h),O=Lt(c),I=jy(f,10);function N(E){if(_.current){const S=E.clientX-_.current.left,j=E.clientY-_.current.top;u({x:S,y:j})}}return p.useEffect(()=>{const E=S=>{const j=S.target;(w==null?void 0:w.contains(j))&&D(S,C)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,w,C,D]),p.useEffect(O,[r,O]),hu(w,I),hu(v.content,I),a.jsx(_X,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Lt(i),onThumbPointerUp:Lt(o),onThumbPositionChange:O,onThumbPointerDown:Lt(l),children:a.jsx(Ee.div,{...m,ref:k,style:{position:"absolute",...m.style},onPointerDown:se(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),_.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),N(E))}),onPointerMove:se(t.onPointerMove,N),onPointerUp:se(t.onPointerUp,E=>{const S=E.target;S.hasPointerCapture(E.pointerId)&&S.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=g.current,v.viewport&&(v.viewport.style.scrollBehavior=""),_.current=null})})})}),dg="ScrollAreaThumb",IO=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=NO(dg,t.__scopeScrollArea);return a.jsx(jn,{present:n||s.hasThumb,children:a.jsx(kX,{ref:e,...r})})}),kX=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=ts(dg,n),o=NO(dg,n),{onThumbPositionChange:l}=o,c=Le(e,f=>o.onThumbChange(f)),u=p.useRef(void 0),h=jy(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!u.current){const v=NX(f,l);u.current=v,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),a.jsx(Ee.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(t.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),w=f.clientX-v.left,x=f.clientY-v.top;o.onThumbPointerDown({x:w,y:x})}),onPointerUp:se(t.onPointerUp,o.onThumbPointerUp)})});IO.displayName=dg;var Vk="ScrollAreaCorner",CO=p.forwardRef((t,e)=>{const n=ts(Vk,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(EX,{...t,ref:e}):null});CO.displayName=Vk;var EX=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ts(Vk,n),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return hu(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),hu(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),u?a.jsx(Ee.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function hg(t){return t?parseInt(t,10):0}function jO(t,e){const n=t/e;return isNaN(n)?0:n}function Cy(t){const e=jO(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function TX(t,e,n,r="ltr"){const s=Cy(n),i=s/2,o=e||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return AO([c,u],f)(t)}function KS(t,e,n="ltr"){const r=Cy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=c0(t,c);return AO([0,o],[0,l])(u)}function AO(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function RO(t,e){return t>0&&t<e}var NX=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function jy(t,e){const n=Lt(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function hu(t,e){const n=Lt(e);Dt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var PO=_O,SX=EO,IX=CO;const DO=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(PO,{ref:r,className:_e("relative overflow-hidden",t),...n,children:[a.jsx(SX,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(OO,{}),a.jsx(IX,{})]}));DO.displayName=PO.displayName;const OO=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(Mk,{ref:r,orientation:e,className:_e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(IO,{className:"relative flex-1 rounded-full bg-border"})}));OO.displayName=Mk.displayName;function CX({open:t,onClose:e,onAccept:n,loading:r=!1}){const[s,i]=p.useState(!1),{t:o}=Kn(),l=()=>{i(!1),e()},c=()=>{s&&n()};return a.jsx(Ui,{open:t,onOpenChange:l,children:a.jsxs(li,{className:"sm:max-w-4xl w-[90vw] h-[90vh] flex flex-col","data-testid":"modal-terms",children:[a.jsx(ci,{className:"flex-shrink-0",children:a.jsx(ui,{className:"text-xl font-semibold text-center","data-testid":"title-terms",children:o.terms.title})}),a.jsx(DO,{className:"flex-1 pr-4","data-testid":"scroll-terms",children:a.jsxs("div",{className:"space-y-6 text-sm pb-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-primary",children:o.terms.usageTermsTitle}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.generalProvisionsTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.generalProvisions.map((u,h)=>a.jsx("li",{children:u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.membershipSecurityTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.membershipSecurity.map((u,h)=>a.jsx("li",{children:u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.adsSharesTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.adsShares.map((u,h)=>a.jsx("li",{children:h===1?a.jsx("span",{dangerouslySetInnerHTML:{__html:u.replace(/kesinlikle yasaktır/g,"<strong>kesinlikle yasaktır</strong>").replace(/strictly prohibited/g,"<strong>strictly prohibited</strong>").replace(/محظورة تماماً/g,"<strong>محظورة تماماً</strong>")}}):u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.liabilityDisclaimerTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.liabilityDisclaimer.map((u,h)=>a.jsx("li",{children:u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.serviceLimitsTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.serviceLimits.map((u,h)=>a.jsx("li",{children:u},h))})]})]})]}),a.jsxs("div",{className:"space-y-4 border-t pt-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-primary",children:o.terms.privacyPolicyTitle}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.dataCollectionTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.dataCollection.map((u,h)=>a.jsx("li",{children:u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.dataUsageTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.dataUsage.map((u,h)=>a.jsx("li",{children:h===0?a.jsx("span",{dangerouslySetInnerHTML:{__html:u.replace(/kesinlikle paylaşılmaz/g,"<strong>kesinlikle paylaşılmaz</strong>").replace(/never shared/g,"<strong>never shared</strong>").replace(/لا تُشارك أبداً/g,"<strong>لا تُشارك أبداً</strong>")}}):u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.cookiesTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.cookies.map((u,h)=>a.jsx("li",{children:u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.securityTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.security.map((u,h)=>a.jsx("li",{children:u},h))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:o.terms.rightsTitle}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 text-gray-700",children:o.terms.rights.map((u,h)=>a.jsx("li",{children:u},h))})]})]})]})]})}),a.jsxs(_k,{className:"flex-shrink-0 flex flex-col space-y-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[a.jsx(Br,{id:"accept-terms-modal",checked:s,onCheckedChange:u=>i(!!u),"data-testid":"checkbox-accept-terms-modal"}),a.jsx("label",{htmlFor:"accept-terms-modal",className:"text-sm font-medium leading-5 cursor-pointer",children:o.terms.acceptText})]}),a.jsxs("div",{className:"flex gap-3 w-full",children:[a.jsx(W,{variant:"outline",onClick:l,className:"flex-1",disabled:r,"data-testid":"button-cancel-terms",children:o.terms.cancelButton}),a.jsx(W,{onClick:c,disabled:!s||r,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-accept-terms",children:r?o.terms.loading:o.terms.acceptButton})]})]})]})})}const jX=q.object({firstName:q.string().min(2,"En az 2 karakter"),lastName:q.string().min(2,"En az 2 karakter"),username:q.string().min(3,"En az 3 karakter").max(20,"En fazla 20 karakter"),email:q.string().email("Geçerli e-posta giriniz"),phone:q.string().min(10,"En az 10 rakam"),password:q.string().min(6,"En az 6 karakter")});function MO({open:t,onClose:e,onSwitchToLogin:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(null),{toast:v}=pn(),{language:w,setLanguage:x,t:k}=Kn(),_=kh({resolver:Eh(jX),defaultValues:{firstName:"",lastName:"",username:"",email:"",phone:"",password:""}}),g=async I=>{m(I),h(!0)},b=async()=>{if(f)if(!f.email)await O();else{s(!0);try{await UW(f),v({title:"Kayıt başarılı! 🎉",description:"E-posta adresinize doğrulama bağlantısı gönderildi. Eğer gelen kutusunda yoksa SPAM klasörünüze bakınız. E-posta doğrulaması yapmadan giriş yapamazsınız."}),h(!1),e(),_.reset(),m(null)}catch(I){v({title:"Kayıt Hatası",description:I.message,variant:"destructive"})}finally{s(!1)}}},C=()=>{h(!1),m(null)},D=async()=>{m({firstName:"",lastName:"",username:"",email:"",phone:"",password:""}),h(!0)},O=async()=>{o(!0);try{await lD(),v({title:"Kayıt başarılı! 🎉",description:"Google ile başarıyla giriş yapıldı!"}),h(!1),e(),_.reset(),m(null)}catch(I){v({title:"Google Kayıt Hatası",description:I.message,variant:"destructive"})}finally{o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(Ui,{open:t,onOpenChange:e,children:a.jsxs(li,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto","data-testid":"modal-register",children:[a.jsx(ci,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ui,{"data-testid":"title-register",children:k.auth.register}),a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsx(W,{variant:"ghost",size:"sm","data-testid":"button-language-register",children:a.jsx(Jc,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsx(En,{onClick:()=>x("tr"),className:w==="tr"?"bg-blue-50":"","data-testid":"language-tr-register",children:"🇹🇷 Türkçe"}),a.jsx(En,{onClick:()=>x("en"),className:w==="en"?"bg-blue-50":"","data-testid":"language-en-register",children:"🇺🇸 English"}),a.jsx(En,{onClick:()=>x("ar"),className:w==="ar"?"bg-blue-50":"","data-testid":"language-ar-register",children:"🇸🇦 العربية"})]})]})]})}),a.jsx(Ey,{..._,children:a.jsxs("form",{onSubmit:_.handleSubmit(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Ot,{control:_.control,name:"firstName",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Ad"}),a.jsx(mt,{children:a.jsx(xt,{placeholder:"Adınız",...I,"data-testid":"input-firstName"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:_.control,name:"lastName",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Soyad"}),a.jsx(mt,{children:a.jsx(xt,{placeholder:"Soyadınız",...I,"data-testid":"input-lastName"})}),a.jsx(Rt,{})]})})]}),a.jsx(Ot,{control:_.control,name:"username",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Kullanıcı Adı"}),a.jsx(mt,{children:a.jsx(xt,{placeholder:"kullanici_adi",...I,"data-testid":"input-username"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:_.control,name:"email",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"E-posta"}),a.jsx(mt,{children:a.jsx(xt,{type:"email",placeholder:"ornek@email.com",...I,"data-testid":"input-email"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:_.control,name:"phone",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Telefon"}),a.jsx(mt,{children:a.jsx(xt,{type:"tel",placeholder:"05XX XXX XX XX",...I,"data-testid":"input-phone"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:_.control,name:"password",render:({field:I})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Şifre"}),a.jsx(mt,{children:a.jsxs("div",{className:"relative",children:[a.jsx(xt,{type:l?"text":"password",placeholder:"••••••••",...I,"data-testid":"input-password",className:"pr-10"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700","data-testid":"button-toggle-password",children:l?a.jsx(Vb,{className:"h-4 w-4"}):a.jsx(ro,{className:"h-4 w-4"})})]})}),a.jsx(Rt,{})]})}),a.jsx(W,{type:"submit",className:"w-full",disabled:r||i,"data-testid":"button-submit-register",children:r?"Kayıt oluşturuluyor...":"Şartları Oku & Kayıt Ol"})]})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"veya"})})]}),a.jsxs(W,{type:"button",variant:"outline",className:"w-full",disabled:r||i,onClick:D,"data-testid":"button-google-signin-register",children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),i?"Google ile kayıt olunuyor...":"Google ile Kayıt Ol"]})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsxs("p",{className:"text-gray-600",children:["Zaten hesabın var mı?"," ",a.jsx("button",{onClick:n,className:"text-primary hover:text-primary/80 font-medium","data-testid":"button-switch-to-login",children:"Giriş Yap"})]})})]})}),a.jsx(CX,{open:u,onClose:C,onAccept:b,loading:r})]})}function AX(){const{profile:t}=qn(),[e,n]=p.useState(0);return p.useEffect(()=>{if(!(t!=null&&t.id)){n(0);return}const r=dt(he,"conversations"),s=Qt(r,Nt("participants","array-contains",t.id)),i=Au(s,o=>{let l=0;o.forEach(c=>{var f;const h=((f=c.data().unreadCount)==null?void 0:f[t.id])||0;l+=h}),n(l)},o=>{console.error("Error listening to conversations:",o),n(0)});return()=>i()},[t==null?void 0:t.id]),{unreadCount:e}}function RX(){const{profile:t}=qn(),[e,n]=p.useState([]),[r,s]=p.useState(0),[i,o]=p.useState(!1);return p.useEffect(()=>{if(!(t!=null&&t.id)){n([]),s(0);return}o(!0);const l=dt(he,"notifications"),c=Qt(l,Nt("userId","==",t.id)),u=Au(c,h=>{const f=[];let m=0;h.forEach(v=>{var k;const w=v.data(),x={...w,id:v.id,createdAt:(k=w.createdAt)!=null&&k.toDate?w.createdAt.toDate():new Date(w.createdAt)};f.push(x),x.isRead||m++}),f.sort((v,w)=>w.createdAt.getTime()-v.createdAt.getTime()),n(f),s(m),o(!1)},h=>{console.error("Error listening to notifications:",h),n([]),s(0),o(!1)});return()=>u()},[t==null?void 0:t.id]),{notifications:e.slice(0,20),unreadCount:r,loading:i}}const Ay=async t=>{try{return(await ra(dt(he,"notifications"),{...t,createdAt:Ze.now()})).id}catch(e){throw new Error(e.message||"Bildirim oluşturulamadı")}},u0=async t=>{try{await xn(Ke(he,"notifications",t),{isRead:!0})}catch(e){throw new Error(e.message||"Bildirim okundu olarak işaretlenemedi")}},d0=async t=>{try{const e=Qt(dt(he,"notifications"),Nt("userId","==",t),Nt("isRead","==",!1)),r=(await zn(e)).docs.map(s=>xn(s.ref,{isRead:!0}));await Promise.all(r)}catch(e){throw new Error(e.message||"Bildirimler okundu olarak işaretlenemedi")}},PX=async(t,e,n,r)=>Ay({userId:t,type:"trade_offer",title:"Yeni Takas Teklifi",message:`${e} "${n}" ilanınız için takas teklifi gönderdi`,data:{tradeOfferId:r,fromUserName:e,itemTitle:n},isRead:!1}),DX=async(t,e,n)=>Ay({userId:t,type:"trade_accepted",title:"Takas Teklifi Kabul Edildi",message:`"${e}" için yaptığınız takas teklifi kabul edildi`,data:{tradeOfferId:n,itemTitle:e},isRead:!1}),OX=async(t,e,n)=>Ay({userId:t,type:"trade_rejected",title:"Takas Teklifi Reddedildi",message:`"${e}" için yaptığınız takas teklifi reddedildi`,data:{tradeOfferId:n,itemTitle:e},isRead:!1}),h0=Object.freeze(Object.defineProperty({__proto__:null,createNotification:Ay,createTradeAcceptedNotification:DX,createTradeOfferNotification:PX,createTradeRejectedNotification:OX,markAllNotificationsAsRead:d0,markNotificationAsRead:u0},Symbol.toStringTag,{value:"Module"}));function MX(){const{user:t,profile:e}=qn(),{toast:n}=pn(),{unreadCount:r}=AX(),{notifications:s,unreadCount:i}=RX(),{language:o,setLanguage:l,t:c}=Kn(),[u,h]=p.useState(!1),[f,m]=p.useState(!1),v=async()=>{try{await $W(),n({title:o==="tr"?"Çıkış yapıldı":o==="en"?"Logged out":"تم تسجيل الخروج",description:o==="tr"?"İyi günler!":o==="en"?"Have a good day!":"نتمنى لك يوماً سعيداً!"})}catch(w){n({title:c.common.error,description:w.message,variant:"destructive"})}};return a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-teal-500 shadow-lg sticky top-0 z-40 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:a.jsxs("div",{className:"flex justify-between items-center h-24",children:[a.jsx("div",{className:"flex items-center"}),a.jsx("div",{className:"flex items-center space-x-4",children:t?a.jsxs(a.Fragment,{children:[a.jsx(tt,{href:"/",className:"hidden sm:block",children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-white hover:text-yellow-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-home",children:[a.jsx(TT,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:c.nav.home})]})}),a.jsx(tt,{href:"/items",children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-white hover:text-green-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-browse",children:[a.jsx(ch,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:c.nav.items})]})}),a.jsx(tt,{href:"/add-item",children:a.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2 bg-white/10 border-white/30 text-white hover:bg-white hover:text-purple-600 rounded-xl transition-all duration-300 transform hover:scale-105 font-semibold shadow-lg","data-testid":"button-add-item",children:[a.jsx(tl,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:c.nav.addItem}),a.jsx("span",{className:"sm:hidden",children:c.nav.addItem})]})}),a.jsx(tt,{href:"/messages",className:"hidden lg:block",children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center gap-2 relative text-white hover:text-pink-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-messages",children:[a.jsx(tn,{className:"h-4 w-4"}),a.jsx("span",{children:c.nav.messages}),r>0&&a.jsx(ze,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full flex items-center justify-center text-xs p-0 min-w-0",children:r>99?"99+":r})]})}),a.jsx("div",{className:"hidden lg:block",children:a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center gap-2 relative text-white hover:text-orange-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-notifications",children:[a.jsx(fd,{className:"h-4 w-4"}),a.jsx("span",{children:c.nav.notifications}),i>0&&a.jsx(ze,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full flex items-center justify-center text-xs p-0 min-w-0",children:i>99?"99+":i})]})}),a.jsxs(Ii,{align:"end",className:"w-80",children:[a.jsx("div",{className:"p-3 border-b",children:a.jsx("h3",{className:"font-semibold",children:c.nav.notifications})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(fd,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{className:"text-sm",children:o==="tr"?"Henüz bildiriminiz yok":o==="en"?"No notifications yet":"لا توجد إشعارات بعد"})]}):a.jsx("div",{className:"divide-y",children:s.map(w=>a.jsx("div",{className:`p-3 hover:bg-gray-50 cursor-pointer ${w.isRead?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,onClick:()=>{w.isRead||u0(w.id).catch(console.error),(w.type==="trade_offer"||w.type==="trade_accepted"||w.type==="trade_rejected")&&(window.location.href="/profile?tab=trade-offers")},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-shrink-0 mt-1",children:[w.type==="trade_offer"&&a.jsx(vw,{className:"h-4 w-4 text-blue-500"}),w.type==="trade_accepted"&&a.jsx(Ep,{className:"h-4 w-4 text-green-500"}),w.type==="trade_rejected"&&a.jsx(Od,{className:"h-4 w-4 text-red-500"}),w.type==="trade_completed"&&a.jsx(Hr,{className:"h-4 w-4 text-yellow-500"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:w.createdAt.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),!w.isRead&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})]})},w.id))})}),a.jsxs("div",{className:"p-3 border-t text-center",children:[i>0&&a.jsx(W,{variant:"ghost",size:"sm",className:"text-xs mr-2",onClick:()=>{e!=null&&e.id&&d0(e.id).catch(console.error)},children:c.common.markAllRead}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>window.location.href="/profile?tab=trade-offers",children:c.common.viewAll})]})]})]})}),a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsxs(W,{variant:"ghost",size:"sm",className:"text-white hover:text-cyan-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-language",children:[a.jsx(Jc,{className:"h-4 w-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:c.common.language})]})}),a.jsxs(Ii,{align:"end",children:[a.jsx(En,{onClick:()=>l("tr"),className:o==="tr"?"bg-blue-50":"","data-testid":"language-tr",children:"🇹🇷 Türkçe"}),a.jsx(En,{onClick:()=>l("en"),className:o==="en"?"bg-blue-50":"","data-testid":"language-en",children:"🇺🇸 English"}),a.jsx(En,{onClick:()=>l("ar"),className:o==="ar"?"bg-blue-50":"","data-testid":"language-ar",children:"🇸🇦 العربية"})]})]}),a.jsx("div",{className:"sm:hidden",children:a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:text-pink-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-profile-mobile-header",children:a.jsx(pr,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsx(En,{asChild:!0,children:a.jsxs(tt,{href:"/profile","data-testid":"link-profile-mobile",children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),c.nav.profile]})}),a.jsxs(En,{onClick:v,"data-testid":"button-logout-mobile",children:[a.jsx(ww,{className:"h-4 w-4 mr-2"}),c.auth.logout]})]})]})}),a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsxs(W,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center gap-2 text-white hover:text-pink-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-user-menu",children:[a.jsx(pr,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:e!=null&&e.firstName?`${e.firstName} ${e.lastName||""}`.trim():t.email})]})}),a.jsxs(Ii,{align:"end",children:[a.jsx(En,{asChild:!0,children:a.jsxs(tt,{href:"/profile","data-testid":"link-profile",children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),c.nav.profile]})}),a.jsxs(En,{onClick:v,"data-testid":"button-logout",children:[a.jsx(ww,{className:"h-4 w-4 mr-2"}),c.auth.logout]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsxs(W,{variant:"ghost",size:"sm",className:"text-white hover:text-cyan-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm","data-testid":"button-language-guest",children:[a.jsx(Jc,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:c.common.language})]})}),a.jsxs(Ii,{align:"end",children:[a.jsx(En,{onClick:()=>l("tr"),className:o==="tr"?"bg-blue-50":"","data-testid":"language-tr-guest",children:"🇹🇷 Türkçe"}),a.jsx(En,{onClick:()=>l("en"),className:o==="en"?"bg-blue-50":"","data-testid":"language-en-guest",children:"🇺🇸 English"}),a.jsx(En,{onClick:()=>l("ar"),className:o==="ar"?"bg-blue-50":"","data-testid":"language-ar-guest",children:"🇸🇦 العربية"})]})]}),a.jsx(W,{variant:"ghost",className:"text-white hover:text-yellow-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105 backdrop-blur-sm font-medium",onClick:()=>h(!0),"data-testid":"button-login",children:c.auth.login}),a.jsx(W,{className:"bg-white/20 border-white/30 text-white hover:bg-white hover:text-purple-600 rounded-xl transition-all duration-300 transform hover:scale-105 font-semibold shadow-lg",onClick:()=>m(!0),"data-testid":"button-register",children:c.auth.register})]})})]})})}),t&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] sm:hidden bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-2xl backdrop-blur-md border-t border-white/20",children:a.jsxs("div",{className:"flex justify-around items-center py-2",children:[a.jsx(tt,{href:"/",children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex flex-col items-center gap-1 px-3 py-2 text-white hover:text-yellow-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105",children:[a.jsx(TT,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs",children:c.nav.home})]})}),a.jsx(tt,{href:"/messages",children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex flex-col items-center gap-1 px-3 py-2 relative text-white hover:text-green-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105",children:[a.jsx(tn,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs",children:c.nav.messages}),r>0&&a.jsx(ze,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs bg-red-500 text-white rounded-full",children:r})]})}),a.jsx(tt,{href:"/blog",children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex flex-col items-center gap-1 px-3 py-2 text-white hover:text-cyan-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105",children:[a.jsx(Fb,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs",children:c.nav.blog})]})}),a.jsxs(ba,{children:[a.jsx(_a,{asChild:!0,children:a.jsxs(W,{variant:"ghost",size:"sm",className:"flex flex-col items-center gap-1 px-3 py-2 relative text-white hover:text-orange-300 hover:bg-white/20 rounded-xl transition-all duration-300 transform hover:scale-105",children:[a.jsx(fd,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs",children:c.nav.notifications}),i>0&&a.jsx(ze,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs bg-red-500 text-white rounded-full",children:i})]})}),a.jsxs(Ii,{align:"end",className:"w-80 mb-16 bg-white/95 backdrop-blur-md shadow-2xl border border-white/20 rounded-2xl",children:[a.jsx("div",{className:"p-3 border-b",children:a.jsx("h3",{className:"font-semibold",children:c.nav.notifications})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(fd,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{className:"text-sm",children:o==="tr"?"Henüz bildiriminiz yok":o==="en"?"No notifications yet":"لا توجد إشعارات بعد"})]}):a.jsx("div",{className:"divide-y",children:s.map(w=>a.jsx("div",{className:`p-3 hover:bg-gray-50 cursor-pointer ${w.isRead?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,onClick:()=>{w.isRead||u0(w.id).catch(console.error),(w.type==="trade_offer"||w.type==="trade_accepted"||w.type==="trade_rejected")&&(window.location.href="/profile?tab=trade-offers")},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-shrink-0 mt-1",children:[w.type==="trade_offer"&&a.jsx(vw,{className:"h-4 w-4 text-blue-500"}),w.type==="trade_accepted"&&a.jsx(Ep,{className:"h-4 w-4 text-green-500"}),w.type==="trade_rejected"&&a.jsx(Od,{className:"h-4 w-4 text-red-500"}),w.type==="trade_completed"&&a.jsx(Hr,{className:"h-4 w-4 text-yellow-500"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w.title}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:w.createdAt.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),!w.isRead&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})]})},w.id))})}),a.jsxs("div",{className:"p-3 border-t text-center",children:[i>0&&a.jsx(W,{variant:"ghost",size:"sm",className:"text-xs mr-2",onClick:()=>{e!=null&&e.id&&d0(e.id).catch(console.error)},children:c.common.markAllRead}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>window.location.href="/profile?tab=trade-offers",children:c.common.viewAll})]})]})]})]})}),a.jsx(pO,{open:u,onClose:()=>h(!1),onSwitchToRegister:()=>{h(!1),m(!0)}}),a.jsx(MO,{open:f,onClose:()=>m(!1),onSwitchToLogin:()=>{m(!1),h(!0)}})]})}function f0(t){const e=LX(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(FX);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function LX(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=zX(s),l=UX(i,s.props);return s.type!==p.Fragment&&(l.ref=r?vu(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VX=Symbol("radix.slottable");function FX(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VX}function UX(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function zX(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $X(t){const e=t+"CollectionProvider",[n,r]=wn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:k,children:_}=x,g=fe.useRef(null),b=fe.useRef(new Map).current;return a.jsx(s,{scope:k,itemMap:b,collectionRef:g,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=f0(l),u=fe.forwardRef((x,k)=>{const{scope:_,children:g}=x,b=i(l,_),C=Le(k,b.collectionRef);return a.jsx(c,{ref:C,children:g})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=f0(h),v=fe.forwardRef((x,k)=>{const{scope:_,children:g,...b}=x,C=fe.useRef(null),D=Le(k,C),O=i(h,_);return fe.useEffect(()=>(O.itemMap.set(C,{ref:C,...b}),()=>void O.itemMap.delete(C))),a.jsx(m,{[f]:"",ref:D,children:g})});v.displayName=h;function w(x){const k=i(t+"CollectionConsumer",x);return fe.useCallback(()=>{const g=k.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(k.itemMap.values()).sort((O,I)=>b.indexOf(O.ref.current)-b.indexOf(I.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},w,r]}function BX(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var HX=xg[" useInsertionEffect ".trim().toString()]||Dt;function LO({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=qX({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=KX(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,t,i,o]);return[c,u]}function qX({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return HX(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function KX(t){return typeof t=="function"}var WX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VO=WX.reduce((t,e)=>{const n=f0(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function GX(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var QX=xg[" useInsertionEffect ".trim().toString()]||Dt;function YX({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=ZX({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=XX(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,t,i,o]);return[c,u]}function ZX({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return QX(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function XX(t){return typeof t=="function"}function JX(t){const e=eJ(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(nJ);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function eJ(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=sJ(s),l=rJ(i,s.props);return s.type!==p.Fragment&&(l.ref=r?vu(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tJ=Symbol("radix.slottable");function nJ(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tJ}function rJ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fk=iJ.reduce((t,e)=>{const n=JX(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aJ(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var FO=t=>{const{present:e,children:n}=t,r=oJ(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Le(r.ref,lJ(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};FO.displayName="Presence";function oJ(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=aJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=gm(r.current);i.current=l==="mounted"?u:"none"},[l]),Dt(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,v=gm(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Dt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const x=gm(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},m=v=>{v.target===e&&(i.current=gm(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function gm(t){return(t==null?void 0:t.animationName)||"none"}function lJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ry="Collapsible",[cJ,UO]=wn(Ry),[uJ,Uk]=cJ(Ry),zO=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...l}=t,[c,u]=YX({prop:r,defaultProp:s??!1,onChange:o,caller:Ry});return a.jsx(uJ,{scope:n,disabled:i,contentId:Qr(),open:c,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),children:a.jsx(Fk.div,{"data-state":$k(c),"data-disabled":i?"":void 0,...l,ref:e})})});zO.displayName=Ry;var $O="CollapsibleTrigger",BO=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Uk($O,n);return a.jsx(Fk.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":$k(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:GX(t.onClick,s.onOpenToggle)})});BO.displayName=$O;var zk="CollapsibleContent",HO=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Uk(zk,t.__scopeCollapsible);return a.jsx(FO,{present:n||s.open,children:({present:i})=>a.jsx(dJ,{...r,ref:e,present:i})})});HO.displayName=zk;var dJ=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=Uk(zk,n),[l,c]=p.useState(r),u=p.useRef(null),h=Le(e,u),f=p.useRef(0),m=f.current,v=p.useRef(0),w=v.current,x=o.open||l,k=p.useRef(x),_=p.useRef(void 0);return p.useEffect(()=>{const g=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(g)},[]),Dt(()=>{const g=u.current;if(g){_.current=_.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();f.current=b.height,v.current=b.width,k.current||(g.style.transitionDuration=_.current.transitionDuration,g.style.animationName=_.current.animationName),c(r)}},[o.open,r]),a.jsx(Fk.div,{"data-state":$k(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:x&&s})});function $k(t){return t?"open":"closed"}var hJ=zO,fJ=BO,mJ=HO,Os="Accordion",pJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Bk,gJ,yJ]=$X(Os),[Py,bne]=wn(Os,[yJ,UO]),Hk=UO(),qO=fe.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return a.jsx(Bk.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?a.jsx(bJ,{...i,ref:e}):a.jsx(wJ,{...s,ref:e})})});qO.displayName=Os;var[KO,vJ]=Py(Os),[WO,xJ]=Py(Os,{collapsible:!1}),wJ=fe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[l,c]=LO({prop:n,defaultProp:r??"",onChange:s,caller:Os});return a.jsx(KO,{scope:t.__scopeAccordion,value:fe.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:fe.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(WO,{scope:t.__scopeAccordion,collapsible:i,children:a.jsx(GO,{...o,ref:e})})})}),bJ=fe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o,l]=LO({prop:n,defaultProp:r??[],onChange:s,caller:Os}),c=fe.useCallback(h=>l((f=[])=>[...f,h]),[l]),u=fe.useCallback(h=>l((f=[])=>f.filter(m=>m!==h)),[l]);return a.jsx(KO,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(WO,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(GO,{...i,ref:e})})})}),[_J,Dy]=Py(Os),GO=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,l=fe.useRef(null),c=Le(l,e),u=gJ(n),f=Ol(s)==="ltr",m=BX(t.onKeyDown,v=>{var N;if(!pJ.includes(v.key))return;const w=v.target,x=u().filter(E=>{var S;return!((S=E.ref.current)!=null&&S.disabled)}),k=x.findIndex(E=>E.ref.current===w),_=x.length;if(k===-1)return;v.preventDefault();let g=k;const b=0,C=_-1,D=()=>{g=k+1,g>C&&(g=b)},O=()=>{g=k-1,g<b&&(g=C)};switch(v.key){case"Home":g=b;break;case"End":g=C;break;case"ArrowRight":i==="horizontal"&&(f?D():O());break;case"ArrowDown":i==="vertical"&&D();break;case"ArrowLeft":i==="horizontal"&&(f?O():D());break;case"ArrowUp":i==="vertical"&&O();break}const I=g%_;(N=x[I].ref.current)==null||N.focus()});return a.jsx(_J,{scope:n,disabled:r,direction:s,orientation:i,children:a.jsx(Bk.Slot,{scope:n,children:a.jsx(VO.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:m})})})}),fg="AccordionItem",[kJ,qk]=Py(fg),QO=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Dy(fg,n),o=vJ(fg,n),l=Hk(n),c=Qr(),u=r&&o.value.includes(r)||!1,h=i.disabled||t.disabled;return a.jsx(kJ,{scope:n,open:u,disabled:h,triggerId:c,children:a.jsx(hJ,{"data-orientation":i.orientation,"data-state":tM(u),...l,...s,ref:e,disabled:h,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});QO.displayName=fg;var YO="AccordionHeader",ZO=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Dy(Os,n),i=qk(YO,n);return a.jsx(VO.h3,{"data-orientation":s.orientation,"data-state":tM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});ZO.displayName=YO;var m0="AccordionTrigger",XO=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Dy(Os,n),i=qk(m0,n),o=xJ(m0,n),l=Hk(n);return a.jsx(Bk.ItemSlot,{scope:n,children:a.jsx(fJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:e})})});XO.displayName=m0;var JO="AccordionContent",eM=fe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Dy(Os,n),i=qk(JO,n),o=Hk(n);return a.jsx(mJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});eM.displayName=JO;function tM(t){return t?"open":"closed"}var EJ=qO,TJ=QO,NJ=ZO,nM=XO,rM=eM;const SJ=EJ,Wm=p.forwardRef(({className:t,...e},n)=>a.jsx(TJ,{ref:n,className:_e("border-b",t),...e}));Wm.displayName="AccordionItem";const Gm=p.forwardRef(({className:t,children:e,...n},r)=>a.jsx(NJ,{className:"flex",children:a.jsxs(nM,{ref:r,className:_e("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,a.jsx(Lb,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Gm.displayName=nM.displayName;const Qm=p.forwardRef(({className:t,children:e,...n},r)=>a.jsx(rM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:_e("pb-4 pt-0",t),children:e})}));Qm.displayName=rM.displayName;function IJ(){const{t}=Kn();return a.jsx("footer",{className:"bg-gray-900 text-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-2",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"T"})}),a.jsx("span",{className:"text-2xl font-bold",children:"Takas Çemberi"})]}),a.jsx("p",{className:"text-gray-400 mb-6","data-testid":"text-company-description",children:t.common.footerDescription}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("a",{href:"https://www.facebook.com/profile.php?id=61579785068865&mibextid=ZbWKwL",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","data-testid":"link-facebook",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})})]}),a.jsxs("a",{href:"https://www.instagram.com/takascemberi?igsh=ZWNjeHN6NjFiZ2lm",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","data-testid":"link-instagram",children:[a.jsx("span",{className:"sr-only",children:"Instagram"}),a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.40s-.644-1.44-1.439-1.44z"})})]})]})]}),a.jsx("div",{className:"md:col-span-3",children:a.jsxs(SJ,{type:"single",collapsible:!0,className:"w-full",children:[a.jsxs(Wm,{value:"platform",className:"border-gray-700",children:[a.jsx(Gm,{className:"text-lg font-semibold text-white hover:no-underline","data-testid":"text-platform-title",children:t.common.platform}),a.jsxs(Qm,{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-how-it-works",children:[t.home.howItWorksDetail.title,": ",t.home.howItWorksDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-security",children:[t.home.securityDetail.title,": ",t.home.securityDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-commission",children:[t.home.commissionDetail.title,": ",t.home.commissionDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-mobile-app",children:[t.home.mobileAppDetail.title,": ",t.home.mobileAppDetail.description]})]})]}),a.jsxs(Wm,{value:"support",className:"border-gray-700",children:[a.jsx(Gm,{className:"text-lg font-semibold text-white hover:no-underline","data-testid":"text-support-title",children:t.common.support}),a.jsxs(Qm,{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-help-center",children:[t.home.helpCenterDetail.title,": ",t.home.helpCenterDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-contact",children:[t.home.contactDetail.title,": ",t.home.contactDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-live-support",children:[t.home.liveSupportDetail.title,": ",t.home.liveSupportDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-faq",children:[t.home.faqDetail.title,a.jsx("div",{className:"mt-2 space-y-1",children:Object.entries(t.home.faqDetail.items).map(([e,n])=>a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsx("strong",{children:n.question})," ",n.answer]},e))})]})]})]}),a.jsxs(Wm,{value:"legal",className:"border-gray-700",children:[a.jsx(Gm,{className:"text-lg font-semibold text-white hover:no-underline","data-testid":"text-legal-title",children:t.common.legal}),a.jsxs(Qm,{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-terms",children:[t.home.termsOfUseDetail.title,": ",t.home.termsOfUseDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-privacy",children:[t.home.privacyPolicyDetail.title,": ",t.home.privacyPolicyDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-kvkk",children:[t.home.kvkkDetail.title,": ",t.home.kvkkDetail.description]}),a.jsxs("div",{className:"text-gray-400 hover:text-white transition-colors cursor-pointer p-2","data-testid":"link-cookies",children:[t.home.cookiesDetail.title,": ",t.home.cookiesDetail.description]})]})]})]})})]}),a.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("p",{className:"text-gray-400 text-sm","data-testid":"text-copyright",children:t.common.allRightsReserved}),a.jsxs("div",{className:"flex items-center space-x-6 mt-4 md:mt-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-primary rounded"}),a.jsx("span",{className:"text-sm text-gray-400","data-testid":"text-ssl-secure",children:t.common.sslSecure})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-400 rounded"}),a.jsx("span",{className:"text-sm text-gray-400","data-testid":"text-eco-friendly",children:t.common.ecoFriendly})]})]})]})]})})}const Oe=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Oe.displayName="Card";const Ut=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));Ut.displayName="CardHeader";const zt=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));zt.displayName="CardTitle";const sM=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));sM.displayName="CardDescription";const $e=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:_e("p-6 pt-0",t),...e}));$e.displayName="CardContent";const CJ=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",t),...e}));CJ.displayName="CardFooter";const zi=p.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));zi.displayName="Textarea";function Kk({onImageUpload:t,onCancel:e,buttonText:n="Resim Gönder",className:r}){const[s,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState(null),{toast:h}=pn(),f=w=>{var _;const x=(_=w.target.files)==null?void 0:_[0];if(!x)return;if(!x.type.startsWith("image/")){h({title:"Hata",description:"Lütfen bir resim dosyası seçin",variant:"destructive"});return}if(x.size>5*1024*1024){h({title:"Hata",description:"Resim boyutu 5MB'dan küçük olmalı",variant:"destructive"});return}u(x);const k=new FileReader;k.onload=g=>{var b;l((b=g.target)==null?void 0:b.result)},k.readAsDataURL(x)},m=async()=>{if(c){i(!0);try{const x=`chat-images/${Date.now()}-${c.name}`,k=lk(uk,x);await ak(k,c);const _=await ok(k);t(_),u(null),l(null),h({title:"Başarılı",description:"Resim gönderildi"})}catch(w){h({title:"Hata",description:w.message||"Resim yüklenirken hata oluştu",variant:"destructive"})}finally{i(!1)}}},v=()=>{u(null),l(null),e==null||e()};return a.jsx("div",{className:`space-y-3 ${r}`,children:o?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:o,alt:"Preview",className:"max-w-full max-h-48 rounded-lg border"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{onClick:m,disabled:s,size:"sm",className:"flex-1",children:[a.jsx(RA,{className:"h-4 w-4 mr-2"}),s?"Gönderiliyor...":n]}),a.jsx(W,{variant:"ghost",size:"sm",onClick:v,disabled:s,children:a.jsx(_s,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"flex-1 cursor-pointer inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[a.jsx(ef,{className:"h-4 w-4"}),"Resim Seç"]}),e&&a.jsx(W,{variant:"ghost",size:"sm",onClick:e,children:a.jsx(_s,{className:"h-4 w-4"})})]})})}function iM(){const{user:t,profile:e}=qn(),{toast:n}=pn(),[r,s]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,h]=p.useState([]),[f,m]=p.useState(!1),[v,w]=p.useState(!1),[x,k]=p.useState(!1),[_,g]=p.useState(null),b=p.useRef(null),C=()=>{var E;(E=b.current)==null||E.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{C()},[u]),p.useEffect(()=>{if(t!=null&&t.uid&&typeof window<"u"){const E=localStorage.getItem(`chat-cleared-${t.uid}`),S=localStorage.getItem(`chat-cleared-time-${t.uid}`);k(E==="true"),g(S?parseInt(S):null)}},[t==null?void 0:t.uid]),p.useEffect(()=>{if(!(t!=null&&t.uid))return;const E=Qt(dt(he,"chatMessages"),Nt("userId","==",t.uid)),S=Au(E,j=>{const R=[];j.forEach(A=>{var J;const B=A.data(),X=((J=B.timestamp)==null?void 0:J.toDate())||new Date;x&&_&&X.getTime()<=_||R.push({id:A.id,text:B.text,imageUrl:B.imageUrl,messageType:B.messageType||"text",sender:B.sender,senderName:B.senderName,createdAt:X})}),R.sort((A,B)=>A.createdAt.getTime()-B.createdAt.getTime()),h(R)});return()=>S()},[t==null?void 0:t.uid,x,_]);const D=async()=>{if(!(!l.trim()||!(t!=null&&t.uid)||f)){m(!0);try{await ra(dt(he,"chatMessages"),{text:l,messageType:"text",sender:"user",senderName:e!=null&&e.firstName?`${e.firstName} ${e.lastName}`:t.email,userId:t.uid,timestamp:Cr()}),c("")}catch{n({title:"Hata",description:"Mesaj gönderilemedi",variant:"destructive"})}finally{m(!1)}}},O=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),D())},I=async E=>{if(!(!(t!=null&&t.uid)||f)){m(!0);try{await ra(dt(he,"chatMessages"),{imageUrl:E,messageType:"image",sender:"user",senderName:e!=null&&e.firstName?`${e.firstName} ${e.lastName}`:t.email,userId:t.uid,timestamp:Cr()}),w(!1)}catch{n({title:"Hata",description:"Resim gönderilemedi",variant:"destructive"})}finally{m(!1)}}},N=()=>{if(!(t!=null&&t.uid))return;const E=Date.now();k(!0),g(E),localStorage.setItem(`chat-cleared-${t.uid}`,"true"),localStorage.setItem(`chat-cleared-time-${t.uid}`,E.toString()),h([]),c(""),w(!1),s(!1),n({title:"Sohbet Kapatıldı",description:"Chat penceresi temizlendi"})};return a.jsxs(a.Fragment,{children:[!r&&a.jsxs("div",{className:"fixed bottom-20 sm:bottom-6 right-6 z-50",children:[a.jsxs(W,{onClick:()=>s(!0),className:"w-16 h-16 rounded-full shadow-lg hover:scale-105 transition-transform bg-blue-600 hover:bg-blue-700","data-testid":"button-live-chat-open",children:[a.jsx(tn,{className:"h-6 w-6"}),a.jsx("span",{className:"sr-only",children:"Canlı Destek"})]}),a.jsx("div",{className:"absolute bottom-full right-0 mb-2 opacity-0 hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"bg-gray-900 text-white text-sm px-3 py-1 rounded-lg whitespace-nowrap",children:["Canlı Destek",a.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})})]}),r&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 right-6 z-50 w-80 max-w-[calc(100vw-2rem)]",children:a.jsxs(Oe,{className:"flex flex-col shadow-2xl max-h-[500px]",children:[a.jsxs(Ut,{className:"flex-row items-center justify-between space-y-0 pb-2 bg-blue-600 text-white rounded-t-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-5 w-5"}),a.jsx(zt,{className:"text-lg",children:"Canlı Destek"}),a.jsx(ze,{variant:"secondary",className:"bg-green-500 text-white border-0",children:"Çevrimiçi"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-blue-700",onClick:()=>o(!i),"data-testid":"button-minimize-chat",children:a.jsx(eU,{className:"h-4 w-4"})}),a.jsx(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-blue-700",onClick:N,"data-testid":"button-close-chat",disabled:f,children:a.jsx(_s,{className:"h-4 w-4"})})]})]}),!i&&a.jsxs($e,{className:"flex flex-col h-80 p-0",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0",children:[u.map(E=>a.jsx("div",{className:`flex ${E.sender==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg px-3 py-2 text-sm ${E.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[E.messageType==="image"&&E.imageUrl?a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:E.imageUrl,alt:"Gönderilen resim",className:"max-w-full max-h-48 rounded object-cover"}),E.text&&a.jsx("p",{children:E.text})]}):a.jsx("p",{children:E.text}),a.jsx("p",{className:`text-xs mt-1 ${E.sender==="user"?"text-blue-100":"text-gray-500"}`,children:E.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},E.id)),a.jsx("div",{ref:b})]}),a.jsxs("div",{className:"flex-shrink-0 p-4 border-t bg-gray-50 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(zi,{placeholder:"Mesajınızı yazın...",value:l,onChange:E=>c(E.target.value),onKeyPress:O,className:"flex-1 min-h-[40px] max-h-[60px] resize-none",rows:1,"data-testid":"input-chat-message"}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(W,{onClick:D,disabled:!l.trim()||f,size:"sm","data-testid":"button-send-message",children:a.jsx(uh,{className:"h-4 w-4"})}),a.jsx(W,{onClick:()=>w(!v),variant:"outline",size:"sm",disabled:f,"data-testid":"button-upload-image",children:a.jsx(ef,{className:"h-4 w-4"})})]})]}),v&&a.jsx(Kk,{onImageUpload:I,onCancel:()=>w(!1),buttonText:"Resim Gönder"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Genellikle birkaç dakika içinde yanıtlıyoruz"})]})]})]})})]})}var jJ=typeof Element<"u",AJ=typeof Map=="function",RJ=typeof Set=="function",PJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ym(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ym(t[r],e[r]))return!1;return!0}var i;if(AJ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Ym(r.value[1],e.get(r.value[0])))return!1;return!0}if(RJ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(PJ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(jJ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Ym(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var DJ=function(e,n){try{return Ym(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const OJ=Hh(DJ);var MJ=function(t,e,n,r,s,i,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,i,o,l],h=0;c=new Error(e.replace(/%s/g,function(){return u[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},LJ=MJ;const WS=Hh(LJ);var VJ=function(e,n,r,s){var i=r?r.call(s,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var h=o[u];if(!c(h))return!1;var f=e[h],m=n[h];if(i=r?r.call(s,f,m,h):void 0,i===!1||i===void 0&&f!==m)return!1}return!0};const FJ=Hh(VJ);var aM=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(aM||{}),sx={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},GS=Object.values(aM),Wk={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},UJ=Object.entries(Wk).reduce((t,[e,n])=>(t[n]=e,t),{}),vs="data-rh",jc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ac=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},zJ=t=>{let e=Ac(t,"title");const n=Ac(t,jc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Ac(t,jc.DEFAULT_TITLE);return e||r||void 0},$J=t=>Ac(t,jc.ON_CHANGE_CLIENT_STATE)||(()=>{}),ix=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),BJ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const l=s[i].toLowerCase();if(t.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),HJ=t=>console&&typeof console.warn=="function"&&console.warn(t),ad=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&HJ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,i)=>{const o={};i.filter(c=>{let u;const h=Object.keys(c);for(let m=0;m<h.length;m+=1){const v=h[m],w=v.toLowerCase();e.indexOf(w)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(w==="rel"&&c[w].toLowerCase()==="stylesheet")&&(u=w),e.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(u=v)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>s.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],h={...r[u],...o[u]};r[u]=h}return s},[]).reverse()},qJ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},KJ=t=>({baseTag:BJ(["href"],t),bodyAttributes:ix("bodyAttributes",t),defer:Ac(t,jc.DEFER),encode:Ac(t,jc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ix("htmlAttributes",t),linkTags:ad("link",["rel","href"],t),metaTags:ad("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ad("noscript",["innerHTML"],t),onChangeClientState:$J(t),scriptTags:ad("script",["src","innerHTML"],t),styleTags:ad("style",["cssText"],t),title:zJ(t),titleAttributes:ix("titleAttributes",t),prioritizeSeoTags:qJ(t,jc.PRIORITIZE_SEO_TAGS)}),oM=t=>Array.isArray(t)?t.join(""):t,WJ=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},ax=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(WJ(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},QS=(t,e)=>({...t,[e]:void 0}),GJ=["noscript","script","style"],p0=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),lM=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),QJ=(t,e,n,r)=>{const s=lM(n),i=oM(e);return s?`<${t} ${vs}="true" ${s}>${p0(i,r)}</${t}>`:`<${t} ${vs}="true">${p0(i,r)}</${t}>`},YJ=(t,e,n=!0)=>e.reduce((r,s)=>{const i=s,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,h)=>{const f=typeof i[h]>"u"?h:`${h}="${p0(i[h],n)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=GJ.indexOf(t)===-1;return`${r}<${t} ${vs}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),cM=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=Wk[r];return n[s||r]=t[r],n},e),ZJ=(t,e,n)=>{const r={key:e,[vs]:!0},s=cM(n,r);return[fe.createElement("title",s,e)]},Zm=(t,e)=>e.map((n,r)=>{const s={key:r,[vs]:!0};return Object.keys(n).forEach(i=>{const l=Wk[i]||i;if(l==="innerHTML"||l==="cssText"){const c=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=n[i]}),fe.createElement(t,s)}),Vr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>ZJ(t,e.title,e.titleAttributes),toString:()=>QJ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>cM(e),toString:()=>lM(e)};default:return{toComponent:()=>Zm(t,e),toString:()=>YJ(t,e,n)}}},XJ=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=ax(t,sx.meta),i=ax(e,sx.link),o=ax(n,sx.script);return{priorityMethods:{toComponent:()=>[...Zm("meta",s.priority),...Zm("link",i.priority),...Zm("script",o.priority)],toString:()=>`${Vr("meta",s.priority,r)} ${Vr("link",i.priority,r)} ${Vr("script",o.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}},JJ=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:h,metaTags:f,scriptTags:m}=t,v={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:v,linkTags:h,metaTags:f,scriptTags:m}=XJ(t)),{priority:v,base:Vr("base",e,r),bodyAttributes:Vr("bodyAttributes",n,r),htmlAttributes:Vr("htmlAttributes",s,r),link:Vr("link",h,r),meta:Vr("meta",f,r),noscript:Vr("noscript",i,r),script:Vr("script",m,r),style:Vr("style",o,r),title:Vr("title",{title:l,titleAttributes:c},r)}},g0=JJ,ym=[],uM=!!(typeof window<"u"&&window.document&&window.document.createElement),y0=class{constructor(t,e){wi(this,"instances",[]);wi(this,"canUseDOM",uM);wi(this,"context");wi(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ym:this.instances,add:t=>{(this.canUseDOM?ym:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ym:this.instances).indexOf(t);(this.canUseDOM?ym:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=g0({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},eee={},dM=fe.createContext(eee),Yo,hM=(Yo=class extends p.Component{constructor(n){super(n);wi(this,"helmetData");this.helmetData=new y0(this.props.context||{},Yo.canUseDOM)}render(){return fe.createElement(dM.Provider,{value:this.helmetData.value},this.props.children)}},wi(Yo,"canUseDOM",uM),Yo),Gl=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${vs}]`),s=[].slice.call(r),i=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(t);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const h=u,f=typeof l[h]>"u"?"":l[h];c.setAttribute(u,f)}c.setAttribute(vs,"true"),s.some((u,h)=>(o=h,c.isEqualNode(u)))?s.splice(o,1):i.push(c)}),s.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>n.appendChild(l)),{oldTags:s,newTags:i}},v0=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(vs),s=r?r.split(","):[],i=[...s],o=Object.keys(e);for(const l of o){const c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),s.indexOf(l)===-1&&s.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)n.removeAttribute(i[l]);s.length===i.length?n.removeAttribute(vs):n.getAttribute(vs)!==o.join(",")&&n.setAttribute(vs,o.join(","))},tee=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=oM(t)),v0("title",e)},YS=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:h,title:f,titleAttributes:m}=t;v0("body",r),v0("html",s),tee(f,m);const v={baseTag:Gl("base",n),linkTags:Gl("link",i),metaTags:Gl("meta",o),noscriptTags:Gl("noscript",l),scriptTags:Gl("script",u),styleTags:Gl("style",h)},w={},x={};Object.keys(v).forEach(k=>{const{newTags:_,oldTags:g}=v[k];_.length&&(w[k]=_),g.length&&(x[k]=v[k].oldTags)}),e&&e(),c(t,w,x)},od=null,nee=t=>{od&&cancelAnimationFrame(od),t.defer?od=requestAnimationFrame(()=>{YS(t,()=>{od=null})}):(YS(t),od=null)},ree=nee,ZS=class extends p.Component{constructor(){super(...arguments);wi(this,"rendered",!1)}shouldComponentUpdate(e){return!FJ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=KJ(e.get().map(i=>{const o={...i.props};return delete o.context,o}));hM.canUseDOM?ree(s):g0&&(r=g0(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},ox,fM=(ox=class extends p.Component{shouldComponentUpdate(t){return!OJ(QS(this.props,"helmetData"),QS(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return WS(GS.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${GS.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),WS(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return fe.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,o=Object.keys(i).reduce((c,u)=>(c[UJ[u]||u]=i[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,s),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,s);break;default:e=this.mapObjectTypeChildren(r,e,o,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof y0)){const s=r;r=new y0(s.context,!0),delete n.helmetData}return r?fe.createElement(ZS,{...n,context:r.value}):fe.createElement(dM.Consumer,null,s=>fe.createElement(ZS,{...n,context:s}))}},wi(ox,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ox);const see="/assets/ger%C3%A7ek%C3%A7i_teknoloji_ikonu_28fd7186-BSvHRIP4.png",iee="/assets/ger%C3%A7ek%C3%A7i_beyaz_e%C5%9Fya_ikonu_95d2b5c3-CVp9n5_M.png",aee="/assets/ger%C3%A7ek%C3%A7i_mobilya_ikonu_47e8c53a-20evfhTg.png",oee="/assets/ger%C3%A7ek%C3%A7i_araba_ikonu_d53970a9-DsvvMJ0p.png",lee="/assets/ger%C3%A7ek%C3%A7i_oyuncak_ikonu_5b63c4bc-BWodNvUU.png",cee="/assets/ger%C3%A7ek%C3%A7i_ta%C5%9F%C4%B1nmaz_ikonu_da4f855a-B2VnPE7t.png",uee="/assets/ger%C3%A7ek%C3%A7i_kitap_ikonu_0a9bbbb2-BSYbvaR5.png",dee=({iconSrc:t,title:e,description:n,href:r,dataTestId:s,isLoggedIn:i})=>i?a.jsx(tt,{href:r,children:a.jsxs(Oe,{className:"border-0 bg-gradient-to-br from-red-400/95 via-rose-500/95 to-red-600/95 backdrop-blur-lg hover:backdrop-blur-xl text-white group shadow-2xl hover:shadow-red-500/60 transition-all duration-500 cursor-pointer relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-300/40 to-rose-400/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-400 via-rose-500 to-red-600 rounded-lg opacity-30 blur-sm group-hover:opacity-60 transition-opacity duration-300 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),a.jsxs($e,{className:"p-6 text-center relative z-10",children:[a.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative group-hover:scale-125 transition-transform duration-500",children:[a.jsx("img",{src:t,alt:e,className:"w-full h-full object-contain filter brightness-110 drop-shadow-2xl group-hover:brightness-125 transition-all duration-500 animate-bounce",style:{filter:"brightness(1.1) contrast(1.05) saturate(1.1) drop-shadow(0 0 15px rgba(0, 0, 0, 0.3))"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent rounded-lg group-hover:from-white/50 transition-all duration-300"})]}),a.jsx("h3",{className:"font-bold text-lg mb-2 text-white group-hover:text-red-50 drop-shadow-lg",children:e}),a.jsx("p",{className:"text-red-50 text-sm group-hover:text-white transition-colors duration-300",children:n})]})]})}):a.jsxs(Oe,{className:"border-0 bg-gradient-to-br from-red-400/90 via-rose-500/90 to-red-600/90 backdrop-blur-md text-white shadow-2xl hover:shadow-red-500/50 transition-all duration-300 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-300/30 to-rose-400/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-400 to-rose-600 rounded-lg opacity-20 blur-sm group-hover:opacity-40 transition-opacity duration-300"}),a.jsxs($e,{className:"p-6 text-center relative z-10",children:[a.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative",children:[a.jsx("img",{src:t,alt:e,className:"w-full h-full object-contain filter brightness-110 drop-shadow-lg group-hover:brightness-125 transition-all duration-300 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-lg"})]}),a.jsx("h3",{className:"font-bold text-lg mb-2 text-white drop-shadow-md",children:e}),a.jsx("p",{className:"text-red-50 text-sm",children:n})]})]});function hee(){const{user:t}=qn(),{t:e}=Kn(),n=[{iconSrc:see,title:e.categories.teknolojik_urunler,description:e.common.teknolojikDesc,href:"/items?category=teknolojik_urunler",dataTestId:"category-teknolojik-urunler"},{iconSrc:iee,title:e.categories.beyaz_esya,description:e.common.beyazEsyaDesc,href:"/items?category=beyaz_esya",dataTestId:"category-beyaz-esya"},{iconSrc:aee,title:e.categories.mobilya,description:e.common.mobilyaDesc,href:"/items?category=mobilya",dataTestId:"category-mobilya"},{iconSrc:oee,title:e.categories.araba_group,description:e.common.arabaDesc,href:"/items?category=araba_group",dataTestId:"category-araba-group"},{iconSrc:lee,title:e.categories.oyuncak,description:e.common.oyuncakDesc,href:"/items?category=oyuncak",dataTestId:"category-oyuncak"},{iconSrc:cee,title:e.categories.tasinmazlar,description:e.common.tasinmazDesc,href:"/items?category=tasinmazlar",dataTestId:"category-tasinmazlar"},{iconSrc:uee,title:e.categories.kitap,description:e.common.kitapDesc,href:"/items?category=kitap",dataTestId:"category-kitap"}];return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
        .shimmer {
          background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.4),
            transparent
          );
          background-size: 200% 100%;
          animation: shimmer 3s infinite;
        }
      `}),a.jsxs("section",{className:"py-12 bg-gradient-to-br from-slate-50 via-red-50/30 to-rose-50/50 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ef4444' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 via-rose-500 to-red-700 bg-clip-text text-transparent mb-4 drop-shadow-sm",children:e.common.categoriesTitle}),a.jsx("p",{className:"text-xl text-gray-700 font-medium",children:e.common.categoriesSubtitle})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:n.map((r,s)=>a.jsx("div",{className:"transform hover:-translate-y-2 transition-all duration-300",style:{animationDelay:`${s*.1}s`,opacity:0,animation:`fadeInUp 0.6s ease-out ${s*.1}s forwards`},children:a.jsx(dee,{iconSrc:r.iconSrc,title:r.title,description:r.description,href:r.href,dataTestId:r.dataTestId,isLoggedIn:!!t})},s))})]})]}),a.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}const mg=async t=>{try{const e=await fn(Ke(he,"users",t));return e.exists()?e.data():null}catch(e){return console.error("Error fetching user:",e),null}},pg=async t=>{try{const e=await fn(Ke(he,"items",t));return e.exists()?e.data():null}catch(e){return console.error("Error fetching item:",e),null}};function fu(t){if(!t||t.trim()==="")return"";const e=t.trim().split(" ").filter(s=>s.length>0);if(e.length===0)return"";if(e.length===1)return e[0];if(e.length===2)return`${e[0]} ${e[1].charAt(0).toUpperCase()}.`;const n=e[0],r=e.slice(1).map(s=>s.charAt(0).toUpperCase()+".").join(" ");return`${n} ${r}`}function fee({item:t,onViewDetails:e}){const{t:n}=Kn(),r=s=>{const i=n.common.language==="English"?"en-US":n.common.language==="العربية"?"ar-SA":"tr-TR";return new Date(s).toLocaleDateString(i)};return a.jsxs(Oe,{className:"group hover:shadow-lg transition-shadow duration-300","data-testid":`card-item-${t.id}`,children:[a.jsxs("div",{className:"relative overflow-hidden",children:[t.images.length>0&&a.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-40 sm:h-48 lg:h-56 xl:h-64 object-contain bg-gray-50 group-hover:scale-105 transition-transform duration-300","data-testid":`img-item-${t.id}`}),a.jsx(ze,{className:"absolute top-2 right-2",variant:"secondary","data-testid":`badge-condition-${t.id}`,children:n.conditions[t.condition]||t.condition})]}),a.jsxs($e,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-xs text-gray-500 font-mono","data-testid":`item-number-${t.id}`,children:["#",t.itemNumber||"----"]}),a.jsx(ze,{variant:"outline","data-testid":`category-item-${t.id}`,children:n.categories[t.category]||t.category})]}),a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2","data-testid":`title-item-${t.id}`,children:n.common.language==="English"?t.titleEn||t.title:n.common.language==="العربية"&&t.titleAr||t.title})}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2","data-testid":`description-item-${t.id}`,children:n.common.language==="English"?t.descriptionEn||t.description:n.common.language==="العربية"&&t.descriptionAr||t.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(bu,{className:"h-4 w-4"}),a.jsx("span",{"data-testid":`location-item-${t.id}`,children:t.location})]}),t.rating&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Hr,{className:"h-4 w-4 text-yellow-400 fill-current"}),a.jsx("span",{"data-testid":`rating-item-${t.id}`,children:t.rating.toFixed(1)})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full","data-testid":`avatar-item-${t.id}`}),a.jsx(tt,{href:`/user/${t.ownerId}`,className:"text-sm text-gray-600 hover:text-primary hover:underline","data-testid":`owner-item-${t.id}`,children:fu(t.ownerName)})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500","data-testid":`date-item-${t.id}`,children:r(t.createdAt)}),a.jsx(W,{size:"sm",onClick:()=>e(t),"data-testid":`button-details-${t.id}`,children:n.common.view})]})]})]})}function mM({items:t,onViewDetails:e}){const{t:n}=Kn();return t.length===0?a.jsxs("div",{className:"text-center py-16","data-testid":"empty-items",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-gray-400 text-2xl",children:"📦"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:n.home.noRecentItems}),a.jsx("p",{className:"text-gray-500",children:n.items.addItem})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6","data-testid":"grid-items",children:t.map(r=>a.jsx(fee,{item:r,onViewDetails:e},r.id))})}function Ri({className:t,...e}){return a.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",t),...e})}const mee="/assets/%C5%9Feffaf_1756729496603-B89oZoOf.png";function pee(){const{user:t}=qn(),{t:e}=Kn();p.useState("");const[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState(0);p.useEffect(()=>{const m=setInterval(()=>{l(v=>(v+1)%e.home.heroTexts.length)},3e4);return()=>clearInterval(m)},[e.home.heroTexts.length]);const{data:c=[],isLoading:u}=tr({queryKey:["homepage-items"],queryFn:async()=>{try{return(await(await fetch("/api/items")).json()).slice(0,20)}catch(m){return console.error("Error fetching homepage items:",m),[]}}}),h=[{icon:a.jsx(iU,{className:"h-8 w-8"}),title:`1. ${e.home.step1Title}`,description:e.home.step1Description,gradientClass:"from-blue-500 to-purple-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{icon:a.jsx(tl,{className:"h-8 w-8"}),title:`2. ${e.home.step2Title}`,description:e.home.step2Description,gradientClass:"from-emerald-500 to-cyan-600",iconBg:"bg-emerald-100",iconColor:"text-emerald-600"},{icon:a.jsx(ch,{className:"h-8 w-8"}),title:`3. ${e.home.step3Title}`,description:e.home.step3Description,gradientClass:"from-orange-500 to-red-600",iconBg:"bg-orange-100",iconColor:"text-orange-600"},{icon:a.jsx("div",{className:"text-2xl",children:"🤝"}),title:`4. ${e.home.step4Title}`,description:e.home.step4Description,gradientClass:"from-purple-500 to-pink-600",iconBg:"bg-purple-100",iconColor:"text-purple-600"}],f=[{name:"Ahmet Kaya",location:"İstanbul",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face",rating:5,text:e.common.testimonial1},{name:"Ayşe Demir",location:"Ankara",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face",rating:5,text:e.common.testimonial2},{name:"Zeynep Özkan",location:"İzmir",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b494?w=40&h=40&fit=crop&crop=face",rating:5,text:e.common.testimonial3}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:`relative py-12 text-white transition-all duration-500 ${o===0?"bg-gradient-to-br from-orange-500 to-red-600":"bg-gradient-to-br from-primary to-green-600"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsx("img",{src:mee,alt:"Takas Çemberi Logo",className:"h-32 md:h-48 lg:h-56 w-auto mx-auto mb-6"})}),o===0&&a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx(bw,{className:"h-12 w-12 text-yellow-300 animate-pulse"})}),a.jsx("h1",{className:`text-2xl sm:text-3xl md:text-4xl font-bold mb-4 leading-tight transition-all duration-500 ${o===0?"text-yellow-100":"text-white"}`,"data-testid":"title-hero",children:e.home.heroTexts[o].title}),a.jsx("p",{className:`text-lg sm:text-xl md:text-2xl mb-8 font-semibold transition-all duration-500 ${o===0?"text-yellow-50 bg-red-800 bg-opacity-30 p-4 rounded-lg border-2 border-yellow-300":"text-white"}`,"data-testid":"welcome-text",children:e.home.heroTexts[o].subtitle})]})]}),t&&a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-12",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4","data-testid":"title-latest-items",children:["📦 ",e.home.recentItems]}),a.jsxs("p",{className:"text-xl text-gray-600",children:[e.home.recentItemsCount," ",c.length," ",e.home.itemsText]})]}),a.jsx(W,{asChild:!0,variant:"outline",className:"hidden sm:flex","data-testid":"button-view-all-items",children:a.jsxs(tt,{href:"/items",children:[e.common.viewAll,a.jsx(el,{className:"h-4 w-4 ml-2"})]})})]}),u?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((m,v)=>a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[a.jsx(Ri,{className:"w-full h-48"}),a.jsxs("div",{className:"p-4",children:[a.jsx(Ri,{className:"h-4 w-3/4 mb-2"}),a.jsx(Ri,{className:"h-4 w-1/2 mb-2"}),a.jsx(Ri,{className:"h-3 w-full mb-2"}),a.jsx(Ri,{className:"h-3 w-2/3"})]})]},v))}):c.length>0?a.jsxs(a.Fragment,{children:[a.jsx(mM,{items:c,onViewDetails:m=>window.location.href=`/item/${m.id}`}),a.jsx("div",{className:"flex justify-center mt-8 sm:hidden",children:a.jsx(W,{asChild:!0,variant:"outline","data-testid":"button-view-all-mobile",children:a.jsxs(tt,{href:"/items",children:[e.common.viewAll,a.jsx(el,{className:"h-4 w-4 ml-2"})]})})})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-gray-400 text-2xl",children:"📦"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:e.home.noRecentItems}),a.jsx("p",{className:"text-gray-500 mb-6",children:e.items.addItem}),a.jsx(W,{asChild:!0,children:a.jsxs(tt,{href:"/add-item",children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),e.items.addItem]})})]})]})}),a.jsxs("section",{className:"py-20 bg-gray-50",children:[a.jsx("style",{children:`
          @keyframes modernPulse {
            0%, 100% { 
              transform: translateY(0px);
              box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            }
            50% { 
              transform: translateY(-5px);
              box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            }
          }
          .modern-gradient-card {
            animation: modernPulse 3s ease-in-out infinite;
          }
        `}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4","data-testid":"title-how-it-works",children:e.home.howItWorks}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e.home.stepsSubtitle})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:h.map((m,v)=>a.jsx("div",{className:"text-center group","data-testid":`step-${v+1}`,children:a.jsxs("div",{className:`modern-gradient-card bg-gradient-to-br ${m.gradientClass} rounded-2xl p-8 mb-6 transform group-hover:scale-105 transition-all duration-500 shadow-2xl`,children:[a.jsx("div",{className:`w-16 h-16 ${m.iconBg} backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg`,children:a.jsx("div",{className:m.iconColor,children:m.icon})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-3 drop-shadow-lg",children:m.title}),a.jsx("p",{className:"text-white/90 font-medium drop-shadow-md",children:m.description})]})},v))})]})]}),a.jsx(hee,{}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4","data-testid":"title-testimonials",children:e.common.testimonialsTitle}),a.jsx("p",{className:"text-xl text-gray-600",children:e.common.testimonialsSubtitle})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:f.map((m,v)=>a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100","data-testid":`testimonial-${v}`,children:[a.jsx("div",{className:"flex items-center mb-4",children:a.jsx("div",{className:"flex text-yellow-400",children:[...Array(m.rating)].map((w,x)=>a.jsx(Hr,{className:"h-4 w-4 fill-current"},x))})}),a.jsx("p",{className:"text-gray-700 mb-6",children:m.text}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:m.avatar,alt:m.name,className:"w-10 h-10 rounded-full mr-3","data-testid":`avatar-testimonial-${v}`}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:m.name}),a.jsx("div",{className:"text-sm text-gray-600",children:m.location})]})]})]},v))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-green-100 to-blue-100",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex justify-center items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:a.jsx("span",{className:"text-2xl",children:"♻️"})}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:e.blog.recyclingTitle}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:a.jsx("span",{className:"text-2xl",children:"🌱"})})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:e.blog.recyclingSubtitle})]}),a.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 mb-8",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.blog.protectNatureTitle]}),a.jsx("p",{className:"mb-4",children:e.blog.protectNatureDesc}),a.jsxs("ul",{className:"space-y-2 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:a.jsx("strong",{children:e.blog.plasticBottle})})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:a.jsx("strong",{children:e.blog.aluminumCan})})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:a.jsx("strong",{children:e.blog.glassBottle})})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.blog.economyTitle]}),a.jsx("p",{className:"mb-4",children:e.blog.economyDesc}),a.jsxs("ul",{className:"space-y-2 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:e.blog.rawMaterial})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:e.blog.energyConsumption})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:e.blog.economicContribution})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 mt-8",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"🔄"}),e.blog.easiestWayTitle]}),a.jsx("p",{className:"mb-4",children:e.blog.easiestWayDesc}),a.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[a.jsx("div",{className:"text-2xl mb-2",children:"📱"}),a.jsx("p",{children:e.blog.phoneExample})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[a.jsx("div",{className:"text-2xl mb-2",children:"🪑"}),a.jsx("p",{children:e.blog.furnitureExample})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[a.jsx("div",{className:"text-2xl mb-2",children:"🔌"}),a.jsx("p",{children:e.blog.electronicExample})]})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(W,{asChild:!0,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl font-semibold text-lg",children:a.jsx(tt,{href:"/blog/geri-donusum-neden-onemli",children:e.blog.readMore})}),a.jsx(W,{asChild:!0,variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50 px-8 py-3 rounded-xl font-semibold text-lg",children:a.jsxs(tt,{href:"/add-item",children:[a.jsx(tl,{className:"h-5 w-5 mr-2"}),e.blog.startTrading]})})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:e.blog.encouragement})]})]})})}),a.jsx(pO,{open:n,onClose:()=>r(!1),onSwitchToRegister:()=>{r(!1),i(!0)}}),a.jsx(MO,{open:s,onClose:()=>i(!1),onSwitchToLogin:()=>{i(!1),r(!0)}})]})}var gee=[" ","Enter","ArrowUp","ArrowDown"],yee=[" ","Enter"],xf="Select",[Oy,My,vee]=Mg(xf),[Pu,_ne]=wn(xf,[vee,Tu]),Ly=Tu(),[xee,So]=Pu(xf),[wee,bee]=Pu(xf),pM=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:v,form:w}=t,x=Ly(e),[k,_]=p.useState(null),[g,b]=p.useState(null),[C,D]=p.useState(!1),O=Ol(u),[I=!1,N]=Qi({prop:r,defaultProp:s,onChange:i}),[E,S]=Qi({prop:o,defaultProp:l,onChange:c}),j=p.useRef(null),R=k?w||!!k.closest("form"):!0,[A,B]=p.useState(new Set),X=Array.from(A).map(J=>J.props.value).join(";");return a.jsx(uR,{...x,children:a.jsxs(xee,{required:v,scope:e,trigger:k,onTriggerChange:_,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:D,contentId:Qr(),value:E,onValueChange:S,open:I,onOpenChange:N,dir:O,triggerPointerDownPosRef:j,disabled:m,children:[a.jsx(Oy.Provider,{scope:e,children:a.jsx(wee,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(J=>{B(ae=>new Set(ae).add(J))},[]),onNativeOptionRemove:p.useCallback(J=>{B(ae=>{const z=new Set(ae);return z.delete(J),z})},[]),children:n})}),R?a.jsxs(UM,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:J=>S(J.target.value),disabled:m,form:w,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(A)]},X):null]})})};pM.displayName=xf;var gM="SelectTrigger",yM=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ly(n),o=So(gM,n),l=o.disabled||r,c=Le(e,o.onTriggerChange),u=My(n),h=p.useRef("touch"),[f,m,v]=zM(x=>{const k=u().filter(b=>!b.disabled),_=k.find(b=>b.value===o.value),g=$M(k,x,_);g!==void 0&&o.onValueChange(g.value)}),w=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Zb,{asChild:!0,...i,children:a.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FM(o.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:se(s.onPointerDown,x=>{h.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:se(s.onKeyDown,x=>{const k=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(k&&x.key===" ")&&gee.includes(x.key)&&(w(),x.preventDefault())})})})});yM.displayName=gM;var vM="SelectValue",xM=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=So(vM,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=Le(e,c.onValueNodeChange);return Dt(()=>{u(h)},[u,h]),a.jsx(Ee.span,{...l,ref:f,style:{pointerEvents:"none"},children:FM(c.value)?a.jsx(a.Fragment,{children:o}):i})});xM.displayName=vM;var _ee="SelectIcon",wM=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Ee.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});wM.displayName=_ee;var kee="SelectPortal",bM=t=>a.jsx(Xh,{asChild:!0,...t});bM.displayName=kee;var Sl="SelectContent",_M=p.forwardRef((t,e)=>{const n=So(Sl,t.__scopeSelect),[r,s]=p.useState();if(Dt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?jl.createPortal(a.jsx(kM,{scope:t.__scopeSelect,children:a.jsx(Oy.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(EM,{...t,ref:e})});_M.displayName=Sl;var is=10,[kM,Io]=Pu(Sl),Eee="SelectContentImpl",Tee=fl("SelectContent.RemoveScroll"),EM=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:k,..._}=t,g=So(Sl,n),[b,C]=p.useState(null),[D,O]=p.useState(null),I=Le(e,me=>C(me)),[N,E]=p.useState(null),[S,j]=p.useState(null),R=My(n),[A,B]=p.useState(!1),X=p.useRef(!1);p.useEffect(()=>{if(b)return yk(b)},[b]),gk();const J=p.useCallback(me=>{const[st,...He]=R().map(Re=>Re.ref.current),[$]=He.slice(-1),de=document.activeElement;for(const Re of me)if(Re===de||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===st&&D&&(D.scrollTop=0),Re===$&&D&&(D.scrollTop=D.scrollHeight),Re==null||Re.focus(),document.activeElement!==de))return},[R,D]),ae=p.useCallback(()=>J([N,b]),[J,N,b]);p.useEffect(()=>{A&&ae()},[A,ae]);const{onOpenChange:z,triggerPointerDownPosRef:H}=g;p.useEffect(()=>{if(b){let me={x:0,y:0};const st=$=>{var de,Re;me={x:Math.abs(Math.round($.pageX)-(((de=H.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round($.pageY)-(((Re=H.current)==null?void 0:Re.y)??0))}},He=$=>{me.x<=10&&me.y<=10?$.preventDefault():b.contains($.target)||z(!1),document.removeEventListener("pointermove",st),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",st),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",st),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,z,H]),p.useEffect(()=>{const me=()=>z(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[z]);const[ne,xe]=zM(me=>{const st=R().filter(de=>!de.disabled),He=st.find(de=>de.ref.current===document.activeElement),$=$M(st,me,He);$&&setTimeout(()=>$.ref.current.focus())}),be=p.useCallback((me,st,He)=>{const $=!X.current&&!He;(g.value!==void 0&&g.value===st||$)&&(E(me),$&&(X.current=!0))},[g.value]),Ie=p.useCallback(()=>b==null?void 0:b.focus(),[b]),Je=p.useCallback((me,st,He)=>{const $=!X.current&&!He;(g.value!==void 0&&g.value===st||$)&&j(me)},[g.value]),yt=r==="popper"?x0:TM,ht=yt===x0?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:k}:{};return a.jsx(kM,{scope:n,content:b,viewport:D,onViewportChange:O,itemRefCallback:be,selectedItem:N,onItemLeave:Ie,itemTextRefCallback:Je,focusSelectedItem:ae,selectedItemText:S,position:r,isPositioned:A,searchRef:ne,children:a.jsx(ky,{as:Tee,allowPinchZoom:!0,children:a.jsx(by,{asChild:!0,trapped:g.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:se(s,me=>{var st;(st=g.trigger)==null||st.focus({preventScroll:!0}),me.preventDefault()}),children:a.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(yt,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:me=>me.preventDefault(),..._,...ht,onPlaced:()=>B(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:se(_.onKeyDown,me=>{const st=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!st&&me.key.length===1&&xe(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let $=R().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(me.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const de=me.target,Re=$.indexOf(de);$=$.slice(Re+1)}setTimeout(()=>J($)),me.preventDefault()}})})})})})})});EM.displayName=Eee;var Nee="SelectItemAlignedPosition",TM=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=So(Sl,n),o=Io(Sl,n),[l,c]=p.useState(null),[u,h]=p.useState(null),f=Le(e,I=>h(I)),m=My(n),v=p.useRef(!1),w=p.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:_,focusSelectedItem:g}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&k&&_){const I=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),S=_.getBoundingClientRect();if(i.dir!=="rtl"){const de=S.left-N.left,Re=E.left-de,Ue=I.left-Re,Ye=I.width+Ue,ln=Math.max(Ye,N.width),An=window.innerWidth-is,Wn=c0(Re,[is,Math.max(is,An-ln)]);l.style.minWidth=Ye+"px",l.style.left=Wn+"px"}else{const de=N.right-S.right,Re=window.innerWidth-E.right-de,Ue=window.innerWidth-I.right-Re,Ye=I.width+Ue,ln=Math.max(Ye,N.width),An=window.innerWidth-is,Wn=c0(Re,[is,Math.max(is,An-ln)]);l.style.minWidth=Ye+"px",l.style.right=Wn+"px"}const j=m(),R=window.innerHeight-is*2,A=x.scrollHeight,B=window.getComputedStyle(u),X=parseInt(B.borderTopWidth,10),J=parseInt(B.paddingTop,10),ae=parseInt(B.borderBottomWidth,10),z=parseInt(B.paddingBottom,10),H=X+J+A+z+ae,ne=Math.min(k.offsetHeight*5,H),xe=window.getComputedStyle(x),be=parseInt(xe.paddingTop,10),Ie=parseInt(xe.paddingBottom,10),Je=I.top+I.height/2-is,yt=R-Je,ht=k.offsetHeight/2,me=k.offsetTop+ht,st=X+J+me,He=H-st;if(st<=Je){const de=j.length>0&&k===j[j.length-1].ref.current;l.style.bottom="0px";const Re=u.clientHeight-x.offsetTop-x.offsetHeight,Ue=Math.max(yt,ht+(de?Ie:0)+Re+ae),Ye=st+Ue;l.style.height=Ye+"px"}else{const de=j.length>0&&k===j[0].ref.current;l.style.top="0px";const Ue=Math.max(Je,X+x.offsetTop+(de?be:0)+ht)+He;l.style.height=Ue+"px",x.scrollTop=st-Je+x.offsetTop}l.style.margin=`${is}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,k,_,i.dir,r]);Dt(()=>b(),[b]);const[C,D]=p.useState();Dt(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const O=p.useCallback(I=>{I&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return a.jsx(Iee,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:a.jsx(Ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TM.displayName=Nee;var See="SelectPopperPosition",x0=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=is,...i}=t,o=Ly(n);return a.jsx(Xb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x0.displayName=See;var[Iee,Gk]=Pu(Sl,{}),w0="SelectViewport",NM=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Io(w0,n),o=Gk(w0,n),l=Le(e,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Oy.Slot,{scope:n,children:a.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const w=window.innerHeight-is*2,x=parseFloat(f.style.minHeight),k=parseFloat(f.style.height),_=Math.max(x,k);if(_<w){const g=_+v,b=Math.min(w,g),C=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});NM.displayName=w0;var SM="SelectGroup",[Cee,jee]=Pu(SM),Aee=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Qr();return a.jsx(Cee,{scope:n,id:s,children:a.jsx(Ee.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Aee.displayName=SM;var IM="SelectLabel",CM=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jee(IM,n);return a.jsx(Ee.div,{id:s.id,...r,ref:e})});CM.displayName=IM;var gg="SelectItem",[Ree,jM]=Pu(gg),AM=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=So(gg,n),c=Io(gg,n),u=l.value===r,[h,f]=p.useState(i??""),[m,v]=p.useState(!1),w=Le(e,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,r,s)}),x=Qr(),k=p.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Ree,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:p.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(Oy.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(Ee.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:se(o.onFocus,()=>v(!0)),onBlur:se(o.onBlur,()=>v(!1)),onClick:se(o.onClick,()=>{k.current!=="mouse"&&_()}),onPointerUp:se(o.onPointerUp,()=>{k.current==="mouse"&&_()}),onPointerDown:se(o.onPointerDown,g=>{k.current=g.pointerType}),onPointerMove:se(o.onPointerMove,g=>{var b;k.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):k.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:se(o.onKeyDown,g=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&g.key===" "||(yee.includes(g.key)&&_(),g.key===" "&&g.preventDefault())})})})})});AM.displayName=gg;var kd="SelectItemText",RM=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=So(kd,n),l=Io(kd,n),c=jM(kd,n),u=bee(kd,n),[h,f]=p.useState(null),m=Le(e,_=>f(_),c.onItemTextChange,_=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,_,c.value,c.disabled)}),v=h==null?void 0:h.textContent,w=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=u;return Dt(()=>(x(w),()=>k(w)),[x,k,w]),a.jsxs(a.Fragment,{children:[a.jsx(Ee.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jl.createPortal(i.children,o.valueNode):null]})});RM.displayName=kd;var PM="SelectItemIndicator",DM=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return jM(PM,n).isSelected?a.jsx(Ee.span,{"aria-hidden":!0,...r,ref:e}):null});DM.displayName=PM;var b0="SelectScrollUpButton",OM=p.forwardRef((t,e)=>{const n=Io(b0,t.__scopeSelect),r=Gk(b0,t.__scopeSelect),[s,i]=p.useState(!1),o=Le(e,r.onScrollButtonChange);return Dt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(LM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});OM.displayName=b0;var _0="SelectScrollDownButton",MM=p.forwardRef((t,e)=>{const n=Io(_0,t.__scopeSelect),r=Gk(_0,t.__scopeSelect),[s,i]=p.useState(!1),o=Le(e,r.onScrollButtonChange);return Dt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(LM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});MM.displayName=_0;var LM=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Io("SelectScrollButton",n),o=p.useRef(null),l=My(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Dt(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ee.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),Pee="SelectSeparator",VM=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Ee.div,{"aria-hidden":!0,...r,ref:e})});VM.displayName=Pee;var k0="SelectArrow",Dee=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ly(n),i=So(k0,n),o=Io(k0,n);return i.open&&o.position==="popper"?a.jsx(Jb,{...s,...r,ref:e}):null});Dee.displayName=k0;function FM(t){return t===""||t===void 0}var UM=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=Le(e,s),o=Pk(n);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[o,n]),a.jsx(Jh,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});UM.displayName="BubbleSelect";function zM(t){const e=Lt(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function $M(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Oee(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Oee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mee=pM,BM=yM,Lee=xM,Vee=wM,Fee=bM,HM=_M,Uee=NM,qM=CM,KM=AM,zee=RM,$ee=DM,WM=OM,GM=MM,QM=VM;const Ws=Mee,Gs=Lee,fs=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(BM,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(Vee,{asChild:!0,children:a.jsx(Lb,{className:"h-4 w-4 opacity-50"})})]}));fs.displayName=BM.displayName;const YM=p.forwardRef(({className:t,...e},n)=>a.jsx(WM,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Q5,{className:"h-4 w-4"})}));YM.displayName=WM.displayName;const ZM=p.forwardRef(({className:t,...e},n)=>a.jsx(GM,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Lb,{className:"h-4 w-4"})}));ZM.displayName=GM.displayName;const ms=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(Fee,{container:typeof document<"u"?document.body:void 0,children:a.jsxs(HM,{ref:s,className:_e("fixed inset-x-4 top-1/2 z-[99999] max-h-[80vh] w-auto -translate-y-1/2 overflow-hidden rounded-lg border bg-popover text-popover-foreground shadow-2xl sm:relative sm:inset-x-auto sm:top-auto sm:max-h-96 sm:min-w-[8rem] sm:translate-y-0 sm:rounded-md sm:shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","sm:data-[side=bottom]:slide-in-from-top-2 sm:data-[side=left]:slide-in-from-right-2 sm:data-[side=right]:slide-in-from-left-2 sm:data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"sm:data-[side=bottom]:translate-y-1 sm:data-[side=left]:-translate-x-1 sm:data-[side=right]:translate-x-1 sm:data-[side=top]:-translate-y-1",t),position:n,sideOffset:4,...r,children:[a.jsx(YM,{className:"hidden sm:flex"}),a.jsx(Uee,{className:_e("max-h-[70vh] overflow-y-auto p-1 sm:max-h-none",n==="popper"&&"sm:h-[var(--radix-select-trigger-height)] sm:w-full sm:min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(ZM,{className:"hidden sm:flex"})]})}));ms.displayName=HM.displayName;const Bee=p.forwardRef(({className:t,...e},n)=>a.jsx(qM,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Bee.displayName=qM.displayName;const bt=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(KM,{ref:r,className:_e("relative flex w-full cursor-pointer select-none items-center rounded-sm py-3 pl-8 pr-4 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 sm:py-1.5 sm:pl-8 sm:pr-2",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($ee,{children:a.jsx(bc,{className:"h-4 w-4"})})}),a.jsx(zee,{className:"text-base sm:text-sm",children:e})]}));bt.displayName=KM.displayName;const Hee=p.forwardRef(({className:t,...e},n)=>a.jsx(QM,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));Hee.displayName=QM.displayName;function qee(){const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[o,l]=p.useState(null),{t:c}=Kn();p.useEffect(()=>{const w=new URLSearchParams(window.location.search),x=w.get("search"),k=w.get("category");x&&e(x),k&&r(k==="araba_group"?"araba_group":k==="tasinmazlar_group"?"tasinmazlar":k)},[]);const{data:u=[],isLoading:h,error:f}=tr({queryKey:["items",t,n,s],queryFn:async()=>{try{const w=new URLSearchParams;t&&w.append("search",t),n&&n!=="all"&&w.append("category",n),s&&s!=="all"&&w.append("condition",s);const x=`/api/items${w.toString()?`?${w.toString()}`:""}`,k=await fetch(x);if(!k.ok)throw new Error("Failed to fetch items");return await k.json()}catch(w){return console.error("Error fetching items:",w),[]}}}),m=w=>{w.preventDefault()},v=w=>{l(w),window.location.href=`/item/${w.id}`};return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center","data-testid":"error-state",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:c.common.error}),a.jsx("p",{className:"text-gray-600",children:c.common.language==="English"?"Loading error.":c.common.language==="العربية"?"خطأ في التحميل.":"Yükleme hatası."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4","data-testid":"title-items",children:c.nav.items}),a.jsx("p",{className:"text-gray-600",children:c.items.searchItems.replace("...","")})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(xt,{type:"text",placeholder:c.items.searchItems,value:t,onChange:w=>e(w.target.value),className:"w-full","data-testid":"input-search-items"})}),a.jsxs(W,{type:"submit","data-testid":"button-search-items",children:[a.jsx(ch,{className:"h-4 w-4 mr-2"}),c.common.search]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs(Ws,{value:n,onValueChange:r,children:[a.jsx(fs,{"data-testid":"select-category",children:a.jsx(Gs,{placeholder:c.items.category})}),a.jsxs(ms,{children:[a.jsx(bt,{value:"all",children:c.categories.all}),a.jsxs(bt,{value:"araba_group",children:["🚗 ",c.categories.araba_group]}),a.jsxs(bt,{value:"tasinmazlar",children:["🏡 ",c.categories.tasinmazlar]}),a.jsxs(bt,{value:"elektronik",children:["📱 ",c.categories.elektronik]}),a.jsxs(bt,{value:"mobilya",children:["🪑 ",c.categories.mobilya]}),a.jsxs(bt,{value:"giyim",children:["👕 ",c.categories.giyim]}),a.jsxs(bt,{value:"kitap",children:["📚 ",c.categories.kitap]}),a.jsxs(bt,{value:"oyuncak",children:["🧸 ",c.categories.oyuncak]}),a.jsxs(bt,{value:"spor",children:["⚽ ",c.categories.spor]}),a.jsxs(bt,{value:"beyaz_esya",children:["🏠 ",c.categories.beyaz_esya]}),a.jsxs(bt,{value:"diger",children:["📦 ",c.categories.diger]})]})]})}),a.jsx("div",{className:"flex-1",children:a.jsxs(Ws,{value:s,onValueChange:i,children:[a.jsx(fs,{"data-testid":"select-condition",children:a.jsx(Gs,{placeholder:c.items.condition})}),a.jsxs(ms,{children:[a.jsx(bt,{value:"all",children:c.conditions.all}),a.jsx(bt,{value:"yeni",children:c.conditions.yeni}),a.jsx(bt,{value:"kullanilmis",children:c.conditions.kullanilmis}),a.jsx(bt,{value:"orta",children:c.conditions.orta}),a.jsx(bt,{value:"cok_iyi",children:c.conditions.cok_iyi}),a.jsx(bt,{value:"kusurlu",children:c.conditions.kusurlu})]})]})})]})]})}),a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsx("p",{className:"text-gray-600","data-testid":"text-results-count",children:h?c.common.loading:`${u.length} ${c.common.language==="English"?"items found":c.common.language==="العربية"?"عناصر موجودة":"ilan bulundu"}`})}),h&&a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((w,x)=>a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsx(Ri,{className:"w-full h-48"}),a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx(Ri,{className:"h-4 w-3/4"}),a.jsx(Ri,{className:"h-4 w-1/2"}),a.jsx(Ri,{className:"h-4 w-full"})]})]},x))}),!h&&a.jsx(mM,{items:u,onViewDetails:v})]})})}var Kee="Separator",XS="horizontal",Wee=["horizontal","vertical"],XM=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=XS,...s}=t,i=Gee(r)?r:XS,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Ee.div,{"data-orientation":i,...l,...s,ref:e})});XM.displayName=Kee;function Gee(t){return Wee.includes(t)}var JM=XM;const $i=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(JM,{ref:s,decorative:n,orientation:e,className:_e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));$i.displayName=JM.displayName;const Qee="modulepreload",Yee=function(t){return"/"+t},JS={},yg=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Yee(c),c in JS)return;JS[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Qee,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};class fc{constructor(){this.permission="default",this.checkPermission()}static getInstance(){return fc.instance||(fc.instance=new fc),fc.instance}checkPermission(){"Notification"in window&&(this.permission=Notification.permission)}async requestPermission(){if(!("Notification"in window))return console.warn("Bu tarayıcı bildirim özelliğini desteklemiyor"),"denied";if(this.permission==="default"){const e=await Notification.requestPermission();return this.permission=e,e}return this.permission}hasPermission(){return this.permission==="granted"}async showNotification(e){try{if(!("Notification"in window)){console.warn("Bu tarayıcı bildirim özelliğini desteklemiyor");return}if(this.permission!=="granted"&&await this.requestPermission()!=="granted"){console.log("Bildirim izni verilmemiş, sadece in-app bildirimler gösterilecek");return}if(document.visibilityState==="visible"){console.log("Kullanıcı sayfada, browser bildirimi gösterilmiyor (in-app bildirim devam ediyor):",e.title);return}const n=new Notification(e.title,{body:e.body,icon:e.icon||"/favicon.ico",badge:e.badge||"/favicon.ico",tag:`takas-${e.type}-${Date.now()}`,requireInteraction:!0,data:e.data});setTimeout(()=>{try{n.close()}catch{}},7e3),n.onclick=r=>{var s;r.preventDefault(),window.focus(),(s=e.data)!=null&&s.redirectUrl?window.location.href=e.data.redirectUrl:window.location.href="/profile?tab=trade-offers";try{n.close()}catch{}}}catch(n){console.error("Bildirim gösterilemedi:",n)}}createTradeOfferNotification(e,n){return{type:"new_trade_offer",title:"🔄 Yeni Takas Teklifi!",body:`${e} size "${n}" için takas teklifi gönderdi`,data:{redirectUrl:"/profile?tab=trade-offers"}}}createTradeAcceptedNotification(e,n){return{type:"trade_accepted",title:"✅ Takas Kabul Edildi!",body:`${e} takas teklifinizi kabul etti - "${n}"`,data:{redirectUrl:"/profile?tab=trade-offers"}}}createTradeRejectedNotification(e,n){return{type:"trade_rejected",title:"❌ Takas Reddedildi",body:`${e} takas teklifinizi reddetti - "${n}"`,data:{redirectUrl:"/profile?tab=trade-offers"}}}createTradeCompletedNotification(e){return{type:"trade_completed",title:"🎉 Takas Tamamlandı!",body:`"${e}" takasınız başarıyla tamamlandı`,data:{redirectUrl:"/profile?tab=active-items"}}}}const js=fc.getInstance(),eL=()=>js.requestPermission(),tL=()=>js.hasPermission(),nL=(t,e)=>{const n=js.createTradeOfferNotification(t,e);return js.showNotification(n)},rL=(t,e)=>{const n=js.createTradeAcceptedNotification(t,e);return js.showNotification(n)},sL=(t,e)=>{const n=js.createTradeRejectedNotification(t,e);return js.showNotification(n)},E0=t=>{const e=js.createTradeCompletedNotification(t);return js.showNotification(e)},Zee=Object.freeze(Object.defineProperty({__proto__:null,hasNotificationPermission:tL,notificationManager:js,requestNotificationPermission:eL,sendNewTradeOfferNotification:nL,sendTradeAcceptedNotification:rL,sendTradeCompletedNotification:E0,sendTradeRejectedNotification:sL},Symbol.toStringTag,{value:"Module"})),Xee=async t=>{try{const e=await ra(dt(he,"tradeOffers"),{...t,timestamp:Ze.now(),createdAt:Ze.now(),updatedAt:Ze.now()});try{const[n,r]=await Promise.all([mg(t.fromUserId),pg(t.toItemId)]);if(n&&r){const s=n.firstName?`${n.firstName} ${n.lastName||""}`.trim():n.email||"Bir kullanıcı",{createTradeOfferNotification:i}=await yg(async()=>{const{createTradeOfferNotification:l}=await Promise.resolve().then(()=>h0);return{createTradeOfferNotification:l}},void 0);await i(t.toUserId,s,r.title,e.id);const{requestNotificationPermission:o}=await yg(async()=>{const{requestNotificationPermission:l}=await Promise.resolve().then(()=>Zee);return{requestNotificationPermission:l}},void 0);await o(),await nL(s,r.title)}}catch(n){console.error("Takas teklifi bildirimi gönderilemedi:",n)}return e.id}catch(e){throw new Error(e.message||"Takas teklifi oluşturulamadı")}},Jee=async t=>{try{const e=Qt(dt(he,"tradeOffers"),Nt("fromUserId","==",t)),n=await zn(e),r=[];for(const s of n.docs){const i=s.data(),o={...i,id:s.id,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()};await iL(o),r.push(o)}return r.sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime()),r}catch(e){throw console.error("Error fetching sent trade offers:",e),new Error(e.message||"Gönderilen teklifler alınamadı")}},ete=async t=>{try{const e=Qt(dt(he,"tradeOffers"),Nt("toUserId","==",t)),n=await zn(e),r=[];for(const s of n.docs){const i=s.data(),o={...i,id:s.id,createdAt:i.createdAt.toDate(),updatedAt:i.updatedAt.toDate()};await iL(o),r.push(o)}return r.sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime()),r}catch(e){throw console.error("Error fetching received trade offers:",e),new Error(e.message||"Alınan teklifler alınamadı")}},T0=async(t,e)=>{try{const n=await fn(Ke(he,"tradeOffers",t));let r=null;if(n.exists()&&(r=n.data()),await xn(Ke(he,"tradeOffers",t),{status:e,updatedAt:Ze.now()}),r&&(e==="reddedildi"||e==="kabul_edildi"))try{const[s,i]=await Promise.all([mg(r.fromUserId),pg(r.toItemId)]);if(s&&i){const o=s.firstName?`${s.firstName} ${s.lastName||""}`.trim():s.email||"Bir kullanıcı";if(e==="reddedildi"){const{createTradeRejectedNotification:l}=await yg(async()=>{const{createTradeRejectedNotification:c}=await Promise.resolve().then(()=>h0);return{createTradeRejectedNotification:c}},void 0);await l(r.fromUserId,i.title,t),await sL(o,i.title)}else if(e==="kabul_edildi"){const{createTradeAcceptedNotification:l}=await yg(async()=>{const{createTradeAcceptedNotification:c}=await Promise.resolve().then(()=>h0);return{createTradeAcceptedNotification:c}},void 0);await l(r.fromUserId,i.title,t),await rL(o,i.title)}}}catch(s){console.error("Takas durumu bildirimi gönderilemedi:",s)}}catch(n){throw new Error(n.message||"Takas teklifi durumu güncellenemedi")}},iL=async t=>{try{const e=await fn(Ke(he,"items",t.fromItemId));if(e.exists()){const r=e.data();t.fromItem={id:e.id,title:r.title,images:r.images,category:r.category,condition:r.condition}}const n=await fn(Ke(he,"items",t.toItemId));if(n.exists()){const r=n.data();t.toItem={id:n.id,title:r.title,images:r.images,category:r.category,condition:r.condition}}try{const r=await fn(Ke(he,"users",t.fromUserId));if(r.exists()){const s=r.data();t.fromUserName=s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.email||s.username||"Kullanıcı"}else t.fromUserName="Bilinmeyen Kullanıcı"}catch(r){console.error("Error fetching from user:",r),t.fromUserName="Bilinmeyen Kullanıcı"}try{const r=await fn(Ke(he,"users",t.toUserId));if(r.exists()){const s=r.data();t.toUserName=s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.email||s.username||"Kullanıcı"}else t.toUserName="Bilinmeyen Kullanıcı"}catch(r){console.error("Error fetching to user:",r),t.toUserName="Bilinmeyen Kullanıcı"}}catch(e){console.error("Error enriching trade offer:",e),t.fromUserName=t.fromUserName||"Bilinmeyen Kullanıcı",t.toUserName=t.toUserName||"Bilinmeyen Kullanıcı"}},tte=async t=>{try{console.log("Deleting trade offer:",t),await lu(Ke(he,"tradeOffers",t)),console.log("Trade offer deleted successfully:",t)}catch(e){throw console.error("Error deleting trade offer:",e),new Error(e.message||"Takas teklifi silinemedi")}},nte=async t=>{try{const e=await fn(Ke(he,"tradeOffers",t));if(!e.exists())throw new Error("Takas teklifi bulunamadı");const n=e.data();await xn(Ke(he,"items",n.fromItemId),{status:"takas_edildi",updatedAt:Ze.now()}),await xn(Ke(he,"items",n.toItemId),{status:"takas_edildi",updatedAt:Ze.now()}),await T0(t,"kabul_edildi");try{const[r,s,i,o]=await Promise.all([mg(n.fromUserId),mg(n.toUserId),pg(n.fromItemId),pg(n.toItemId)]);i&&await E0(i.title),o&&await E0(o.title)}catch(r){console.error("Takas tamamlama bildirimi gönderilemedi:",r)}}catch(e){throw new Error(e.message||"Takas tamamlanamadı")}};var Qk="Radio",[rte,aL]=wn(Qk),[ste,ite]=rte(Qk),oL=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...h}=t,[f,m]=p.useState(null),v=Le(e,k=>m(k)),w=p.useRef(!1),x=f?u||!!f.closest("form"):!0;return a.jsxs(ste,{scope:n,checked:s,disabled:o,children:[a.jsx(Ee.button,{type:"button",role:"radio","aria-checked":s,"data-state":uL(s),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:se(t.onClick,k=>{s||c==null||c(),x&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),x&&a.jsx(ate,{control:f,bubbles:!w.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});oL.displayName=Qk;var lL="RadioIndicator",cL=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=ite(lL,n);return a.jsx(jn,{present:r||i.checked,children:a.jsx(Ee.span,{"data-state":uL(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});cL.displayName=lL;var ate=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=Pk(n),l=Gb(e);return p.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[o,n,r]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uL(t){return t?"checked":"unchecked"}var ote=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yk="RadioGroup",[lte,kne]=wn(Yk,[Ru,aL]),dL=Ru(),hL=aL(),[cte,ute]=lte(Yk),fL=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:f,...m}=t,v=dL(n),w=Ol(u),[x,k]=Qi({prop:i,defaultProp:s,onChange:f});return a.jsx(cte,{scope:n,name:r,required:o,disabled:l,value:x,onValueChange:k,children:a.jsx(kk,{asChild:!0,...v,orientation:c,dir:w,loop:h,children:a.jsx(Ee.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...m,ref:e})})})});fL.displayName=Yk;var mL="RadioGroupItem",pL=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=ute(mL,n),o=i.disabled||r,l=dL(n),c=hL(n),u=p.useRef(null),h=Le(e,u),f=i.value===s.value,m=p.useRef(!1);return p.useEffect(()=>{const v=x=>{ote.includes(x.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",w)}},[]),a.jsx(Ek,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(oL,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:se(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:se(s.onFocus,()=>{var v;m.current&&((v=u.current)==null||v.click())})})})});pL.displayName=mL;var dte="RadioGroupIndicator",gL=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=hL(n);return a.jsx(cL,{...s,...r,ref:e})});gL.displayName=dte;var yL=fL,vL=pL,hte=gL;const xL=p.forwardRef(({className:t,...e},n)=>a.jsx(yL,{className:_e("grid gap-2",t),...e,ref:n}));xL.displayName=yL.displayName;const wL=p.forwardRef(({className:t,...e},n)=>a.jsx(vL,{ref:n,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(hte,{className:"flex items-center justify-center",children:a.jsx(CA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wL.displayName=vL.displayName;const fte=q.object({id:q.string(),email:q.string().email(),username:q.string().min(3).max(20),firstName:q.string().min(2),lastName:q.string().min(2),phone:q.string().min(10),city:q.string().optional(),avatar:q.string().optional(),totalListings:q.number().default(0),averageRating:q.number().min(0).max(5).default(0),totalRatings:q.number().default(0),createdAt:q.date(),emailVerified:q.boolean().default(!1),isAdmin:q.boolean().default(!1)});fte.omit({id:!0,createdAt:!0,emailVerified:!0,totalListings:!0,averageRating:!0,totalRatings:!0,isAdmin:!0});const bL=q.object({id:q.string(),itemNumber:q.number().min(500001,"İlan numarası 500001'den başlamalı"),title:q.string().min(3).max(100),description:q.string().min(10).max(1e3),titleEn:q.string().optional(),titleAr:q.string().optional(),descriptionEn:q.string().optional(),descriptionAr:q.string().optional(),category:q.string(),condition:q.enum(["yeni","cok_iyi","iyi","orta","kullanilmis"]),images:q.array(q.string()).min(1).max(5),ownerId:q.string(),ownerName:q.string(),ownerAvatar:q.string().optional(),location:q.string(),status:q.enum(["pending","aktif","takas_edildi","pasif","reddedildi","süresi_biten"]).default("pending"),isPaid:q.boolean().default(!1),paymentId:q.string().optional(),rating:q.number().min(0).max(5).optional(),adminNotes:q.string().optional(),approvedAt:q.date().optional(),approvedBy:q.string().optional(),expireAt:q.date().optional(),originalPublishDate:q.date().optional(),expiresAt:q.date().optional(),createdAt:q.date(),updatedAt:q.date()});bL.omit({id:!0,createdAt:!0,updatedAt:!0,expireAt:!0,originalPublishDate:!0,expiresAt:!0,ownerName:!0,ownerAvatar:!0,isPaid:!0,paymentId:!0});const mte=bL.omit({id:!0,createdAt:!0,updatedAt:!0,expireAt:!0,originalPublishDate:!0,expiresAt:!0,ownerName:!0,ownerAvatar:!0,isPaid:!0,paymentId:!0,status:!0,approvedAt:!0,approvedBy:!0}),pte=q.object({id:q.string(),fromUserId:q.string(),toUserId:q.string(),fromItemId:q.string(),toItemId:q.string(),message:q.string().optional(),status:q.enum(["beklemede","kabul_edildi","reddedildi","iptal_edildi"]).default("beklemede"),createdAt:q.date(),updatedAt:q.date()});pte.omit({id:!0,createdAt:!0,updatedAt:!0});const _L=q.object({id:q.string(),text:q.string().optional(),imageUrl:q.string().optional(),messageType:q.enum(["text","image"]).default("text"),sender:q.enum(["user","admin"]),senderName:q.string().optional(),userId:q.string(),timestamp:q.any(),createdAt:q.date()});_L.refine(t=>t.text||t.imageUrl,"Message must have either text or image");_L.omit({id:!0,createdAt:!0}).refine(t=>t.text||t.imageUrl,"Message must have either text or image");const gte=q.object({id:q.string(),raterUserId:q.string(),ratedUserId:q.string(),rating:q.number().min(1).max(5),comment:q.string().optional(),createdAt:q.date()});gte.omit({id:!0,createdAt:!0});const kL=q.object({id:q.string(),fromUserId:q.string(),toUserId:q.string(),text:q.string().optional(),imageUrl:q.string().optional(),messageType:q.enum(["text","image"]).default("text"),conversationId:q.string(),isRead:q.boolean().default(!1),timestamp:q.any(),deletedBy:q.array(q.string()).optional().default([]),createdAt:q.date()});kL.refine(t=>t.text||t.imageUrl,"Message must have either text or image");kL.omit({id:!0,createdAt:!0}).refine(t=>t.text||t.imageUrl,"Message must have either text or image");const yte=q.object({id:q.string(),fromUserId:q.string(),toUserId:q.string(),rating:q.number().min(1).max(5),comment:q.string().optional(),tradeOfferId:q.string().optional(),createdAt:q.date(),updatedAt:q.date()});yte.omit({id:!0,createdAt:!0,updatedAt:!0});const vte=q.object({id:q.string(),userId:q.string(),type:q.enum(["new_rating","trade_offer","trade_accepted","trade_rejected","trade_completed","admin_message"]),title:q.string(),message:q.string(),data:q.record(q.any()).optional(),isRead:q.boolean().default(!1),createdAt:q.date()});vte.omit({id:!0,createdAt:!0});const xte=q.object({id:q.string(),participants:q.array(q.string()).length(2),lastMessage:q.string(),lastMessageTime:q.date(),unreadCount:q.record(q.string(),q.number()),tradeOfferId:q.string().optional(),createdAt:q.date(),updatedAt:q.date()});xte.omit({id:!0,createdAt:!0,updatedAt:!0});const N0=["beyaz_esya","mobilya","araba_yedek_parca","araba","teknolojik_urunler","ev_beyaz_esya","oyuncak","tasinmazlar","kitap"],As={yeni:"Yeni",cok_iyi:"Çok İyi",iyi:"İyi",orta:"Orta",kullanilmis:"Kullanılmış"},Bi={beyaz_esya:"Beyaz Eşya",mobilya:"Mobilya",araba_yedek_parca:"Araba Yedek Parça",araba:"Araba",teknolojik_urunler:"Teknolojik Ürünler",ev_beyaz_esya:"Ev Beyaz Eşya",oyuncak:"Oyuncak",tasinmazlar:"Taşınmazlar",kitap:"Kitap"},eI={ev:"Ev",arsa:"Arsa",tarla:"Tarla"},tI=["Adana","Adıyaman","Afyonkarahisar","Ağrı","Aksaray","Amasya","Ankara","Antalya","Ardahan","Artvin","Aydın","Balıkesir","Bartın","Batman","Bayburt","Bilecik","Bingöl","Bitlis","Bolu","Burdur","Bursa","Çanakkale","Çankırı","Çorum","Denizli","Diyarbakır","Düzce","Edirne","Elazığ","Erzincan","Erzurum","Eskişehir","Gaziantep","Giresun","Gümüşhane","Hakkâri","Hatay","Iğdır","Isparta","İstanbul","İzmir","Kahramanmaraş","Karabük","Karaman","Kars","Kastamonu","Kayseri","Kırıkkale","Kırklareli","Kırşehir","Kilis","Kocaeli","Konya","Kütahya","Malatya","Manisa","Mardin","Mersin","Muğla","Muş","Nevşehir","Niğde","Ordu","Osmaniye","Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","Şanlıurfa","Şırnak","Tekirdağ","Tokat","Trabzon","Tunceli","Uşak","Van","Yalova","Yozgat","Zonguldak"],nI=["Audi","BMW","Mercedes-Benz","Volkswagen","Ford","Opel","Renault","Peugeot","Citroën","Fiat","Toyota","Honda","Nissan","Hyundai","Kia","Mazda","Mitsubishi","Subaru","Suzuki","Dacia","Skoda","SEAT","Volvo","Saab","Alfa Romeo","Lancia","Jaguar","Land Rover","Mini","Smart","Porsche","Aston Martin","Bentley","Rolls-Royce","Ferrari","Lamborghini","Maserati","McLaren","Tofaş","Karsan","Otokar","BMC","Temsa","Isuzu","Iveco","MAN","Scania","Volvo Trucks","Diğer"];function wte({isOpen:t,onClose:e,targetItem:n}){const{profile:r}=qn(),{toast:s}=pn(),i=_o();p.useEffect(()=>(t?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[t]);const[o,l]=p.useState(""),[c,u]=p.useState(""),{data:h=[],isLoading:f}=tr({queryKey:["user-items",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return[];const x=Qt(dt(he,"items"),Nt("ownerId","==",r.id),Nt("status","==","aktif"));return(await zn(x)).docs.map(g=>{const b=g.data();return{...b,id:g.id,createdAt:b.createdAt.toDate(),updatedAt:b.updatedAt.toDate()}}).sort((g,b)=>b.createdAt.getTime()-g.createdAt.getTime())},enabled:t&&!!(r!=null&&r.id)}),m=Jo({mutationFn:Xee,onSuccess:()=>{s({title:"Takas Teklifi Gönderildi!",description:"Teklifiniz ilan sahibine iletildi. Profil sayfanızdan durumunu takip edebilirsiniz."}),i.invalidateQueries({queryKey:["trade-offers"]}),e(),l(""),u("")},onError:x=>{s({title:"Hata",description:x.message||"Takas teklifi gönderilemedi",variant:"destructive"})}}),v=async()=>{if(!o||!(r!=null&&r.id)||!h.find(g=>g.id===o))return;const k=c.trim(),_={fromUserId:r.id,toUserId:n.ownerId,fromItemId:o,toItemId:n.id,status:"beklemede"};k&&(_.message=k),m.mutate(_)},w=h.find(x=>x.id===o);return a.jsx(Ui,{open:t,onOpenChange:e,children:a.jsxs(li,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ci,{children:[a.jsxs(ui,{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"h-5 w-5"}),"Takas Teklifi Ver"]}),a.jsxs(h4,{children:[a.jsx("strong",{children:n.title})," için hangi eşyanızı takas etmek istiyorsunuz?"]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Oe,{className:"bg-blue-50 border-blue-200",children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("img",{src:n.images[0],alt:n.title,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:n.title}),a.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Takas edilecek eşya"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ze,{variant:"outline",children:Bi[n.category]}),a.jsx(ze,{variant:"outline",children:As[n.condition]})]})]})]})})}),a.jsxs("div",{children:[a.jsx(ys,{className:"text-base font-semibold mb-4 block",children:"Takas için sunacağınız eşya:"}),f?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(xw,{className:"h-6 w-6 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Eşyalarınız yükleniyor..."})]}):h.length===0?a.jsx(Oe,{className:"bg-yellow-50 border-yellow-200",children:a.jsxs($e,{className:"p-6 text-center",children:[a.jsx(Gr,{className:"h-12 w-12 mx-auto text-yellow-600 mb-4"}),a.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Henüz aktif ilanınız yok"}),a.jsx("p",{className:"text-yellow-700 mb-4",children:"Takas yapmak için önce bir ilan vermeniz gerekiyor."}),a.jsx(W,{onClick:()=>window.location.href="/add-item",variant:"outline",className:"border-yellow-300 text-yellow-800 hover:bg-yellow-100",children:"İlan Ver"})]})}):a.jsx(xL,{value:o,onValueChange:l,children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(x=>a.jsxs("div",{className:"relative",children:[a.jsx(wL,{value:x.id,id:x.id,className:"peer sr-only"}),a.jsx(ys,{htmlFor:x.id,className:"cursor-pointer block",children:a.jsx(Oe,{className:"transition-all duration-200 peer-checked:ring-2 peer-checked:ring-blue-500 peer-checked:border-blue-500 hover:shadow-md",children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:x.images[0],alt:x.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:x.title}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:x.description}),a.jsx("div",{className:"flex gap-1 mt-2",children:a.jsx(ze,{variant:"outline",className:"text-xs",children:As[x.condition]})})]})]})})})})]},x.id))})})]}),w&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(ys,{htmlFor:"message",className:"text-base font-semibold",children:"Mesaj (İsteğe bağlı)"}),a.jsx(zi,{id:"message",placeholder:"Takas teklifiniz hakkında bir mesaj yazabilirsiniz...",value:c,onChange:x=>u(x.target.value),className:"min-h-[100px]",maxLength:500}),a.jsxs("p",{className:"text-xs text-gray-500",children:[c.length,"/500 karakter"]})]})]}),a.jsxs(_k,{className:"flex gap-3",children:[a.jsxs(W,{variant:"outline",onClick:e,disabled:m.isPending,children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),"İptal"]}),a.jsx(W,{onClick:v,disabled:!o||m.isPending||h.length===0,className:"min-w-[120px]",children:m.isPending?a.jsxs(a.Fragment,{children:[a.jsx(xw,{className:"h-4 w-4 mr-2 animate-spin"}),"Gönderiliyor..."]}):"Teklif Gönder"})]})]})})}const bte=()=>{try{if(typeof window<"u"){const t=localStorage.getItem("currentUser");if(t){const e=JSON.parse(t);return e.id||e.uid||null}}return null}catch{return null}},_te=(t,e)=>[t,e].sort().join("_"),Zk=async(t,e,n)=>{var r,s;try{const i=_te(t,e),o=await fn(Ke(he,"conversations",i));if(o.exists()){const c=o.data();return(((r=c.unreadCount)==null?void 0:r[t])===-1||((s=c.unreadCount)==null?void 0:s[e])===-1)&&(console.log("Conversation was deleted, resetting unreadCount..."),await xn(Ke(he,"conversations",i),{unreadCount:{[t]:0,[e]:0},updatedAt:Ze.now()})),i}const l={participants:[t,e],lastMessage:"",lastMessageTime:new Date,unreadCount:{[t]:0,[e]:0},createdAt:Ze.now(),updatedAt:Ze.now()};return n&&n.trim().length>0&&(l.tradeOfferId=n),await ek(Ke(he,"conversations",i),l),i}catch(i){throw new Error(i.message||"Konuşma oluşturulamadı")}},rI=async t=>{try{const e=await ra(dt(he,"userMessages"),{...t,timestamp:Cr(),createdAt:Cr()}),n=Ke(he,"conversations",t.conversationId),r=await fn(n);if(r.exists()){const i={...r.data().unreadCount};i[t.toUserId]=(i[t.toUserId]||0)+1,await xn(n,{lastMessage:t.text||"📷 Resim gönderildi",lastMessageTime:Cr(),unreadCount:i,updatedAt:Cr()})}return e.id}catch(e){throw new Error(e.message||"Mesaj gönderilemedi")}},sI=async(t,e)=>{try{const n=Ke(he,"conversations",t),r=await fn(n);if(r.exists()){const c={...r.data().unreadCount};c[e]=0,await xn(n,{unreadCount:c,updatedAt:Ze.now()})}const s=Qt(dt(he,"userMessages"),Nt("conversationId","==",t),Nt("toUserId","==",e),Nt("isRead","==",!1)),o=(await zn(s)).docs.map(l=>xn(Ke(he,"userMessages",l.id),{isRead:!0}));await Promise.all(o)}catch(n){throw new Error(n.message||"Mesajlar okundu olarak işaretlenemedi")}},kte=async(t,e)=>{try{const n=Ke(he,"conversations",t),r=await fn(n);if(r.exists()){const c={...r.data().unreadCount};c[e]=-1,await xn(n,{unreadCount:c,updatedAt:Ze.now()})}const s=Qt(dt(he,"userMessages"),Nt("conversationId","==",t)),o=(await zn(s)).docs.map(l=>{const u=l.data().deletedBy||[];return u.includes(e)?Promise.resolve():(u.push(e),xn(Ke(he,"userMessages",l.id),{deletedBy:u}))});await Promise.all(o)}catch(n){throw new Error(n.message||"Konuşma silinemedi")}},Ete=(t,e,n)=>{const r=Qt(dt(he,"userMessages"),Nt("conversationId","==",t));return Au(r,s=>{const i=[];s.forEach(o=>{const l=o.data(),c=n||bte();c&&l.deletedBy&&Array.isArray(l.deletedBy)&&l.deletedBy.includes(c)||i.push({...l,id:o.id,createdAt:l.createdAt?l.createdAt.toDate():new Date,timestamp:l.timestamp?l.timestamp.toDate():new Date})}),i.sort((o,l)=>o.createdAt.getTime()-l.createdAt.getTime()),e(i)},s=>{console.error("subscribeToConversationMessages hatası:",s)})},Tte=(t,e)=>{const n=Qt(dt(he,"conversations"),Nt("participants","array-contains",t));return Au(n,async r=>{var o;console.log("Firebase onSnapshot tetiklendi, doc sayısı:",r.docs.length);const s=[];try{for(const l of r.docs){const c=l.data();if(console.log("Processing conversation:",l.id,c),((o=c.unreadCount)==null?void 0:o[t])===-1){console.log("Conversation deleted by user, skipping:",l.id);continue}const h=c.participants.find(f=>f!==t);if(console.log("Other user ID:",h),!h){console.log("Other user ID bulunamadı, skipping conversation:",l.id);continue}try{const m=(await fn(Ke(he,"users",h))).data();console.log("Other user data:",m),s.push({...c,id:l.id,createdAt:c.createdAt.toDate(),updatedAt:c.updatedAt.toDate(),lastMessageTime:c.lastMessageTime.toDate(),otherUserName:m?`${m.firstName} ${m.lastName}`:"Kullanıcı",otherUserId:h}),console.log("Conversation başarıyla eklendi:",l.id)}catch(f){console.error("Other user data çekerken hata:",f)}}}catch(l){console.error("onSnapshot içinde hata:",l)}const i=s.sort((l,c)=>c.lastMessageTime.getTime()-l.lastMessageTime.getTime());console.log("Firebase conversation callback çağrılıyor, conversation sayısı:",i.length),e(i)},r=>{console.error("Firebase subscription hatası:",r)})};function Nte(){const{id:t}=Zh(),{profile:e}=qn(),{t:n}=Kn(),[r,s]=p.useState(0),[i,o]=p.useState(!1),[,l]=Rs(),{toast:c}=pn(),{data:u,isLoading:h,error:f}=tr({queryKey:["item",t],queryFn:async()=>{if(!t)return null;const x=await fn(Ke(he,"items",t));if(!x.exists())return null;const k=x.data();return{...k,id:x.id,createdAt:k.createdAt.toDate(),updatedAt:k.updatedAt.toDate()}}});if(h)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"h-96 bg-gray-200 rounded"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded"}),a.jsx("div",{className:"h-20 bg-gray-200 rounded"}),a.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})]})});if(f||!u)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.items.itemNotFound}),a.jsx("p",{className:"text-gray-600 mb-6",children:n.items.itemNotFoundDesc}),a.jsx(tt,{href:"/items",children:a.jsxs(W,{children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),n.items.backToItems]})})]})});const m=x=>new Date(x).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}),v=(e==null?void 0:e.id)===u.ownerId,w=async()=>{if(!(!(e!=null&&e.id)||!u))try{const x=await Zk(e.id,u.ownerId);l(`/messages?conversation=${x}`)}catch(x){c({title:"Hata",description:x.message||"Sohbet başlatılamadı",variant:"destructive"})}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx(tt,{href:"/items",children:a.jsxs(W,{variant:"ghost",size:"sm",children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),n.items.backToItems]})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Oe,{children:a.jsx($e,{className:"p-0",children:a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:u.images[r],alt:u.title,className:"w-full h-96 object-cover rounded-lg","data-testid":"img-item-main"}),a.jsx(ze,{className:"absolute top-4 right-4",variant:"secondary","data-testid":"badge-condition",children:n.conditions[u.condition]||u.condition})]})})}),u.images.length>1&&a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:u.images.map((x,k)=>a.jsx("button",{onClick:()=>s(k),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ${r===k?"border-blue-500":"border-gray-200"}`,"data-testid":`thumbnail-${k}`,children:a.jsx("img",{src:x,alt:`${u.title} ${k+1}`,className:"w-full h-full object-cover"})},k))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2","data-testid":"title-item",children:n.common.language==="English"?u.titleEn||u.title:n.common.language==="العربية"&&u.titleAr||u.title}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wu,{className:"h-4 w-4"}),a.jsx("span",{"data-testid":"date-item",children:m(u.createdAt)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bu,{className:"h-4 w-4"}),a.jsx("span",{"data-testid":"location-item",children:u.location})]}),u.rating&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"h-4 w-4 text-yellow-400 fill-current"}),a.jsx("span",{"data-testid":"rating-item",children:u.rating.toFixed(1)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ze,{variant:"outline","data-testid":"category-item",children:n.categories[u.category]||u.category}),a.jsx(ze,{variant:u.status==="aktif"?"default":"secondary","data-testid":"status-item",children:u.status==="aktif"?n.items.statusActive:u.status==="takas_edildi"?n.items.statusTraded:u.status})]}),a.jsx($i,{}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.items.itemDescription}),a.jsx("p",{className:"text-gray-700 leading-relaxed","data-testid":"description-item",children:n.common.language==="English"?u.descriptionEn||u.description:n.common.language==="العربية"&&u.descriptionAr||u.description})]}),a.jsx($i,{}),a.jsx(Oe,{children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:a.jsx(pr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx(tt,{href:`/user/${u.ownerId}`,className:"font-medium text-gray-900 hover:text-primary hover:underline","data-testid":"owner-name",children:fu(u.ownerName)}),a.jsx("p",{className:"text-sm text-gray-500",children:n.items.itemOwner})]})]}),!v&&e&&a.jsxs(W,{variant:"outline",size:"sm",onClick:w,"data-testid":"button-send-message",children:[a.jsx(tn,{className:"h-4 w-4 mr-2"}),n.items.sendMessage]})]})})}),!v&&e&&u.status==="aktif"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(W,{className:"w-full",size:"lg",onClick:()=>o(!0),"data-testid":"button-trade-offer",children:n.items.tradeOffer}),a.jsx("p",{className:"text-sm text-gray-500 text-center",children:n.items.tradeOfferHint})]}),!e&&a.jsx(Oe,{className:"bg-blue-50 border-blue-200",children:a.jsxs($e,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-blue-800 mb-3",children:"Takas teklifi vermek için giriş yapmanız gerekiyor"}),a.jsx(W,{asChild:!0,children:a.jsx(tt,{href:"/profile",children:"Giriş Yap"})})]})}),v&&a.jsx(Oe,{className:"bg-gray-50 border-gray-200",children:a.jsx($e,{className:"p-4 text-center",children:a.jsx("p",{className:"text-gray-700",children:"Bu sizin ilanınız"})})})]})]}),u&&a.jsx(wte,{isOpen:i,onClose:()=>o(!1),targetItem:u})]})}const Ste=async t=>{try{const e=new Date;e.setDate(e.getDate()+30),await xn(Ke(he,"items",t),{status:"pending",expireAt:e,updatedAt:Cr()})}catch(e){throw new Error(e.message||"İlan yeniden yayınlanamadı")}},Ite=async t=>{try{await lu(Ke(he,"items",t))}catch(e){throw new Error(e.message||"İlan silinemedi")}};var Xk="Tabs",[Cte,Ene]=wn(Xk,[Ru]),EL=Ru(),[jte,Jk]=Cte(Xk),TL=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=Ol(l),[f,m]=Qi({prop:r,onChange:s,defaultProp:i});return a.jsx(jte,{scope:n,baseId:Qr(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:a.jsx(Ee.div,{dir:h,"data-orientation":o,...u,ref:e})})});TL.displayName=Xk;var NL="TabsList",SL=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Jk(NL,n),o=EL(n);return a.jsx(kk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Ee.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});SL.displayName=NL;var IL="TabsTrigger",CL=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Jk(IL,n),l=EL(n),c=RL(o.baseId,r),u=PL(o.baseId,r),h=r===o.value;return a.jsx(Ek,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Ee.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:se(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});CL.displayName=IL;var jL="TabsContent",AL=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=Jk(jL,n),c=RL(l.baseId,r),u=PL(l.baseId,r),h=r===l.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(jn,{present:s||h,children:({present:m})=>a.jsx(Ee.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});AL.displayName=jL;function RL(t,e){return`${t}-trigger-${e}`}function PL(t,e){return`${t}-content-${e}`}var Ate=TL,DL=SL,OL=CL,ML=AL;const LL=Ate,e1=p.forwardRef(({className:t,...e},n)=>a.jsx(DL,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));e1.displayName=DL.displayName;const Ci=p.forwardRef(({className:t,...e},n)=>a.jsx(OL,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ci.displayName=OL.displayName;const Us=p.forwardRef(({className:t,...e},n)=>a.jsx(ML,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Us.displayName=ML.displayName;function Rte({onAccept:t,onReject:e,onCancel:n}){const{profile:r}=qn(),[s,i]=p.useState("received"),[,o]=Rs(),{toast:l}=pn(),c=b=>{o(b)},u=Jo({mutationFn:tte,onSuccess:()=>{Pd.invalidateQueries({queryKey:["trade-offers","received",r==null?void 0:r.id]}),Pd.invalidateQueries({queryKey:["trade-offers","sent",r==null?void 0:r.id]}),Pd.invalidateQueries({queryKey:["trade-offers"]}),l({title:"Başarılı",description:"Takas teklifi kalıcı olarak silindi"})},onError:b=>{l({title:"Hata",description:b.message,variant:"destructive"})}}),{data:h=[],isLoading:f}=tr({queryKey:["trade-offers","received",r==null?void 0:r.id],queryFn:()=>ete(r.id),enabled:!!(r!=null&&r.id)}),{data:m=[],isLoading:v}=tr({queryKey:["trade-offers","sent",r==null?void 0:r.id],queryFn:()=>Jee(r.id),enabled:!!(r!=null&&r.id)}),w=b=>{switch(b){case"beklemede":return a.jsx(Tp,{className:"h-4 w-4"});case"kabul_edildi":return a.jsx(Ep,{className:"h-4 w-4"});case"reddedildi":case"iptal_edildi":return a.jsx(Od,{className:"h-4 w-4"});default:return a.jsx(Tp,{className:"h-4 w-4"})}},x=b=>{switch(b){case"beklemede":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"kabul_edildi":return"bg-green-100 text-green-800 border-green-200";case"reddedildi":case"iptal_edildi":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=b=>{switch(b){case"beklemede":return"Beklemede";case"kabul_edildi":return"Kabul Edildi";case"reddedildi":return"Reddedildi";case"iptal_edildi":return"İptal Edildi";default:return b}},_=b=>new Date(b).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=(b,C)=>a.jsxs(Oe,{className:"mb-4",children:[a.jsxs(Ut,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(zt,{className:"text-lg flex items-center gap-2",children:[a.jsx(Gr,{className:"h-5 w-5"}),"Takas Teklifi"]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ze,{className:`${x(b.status)} flex items-center gap-1`,children:[w(b.status),k(b.status)]})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-gray-500",children:_(b.createdAt)}),a.jsxs("button",{onClick:()=>c(`/profile/${C?b.fromUserId:b.toUserId}`),className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1","data-testid":`profile-link-${b.id}`,children:[a.jsx(pr,{className:"h-3 w-3"}),fu((C?b.fromUserName:b.toUserName)||"Kullanıcı")]})]})]}),a.jsxs($e,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:C?"Teklif Edilen":"Sizin Eşyanız"}),b.fromItem&&a.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>c(`/item/${b.fromItemId}`),"data-testid":`from-item-link-${b.id}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:b.fromItem.images[0],alt:b.fromItem.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:b.fromItem.title}),a.jsx(ro,{className:"h-3 w-3 text-gray-400"})]}),a.jsx("div",{className:"flex gap-1 mt-1",children:a.jsx(ze,{variant:"outline",className:"text-xs",children:As[b.fromItem.condition]})})]})]})})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(el,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:C?"Sizin Eşyanız":"İstenen Eşya"}),b.toItem&&a.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>c(`/item/${b.toItemId}`),"data-testid":`to-item-link-${b.id}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:b.toItem.images[0],alt:b.toItem.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:b.toItem.title}),a.jsx(ro,{className:"h-3 w-3 text-gray-400"})]}),a.jsx("div",{className:"flex gap-1 mt-1",children:a.jsx(ze,{variant:"outline",className:"text-xs",children:As[b.toItem.condition]})})]})]})})]})]}),b.message&&a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"my-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Mesaj:"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:b.message})]})]}),b.status==="beklemede"&&a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"my-4"}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[C&&t&&e&&a.jsxs(a.Fragment,{children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>e(b.id),className:"text-red-600 border-red-200 hover:bg-red-50",children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),"Reddet"]}),a.jsxs(W,{size:"sm",onClick:()=>t(b.id),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Ep,{className:"h-4 w-4 mr-2"}),"Kabul Et"]})]}),!C&&n&&a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(b.id),className:"text-gray-600 border-gray-200 hover:bg-gray-50",children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),"İptal Et"]})]})]}),(b.status==="reddedildi"||b.status==="iptal_edildi")&&a.jsxs(a.Fragment,{children:[a.jsx($i,{className:"my-4"}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>u.mutate(b.id),disabled:u.isPending,className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":`delete-offer-${b.id}`,children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),u.isPending?"Siliniyor...":"Sil"]})})]})]})]},b.id);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Takas Teklifleri"}),a.jsx("p",{className:"text-gray-600",children:"Gelen ve gönderdiğiniz takas tekliflerini yönetin"})]}),a.jsxs(LL,{value:s,onValueChange:i,children:[a.jsxs(e1,{className:"grid w-full grid-cols-2",children:[a.jsxs(Ci,{value:"received",className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"h-4 w-4"}),"Gelen Teklifler",h.length>0&&a.jsx(ze,{variant:"secondary",className:"ml-1",children:h.length})]}),a.jsxs(Ci,{value:"sent",className:"flex items-center gap-2",children:[a.jsx(el,{className:"h-4 w-4"}),"Gönderilen Teklifler",m.length>0&&a.jsx(ze,{variant:"secondary",className:"ml-1",children:m.length})]})]}),a.jsx(Us,{value:"received",className:"space-y-4",children:f?a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((b,C)=>a.jsx(Oe,{className:"animate-pulse",children:a.jsx($e,{className:"p-6",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})})},C))}):h.length===0?a.jsx(Oe,{children:a.jsxs($e,{className:"p-8 text-center",children:[a.jsx(Gr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Henüz gelen teklif yok"}),a.jsx("p",{className:"text-gray-600",children:"İlanlarınız için takas teklifleri buraya gelecek"})]})}):h.map(b=>g(b,!0))}),a.jsx(Us,{value:"sent",className:"space-y-4",children:v?a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((b,C)=>a.jsx(Oe,{className:"animate-pulse",children:a.jsx($e,{className:"p-6",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})})},C))}):m.length===0?a.jsx(Oe,{children:a.jsxs($e,{className:"p-8 text-center",children:[a.jsx(el,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Henüz teklif göndermediniz"}),a.jsx("p",{className:"text-gray-600",children:"Beğendiğiniz eşyalar için takas teklifi gönderin"})]})}):m.map(b=>g(b,!1))})]})]})}function Pte({item:t,onRepublish:e,onDelete:n,onViewDetails:r}){const[s,i]=p.useState(!1),[o,l]=p.useState(!1),c=f=>new Date(f).toLocaleDateString("tr-TR"),u=async()=>{i(!0);try{await e(t.id)}finally{i(!1)}},h=async()=>{if(window.confirm("Bu ilanı kalıcı olarak silmek istediğinizden emin misiniz?")){l(!0);try{await n(t.id)}finally{l(!1)}}};return a.jsxs(Oe,{className:"group hover:shadow-lg transition-shadow duration-300 relative","data-testid":`card-expired-item-${t.id}`,children:[a.jsx("div",{className:"absolute top-2 left-2 z-10",children:a.jsx(ze,{variant:"outline",className:"bg-orange-100 text-orange-700 border-orange-300",children:"Süresi Dolmuş"})}),a.jsxs("div",{className:"relative overflow-hidden opacity-75",children:[t.images.length>0&&a.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-48 object-cover","data-testid":`img-expired-item-${t.id}`}),a.jsx(ze,{className:"absolute top-2 right-2",variant:"secondary","data-testid":`badge-condition-${t.id}`,children:As[t.condition]})]}),a.jsxs($e,{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2","data-testid":`title-expired-item-${t.id}`,children:t.title})}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2","data-testid":`description-expired-item-${t.id}`,children:t.description}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(bu,{className:"h-4 w-4"}),a.jsx("span",{"data-testid":`location-expired-item-${t.id}`,children:t.location})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wu,{className:"h-4 w-4"}),a.jsx("span",{"data-testid":`expire-date-${t.id}`,children:t.expireAt?c(new Date(t.expireAt)):c(t.createdAt)})]})]}),a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx(ze,{variant:"outline","data-testid":`category-expired-item-${t.id}`,children:Bi[t.category]||t.category})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>r(t),"data-testid":`button-view-${t.id}`,children:a.jsx(ro,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",onClick:u,disabled:s,className:"bg-green-600 hover:bg-green-700","data-testid":`button-republish-${t.id}`,children:s?a.jsx(jv,{className:"h-4 w-4 animate-spin"}):a.jsx(jv,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:h,disabled:o,"data-testid":`button-delete-${t.id}`,children:o?a.jsx(jv,{className:"h-4 w-4 animate-spin"}):a.jsx(bs,{className:"h-4 w-4"})})]})]})]})}function S0({onSelectConversation:t,selectedConversationId:e}){const{profile:n}=qn(),{toast:r}=pn(),[s]=Rs(),[i,o]=p.useState([]),[l,c]=p.useState(""),[u,h]=p.useState(!0),[f,m]=p.useState(null);p.useEffect(()=>{if(!(n!=null&&n.id))return;const k=Tte(n.id,_=>{console.log("Conversation subscription çalıştı, gelen data:",_.length,_),o(_),h(!1)});return()=>k()},[n==null?void 0:n.id]),p.useEffect(()=>{const _=new URLSearchParams(s.split("?")[1]||"").get("conversation");if(_&&i.length>0){if(console.log("URL'den conversation aranıyor:",_,"Mevcut conversations:",i.length,"SelectedId:",e),console.log("Conversations list:",i.map(g=>({id:g.id,otherUserId:g.otherUserId,otherUserName:g.otherUserName}))),!e||e!==_){const g=i.find(b=>b.id===_);g?(console.log("Conversation bulundu ve seçiliyor (mobil/masaüstü):",g),t(g)):(console.log("Conversation bulunamadı. Aranan ID:",_),console.log("Mevcut conversation ID'leri:",i.map(b=>b.id)))}}else _&&i.length===0&&console.log("Conversations henüz yüklenmemiş, conversation ID var:",_)},[s,i,e,t]);const v=i.filter(k=>k.otherUserName.toLowerCase().includes(l.toLowerCase())),w=async(k,_,g)=>{if(g.preventDefault(),g.stopPropagation(),!!(n!=null&&n.id)){m(k);try{await kte(k,n.id),r({title:"Konuşma Silindi",description:`${_} ile konuşmanız silindi.`})}catch(b){r({title:"Hata",description:b.message||"Konuşma silinemedi",variant:"destructive"})}finally{m(null)}}},x=k=>{const _=new Date,g=new Date(k),b=(_.getTime()-g.getTime())/(1e3*60*60);if(b<1){const C=Math.floor(b*60);return C<1?"şimdi":`${C}dk`}else return b<24?`${Math.floor(b)}sa`:b<168?`${Math.floor(b/24)}g`:g.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})};return n?a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ut,{className:"pb-4",children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-5 w-5"}),"Mesajlarım"]})}),a.jsx("div",{className:"px-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(ch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(xt,{placeholder:"Konuşma ara...",value:l,onChange:k=>c(k.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"space-y-2 px-6 pb-6",children:u?a.jsx("div",{className:"space-y-3",children:[...Array(3)].map((k,_)=>a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})},_))}):v.length===0?a.jsx("div",{className:"text-center py-8",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ch,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Konuşma bulunamadı"}),a.jsxs("p",{className:"text-gray-600",children:['"',l,'" için konuşma bulunamadı']})]}):a.jsxs(a.Fragment,{children:[a.jsx(tn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Henüz konuşma yok"}),a.jsx("p",{className:"text-gray-600",children:"Takas teklifleri üzerinden diğer kullanıcılarla mesajlaşmaya başlayın"})]})}):v.map(k=>{const _=k.unreadCount[n.id]||0,g=k.id===e;return a.jsx(Oe,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${g?"ring-2 ring-primary border-primary":""}`,onClick:()=>t(k),children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:a.jsx(pr,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-gray-900 truncate",children:fu(k.otherUserName)}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[_>0&&a.jsx(ze,{variant:"destructive",className:"text-xs min-w-[20px] h-5 flex items-center justify-center",children:_>99?"99+":_}),a.jsx("span",{className:"text-xs text-gray-500",children:x(k.lastMessageTime)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm truncate ${_>0?"font-medium text-gray-900":"text-gray-600"}`,children:k.lastMessage||"Henüz mesaj yok"}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:b=>w(k.id,k.otherUserName,b),disabled:f===k.id,title:"Konuşmayı Sil",children:a.jsx(bs,{className:"h-4 w-4"})}),a.jsx(el,{className:"h-4 w-4 text-gray-400"})]})]}),k.tradeOfferId&&a.jsx("div",{className:"mt-2",children:a.jsxs(ze,{variant:"outline",className:"text-xs",children:[a.jsx(Tp,{className:"h-3 w-3 mr-1"}),"Takas Teklifi"]})})]})]})})},k.id)})})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-500",children:"Giriş yapmalısınız"})})}function I0({otherUserId:t,otherUserName:e,otherUserAvatar:n,conversationId:r,tradeOfferId:s,onBack:i}){const{profile:o}=qn(),{toast:l}=pn(),[c,u]=p.useState([]),[h,f]=p.useState(""),[m,v]=p.useState(!1),[w,x]=p.useState(r||null),[k,_]=p.useState(!1),g=p.useRef(null),b=(E=!0)=>{var S;(S=g.current)==null||S.scrollIntoView({behavior:E?"smooth":"instant",block:"end"})};p.useEffect(()=>{b()},[c]),p.useEffect(()=>{(async()=>{if(!(!(o!=null&&o.id)||!t))try{let S=r;S||(S=await Zk(o.id,t,s)),x(S)}catch(S){l({title:"Hata",description:S.message||"Konuşma başlatılamadı",variant:"destructive"})}})()},[o==null?void 0:o.id,t,r,s]),p.useEffect(()=>{if(!w)return;const E=Ete(w,S=>{u(S),o!=null&&o.id&&sI(w,o.id).catch(console.error)},o==null?void 0:o.id);return o!=null&&o.id&&sI(w,o.id).catch(console.error),()=>E()},[w,o==null?void 0:o.id]);const C=async()=>{if(!(!h.trim()||!(o!=null&&o.id)||!w||m)){v(!0);try{const E={fromUserId:o.id,toUserId:t,text:h.trim(),messageType:"text",conversationId:w,isRead:!1,timestamp:new Date,deletedBy:[]};await rI(E),f(""),b(!1)}catch(E){l({title:"Hata",description:E.message||"Mesaj gönderilemedi",variant:"destructive"})}finally{v(!1)}}},D=async E=>{if(!(!(o!=null&&o.id)||!w||m)){v(!0);try{const S={fromUserId:o.id,toUserId:t,imageUrl:E,messageType:"image",conversationId:w,isRead:!1,timestamp:new Date,deletedBy:[]};await rI(S),_(!1),b(!1),l({title:"Başarılı",description:"Resim gönderildi"})}catch(S){l({title:"Hata",description:S.message||"Resim gönderilemedi",variant:"destructive"})}finally{v(!1)}}},O=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),C())},I=E=>new Date(E).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),N=E=>{const S=new Date,j=new Date(E);if(j.toDateString()===S.toDateString())return"Bugün";const R=new Date(S);return R.setDate(R.getDate()-1),j.toDateString()===R.toDateString()?"Dün":j.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})};return o?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx(Ut,{className:"pb-3 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[i&&a.jsx(W,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:a.jsx(Js,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center overflow-hidden",children:n?a.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover"}):a.jsx(pr,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx(zt,{className:"text-lg",children:e}),a.jsxs("p",{className:"text-sm text-gray-500",children:[a.jsx(tn,{className:"h-4 w-4 inline mr-1"}),"Mesajlaşma"]})]})]})]})}),a.jsx($e,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:c.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(tn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Henüz mesaj yok"}),a.jsx("p",{className:"text-gray-600",children:"İlk mesajı gönderin ve sohbeti başlatın!"})]}):a.jsxs(a.Fragment,{children:[c.map((E,S)=>{const j=E.fromUserId===o.id,R=S===0||N(c[S-1].createdAt)!==N(E.createdAt);return a.jsxs("div",{children:[R&&a.jsx("div",{className:"text-center my-4",children:a.jsx("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs",children:N(E.createdAt)})}),a.jsx("div",{className:`flex ${j?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${j?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-900"}`,children:[E.messageType==="text"?a.jsx("p",{className:"text-sm",children:E.text}):a.jsx("div",{className:"space-y-2",children:a.jsx("img",{src:E.imageUrl,alt:"Paylaşılan resim",className:"max-w-full rounded-lg"})}),a.jsx("p",{className:`text-xs mt-1 ${j?"text-primary-foreground/70":"text-gray-500"}`,children:I(E.createdAt)})]})})]},E.id)}),a.jsx("div",{ref:g})]})}),a.jsx($i,{}),a.jsxs("div",{className:"p-4 space-y-3",children:[k&&a.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:a.jsx(Kk,{onImageUpload:D,onCancel:()=>_(!1)})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>_(!k),disabled:m,children:a.jsx(Z5,{className:"h-4 w-4"})}),a.jsx(xt,{value:h,onChange:E=>f(E.target.value),onKeyPress:O,placeholder:"Mesajınızı yazın...",disabled:m,className:"flex-1"}),a.jsx(W,{onClick:C,disabled:!h.trim()||m,size:"sm",children:m?a.jsx(xw,{className:"h-4 w-4 animate-spin"}):a.jsx(uh,{className:"h-4 w-4"})})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-500",children:"Giriş yapmalısınız"})})}function Dte(){var He;const{user:t,profile:e,loading:n}=qn(),{t:r}=Kn(),[s,i]=p.useState("pending-items"),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(""),[m,v]=p.useState(""),[w,x]=p.useState(""),[k,_]=p.useState(!1),[g,b]=p.useState(null),[C,D]=p.useState(new Set),[O,I]=p.useState(!1),{toast:N}=pn(),E=_o(),[,S]=Rs(),j=Jo({mutationFn:async $=>{await nte($)},onSuccess:()=>{N({title:"Takas Kabul Edildi!",description:"Takas tamamlandı. İlanlarınız 'takas edildi' olarak işaretlendi."}),E.invalidateQueries({queryKey:["trade-offers"]}),E.invalidateQueries({queryKey:["user-items"]})},onError:$=>{N({title:"Hata",description:$.message||"Takas kabul edilemedi",variant:"destructive"})}}).mutateAsync,R=Jo({mutationFn:async $=>{await T0($,"reddedildi")},onSuccess:()=>{N({title:"Teklif Reddedildi",description:"Takas teklifi reddedildi."}),E.invalidateQueries({queryKey:["trade-offers"]})},onError:$=>{N({title:"Hata",description:$.message||"Teklif reddedilemedi",variant:"destructive"})}}).mutateAsync,A=Jo({mutationFn:async $=>{await T0($,"iptal_edildi")},onSuccess:()=>{N({title:"Teklif İptal Edildi",description:"Takas teklifiniz iptal edildi."}),E.invalidateQueries({queryKey:["trade-offers"]})},onError:$=>{N({title:"Hata",description:$.message||"Teklif iptal edilemedi",variant:"destructive"})}}).mutateAsync,{data:B=[],isLoading:X}=tr({queryKey:["user-items",t==null?void 0:t.uid],queryFn:async()=>{if(!(t!=null&&t.uid))return[];try{const $=Qt(dt(he,"items"),Nt("ownerId","==",t.uid)),Re=(await zn($)).docs.map(Ue=>{var ln,An,Wn;const Ye=Ue.data();return{...Ye,id:Ue.id,createdAt:(ln=Ye.createdAt)!=null&&ln.toDate?Ye.createdAt.toDate():new Date(Ye.createdAt),updatedAt:(An=Ye.updatedAt)!=null&&An.toDate?Ye.updatedAt.toDate():new Date(Ye.updatedAt),expireAt:(Wn=Ye.expireAt)!=null&&Wn.toDate?Ye.expireAt.toDate():Ye.expireAt?new Date(Ye.expireAt):null}});return console.log("Fetched user items:",Re.length,"for user:",t==null?void 0:t.uid),console.log("Items:",Re.map(Ue=>({id:Ue.id,status:Ue.status,title:Ue.title}))),Re.sort((Ue,Ye)=>Ye.createdAt.getTime()-Ue.createdAt.getTime())}catch($){throw console.error("Error fetching user items:",$),$}},enabled:!!(t!=null&&t.uid)}),J=$=>{console.log("View item details:",$)},ae=async $=>{try{await Ste($),await E.invalidateQueries({queryKey:["user-items"]}),N({title:"İlan Yeniden Yayına Alındı",description:"İlanınız admin onayından sonra tekrar yayınlanacak"})}catch(de){N({title:"Hata",description:de.message||"İlan yeniden yayına alınamadı",variant:"destructive"})}},z=async $=>{try{await Ite($),await E.invalidateQueries({queryKey:["user-items"]}),N({title:"İlan Silindi",description:"İlanınız kalıcı olarak silindi"})}catch(de){N({title:"Hata",description:de.message||"İlan silinemedi",variant:"destructive"})}},H=async()=>{if(C.size===0){N({title:"Uyarı",description:"Lütfen silinecek ilanları seçin",variant:"destructive"});return}I(!0);try{const $=Array.from(C).map(de=>lu(Ke(he,"items",de)));await Promise.all($),N({title:"Başarılı",description:`${C.size} ilan başarıyla silindi`}),D(new Set),E.invalidateQueries({queryKey:["user-items"]})}catch($){N({title:"Hata",description:$.message||"İlanlar silinirken hata oluştu",variant:"destructive"})}finally{I(!1)}},ne=($,de)=>{D(Re=>{const Ue=new Set(Re);return de?Ue.add($):Ue.delete($),Ue})},xe=($,de)=>{D(Re=>{const Ue=new Set(Re);return $.forEach(Ye=>{de?Ue.add(Ye.id):Ue.delete(Ye.id)}),Ue})};if(n)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center","data-testid":"loading-profile",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Profil yükleniyor..."})]})});if(!t)return a.jsx(Ib,{to:"/"});const be=B.filter($=>$.status==="pending"),Ie=B.filter($=>$.status==="aktif"),Je=B.filter($=>$.status==="reddedildi"),yt=B.filter($=>{if($.status==="süresi_biten")return!0;if($.expireAt)return new Date>new Date($.expireAt);const de=new Date;return de.setDate(de.getDate()-30),$.createdAt<de}),ht=B.filter($=>$.status==="takas_edildi"),me=async()=>{if(!h){N({title:"Hata",description:"Mevcut şifrenizi girin",variant:"destructive"});return}if(!m||m!==w){N({title:"Hata",description:"Yeni şifreler eşleşmiyor",variant:"destructive"});return}if(m.length<6){N({title:"Hata",description:"Yeni şifre en az 6 karakter olmalı",variant:"destructive"});return}try{if(t&&t.email){const $=Rl.credential(t.email,h);await WB(t,$),await e8(t,m),N({title:"Başarılı",description:"Şifreniz güncellendi"}),l(!1),f(""),v(""),x("")}}catch($){let de="Şifre güncellenemedi";$.code==="auth/wrong-password"||$.code==="auth/invalid-credential"?de="Mevcut şifreniz yanlış":$.code==="auth/weak-password"&&(de="Yeni şifre çok zayıf"),N({title:"Hata",description:de,variant:"destructive"})}},st=async $=>{var Re;const de=(Re=$.target.files)==null?void 0:Re[0];if(!(!de||!t)){_(!0);try{const Ue=lk(uk,`avatars/${t.uid}`);await ak(Ue,de);const Ye=await ok(Ue),ln=Ke(he,"users",t.uid);await xn(ln,{avatar:Ye}),N({title:"Başarılı",description:"Profil fotoğrafınız güncellendi"}),u(!1),window.location.reload()}catch(Ue){N({title:"Hata",description:Ue.message||"Fotoğraf yüklenemedi",variant:"destructive"})}finally{_(!1)}}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center overflow-hidden",children:e!=null&&e.avatar?a.jsx("img",{src:e.avatar,alt:"Profile",className:"w-full h-full object-cover","data-testid":"img-user-avatar"}):a.jsx(pr,{className:"h-12 w-12 text-primary","data-testid":"avatar-user"})}),a.jsxs(Ui,{open:c,onOpenChange:u,children:[a.jsx(a0,{asChild:!0,children:a.jsxs(W,{variant:"outline",size:"sm","data-testid":"button-change-photo",children:[a.jsx(ef,{className:"h-4 w-4 mr-2"}),r.profile.changePhoto]})}),a.jsxs(li,{children:[a.jsx(ci,{children:a.jsx(ui,{children:r.profile.changePhoto})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ys,{htmlFor:"photo",children:"Yeni Fotoğraf Seçin"}),a.jsx(xt,{id:"photo",type:"file",accept:"image/*",onChange:st,"data-testid":"input-photo-upload"})]}),k&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),a.jsx("span",{children:"Yükleniyor..."})]})]})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),a.jsxs("p",{className:"text-gray-600 mb-2","data-testid":"text-user-username",children:["@",e==null?void 0:e.username]}),a.jsx("p",{className:"text-gray-600 mb-4","data-testid":"text-user-email",children:t.email}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bu,{className:"h-4 w-4"}),a.jsx("span",{"data-testid":"text-user-location",children:"Türkiye"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Gr,{className:"h-4 w-4"}),a.jsxs("span",{"data-testid":"text-user-items-count",children:[Ie.length," ",r.profile.activeItem]})]}),!t.emailVerified&&a.jsx(ze,{variant:"outline",className:"text-yellow-600 border-yellow-300",children:"E-posta doğrulanmamış"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ui,{open:o,onOpenChange:l,children:[a.jsx(a0,{asChild:!0,children:a.jsxs(W,{variant:"outline","data-testid":"button-change-password",children:[a.jsx(J5,{className:"h-4 w-4 mr-2"}),r.profile.changePassword]})}),a.jsxs(li,{children:[a.jsx(ci,{children:a.jsx(ui,{children:r.profile.changePassword})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ys,{htmlFor:"currentPassword",children:"Mevcut Şifre"}),a.jsx(xt,{id:"currentPassword",type:"password",value:h,onChange:$=>f($.target.value),placeholder:"Mevcut şifrenizi girin","data-testid":"input-current-password"})]}),a.jsxs("div",{children:[a.jsx(ys,{htmlFor:"newPassword",children:"Yeni Şifre"}),a.jsx(xt,{id:"newPassword",type:"password",value:m,onChange:$=>v($.target.value),placeholder:"Yeni şifrenizi girin","data-testid":"input-new-password"})]}),a.jsxs("div",{children:[a.jsx(ys,{htmlFor:"confirmPassword",children:"Yeni Şifre Tekrar"}),a.jsx(xt,{id:"confirmPassword",type:"password",value:w,onChange:$=>x($.target.value),placeholder:"Yeni şifrenizi tekrar girin","data-testid":"input-confirm-password"})]}),a.jsx(W,{onClick:me,className:"w-full","data-testid":"button-save-password",children:"Şifreyi Güncelle"})]})]})]}),a.jsx(W,{asChild:!0,"data-testid":"button-add-item",children:a.jsxs(tt,{href:"/add-item",children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),r.nav.addItem]})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(Oe,{children:a.jsx($e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"stat-active-items",children:Ie.length}),a.jsx("p",{className:"text-gray-600",children:r.profile.activeItem})]}),a.jsx(Gr,{className:"h-8 w-8 text-primary"})]})})}),a.jsx(Oe,{children:a.jsx($e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"stat-completed-trades",children:ht.length}),a.jsx("p",{className:"text-gray-600",children:r.profile.completedTrade})]}),a.jsx(Hr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(Oe,{children:a.jsx($e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"stat-rating",children:((He=e==null?void 0:e.averageRating)==null?void 0:He.toFixed(1))||"0.0"}),a.jsxs("p",{className:"text-gray-600",children:[r.profile.averageRating," (",(e==null?void 0:e.totalRatings)||0," ",r.profile.evaluation,")"]})]}),a.jsx(Hr,{className:"h-8 w-8 text-yellow-500 fill-current"})]})})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px grid grid-cols-3 lg:grid-cols-6 gap-4 lg:gap-8",children:[a.jsxs("button",{onClick:()=>i("pending-items"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm text-center ${s==="pending-items"?"border-orange-500 text-orange-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,"data-testid":"tab-pending-items",children:[r.profile.pendingItems," (",be.length,")"]}),a.jsxs("button",{onClick:()=>i("active-items"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm text-center ${s==="active-items"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,"data-testid":"tab-active-items",children:[r.profile.activeItems," (",Ie.length,")"]}),a.jsxs("button",{onClick:()=>i("trade-offers"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm text-center ${s==="trade-offers"?"border-green-500 text-green-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,"data-testid":"tab-trade-offers",children:[a.jsx(vw,{className:"h-4 w-4 inline mr-1"}),r.profile.tradeOffers]}),a.jsxs("button",{onClick:()=>i("messages"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm text-center ${s==="messages"?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,"data-testid":"tab-messages",children:[a.jsx(tn,{className:"h-4 w-4 inline mr-1"}),r.profile.messages]}),a.jsxs("button",{onClick:()=>i("rejected-items"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm text-center ${s==="rejected-items"?"border-red-500 text-red-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,"data-testid":"tab-rejected-items",children:[r.profile.rejectedItems," (",Je.length,")"]}),a.jsxs("button",{onClick:()=>i("expired-items"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm text-center ${s==="expired-items"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,"data-testid":"tab-expired-items",children:[r.profile.expiredItems," (",yt.length,")"]})]})})}),s==="pending-items"&&a.jsx("div",{"data-testid":"content-pending-items",children:X?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:r.profile.loadingPendingItems})]}):be.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-orange-600 text-sm",children:"⏳"}),a.jsx("span",{className:"text-orange-800 font-medium",children:r.profile.pendingInfo})]}),a.jsx("p",{className:"text-orange-700 text-sm mt-1",children:r.profile.pendingInfoDesc})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Br,{checked:be.every($=>C.has($.id)),onCheckedChange:$=>xe(be,$),"data-testid":"checkbox-select-all-pending"}),a.jsx("span",{className:"text-sm text-gray-600",children:C.size>0?`${C.size} ${r.profile.itemsSelected}`:r.profile.selectAll})]}),C.size>0&&a.jsxs(W,{onClick:H,disabled:O,variant:"destructive",size:"sm","data-testid":"button-bulk-delete-pending",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),O?r.profile.deleting:r.profile.deleteSelected]})]}),a.jsx("div",{className:"space-y-4",children:be.map($=>a.jsx(Oe,{className:"mb-4",children:a.jsx(Ut,{className:"pb-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"mr-3 mt-1",children:a.jsx(Br,{checked:C.has($.id),onCheckedChange:de=>ne($.id,de),"data-testid":`checkbox-item-${$.id}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(zt,{className:"text-lg",children:$.title}),a.jsx("p",{className:"text-gray-600 mt-2",children:$.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ze,{variant:"outline",children:$.category}),a.jsx(ze,{variant:"outline",children:$.condition}),a.jsx(ze,{variant:"secondary",children:"Onay Bekliyor"})]})]})]})})},$.id))})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-orange-400 text-2xl",children:"⏳"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:r.profile.noPendingItems}),a.jsx("p",{className:"text-gray-500 mb-4",children:r.profile.noPendingItemsDesc}),a.jsx(W,{asChild:!0,children:a.jsxs(tt,{href:"/add-item",children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),r.nav.addItem]})})]})}),s==="active-items"&&a.jsx("div",{"data-testid":"content-active-items",children:X?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Aktif ilanlarınız yükleniyor..."})]}):Ie.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Br,{checked:Ie.every($=>C.has($.id)),onCheckedChange:$=>xe(Ie,$),"data-testid":"checkbox-select-all-active"}),a.jsx("span",{className:"text-sm text-gray-600",children:C.size>0?`${C.size} ${r.profile.itemsSelected}`:r.profile.selectAll})]}),C.size>0&&a.jsxs(W,{onClick:H,disabled:O,variant:"destructive",size:"sm","data-testid":"button-bulk-delete-active",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),O?r.profile.deleting:r.profile.deleteSelected]})]}),a.jsx("div",{className:"space-y-4",children:Ie.map($=>a.jsx(Oe,{className:"mb-4",children:a.jsx(Ut,{className:"pb-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"mr-3 mt-1",children:a.jsx(Br,{checked:C.has($.id),onCheckedChange:de=>ne($.id,de),"data-testid":`checkbox-item-${$.id}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(zt,{className:"text-lg",children:$.title}),a.jsx("p",{className:"text-gray-600 mt-2",children:$.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ze,{variant:"outline",children:$.category}),a.jsx(ze,{variant:"outline",children:$.condition}),a.jsx(ze,{variant:"default",children:r.profile.statusActive})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(W,{onClick:()=>S(`/items/${$.id}/edit`),size:"sm",variant:"default","data-testid":`button-edit-${$.id}`,children:["✏️ ",r.profile.edit]}),a.jsxs(W,{onClick:()=>S(`/item/${$.id}`),size:"sm",variant:"outline",children:["👁️ ",r.profile.view]})]})]})})},$.id))})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Gr,{className:"h-12 w-12 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:r.profile.noActiveItems}),a.jsx("p",{className:"text-gray-500 mb-4",children:r.profile.noActiveItemsDesc}),a.jsx(W,{asChild:!0,children:a.jsxs(tt,{href:"/add-item",children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),r.nav.addItem]})})]})}),s==="rejected-items"&&a.jsx("div",{"data-testid":"content-rejected-items",children:X?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:r.profile.loadingRejectedItems})]}):Je.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 text-sm",children:"❌"}),a.jsx("span",{className:"text-red-800 font-medium",children:r.profile.rejectedInfo})]}),a.jsx("p",{className:"text-red-700 text-sm mt-1",children:r.profile.rejectedInfoDesc})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Br,{checked:Je.every($=>C.has($.id)),onCheckedChange:$=>xe(Je,$),"data-testid":"checkbox-select-all-rejected"}),a.jsx("span",{className:"text-sm text-gray-600",children:C.size>0?`${C.size} ${r.profile.itemsSelected}`:r.profile.selectAll})]}),C.size>0&&a.jsxs(W,{onClick:H,disabled:O,variant:"destructive",size:"sm","data-testid":"button-bulk-delete-rejected",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),O?r.profile.deleting:r.profile.deleteSelected]})]}),a.jsx("div",{className:"space-y-4",children:Je.map($=>a.jsx(Oe,{className:"mb-4",children:a.jsx(Ut,{className:"pb-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"mr-3 mt-1",children:a.jsx(Br,{checked:C.has($.id),onCheckedChange:de=>ne($.id,de),"data-testid":`checkbox-item-${$.id}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(zt,{className:"text-lg",children:$.title}),a.jsx("p",{className:"text-gray-600 mt-2",children:$.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ze,{variant:"outline",children:$.category}),a.jsx(ze,{variant:"outline",children:$.condition}),a.jsx(ze,{variant:"destructive",children:r.profile.statusRejected})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{onClick:()=>S(`/items/${$.id}/edit`),size:"sm",variant:"default","data-testid":`button-edit-${$.id}`,children:["✏️ ",r.profile.edit]}),a.jsxs(W,{onClick:()=>S(`/item/${$.id}`),size:"sm",variant:"outline",children:["👁️ ",r.profile.view]})]})]})})},$.id))})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-red-400 text-2xl",children:"❌"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:r.profile.noRejectedItems}),a.jsx("p",{className:"text-gray-500 mb-4",children:r.profile.noRejectedItemsDesc})]})}),s==="expired-items"&&a.jsx("div",{"data-testid":"content-expired-items",children:X?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:r.profile.loadingExpiredItems})]}):yt.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-orange-600 text-sm",children:"⏰"}),a.jsx("span",{className:"text-orange-800 font-medium",children:r.profile.expiredInfo})]}),a.jsx("p",{className:"text-orange-700 text-sm mt-1",children:r.profile.expiredInfoDesc})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:yt.map($=>a.jsx(Pte,{item:$,onRepublish:ae,onDelete:z,onViewDetails:J},$.id))})]}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("span",{className:"text-gray-400 text-2xl",children:"⏰"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:r.profile.noExpiredItems}),a.jsx("p",{className:"text-gray-500",children:r.profile.noExpiredItemsDesc})]})}),s==="trade-offers"&&a.jsx("div",{"data-testid":"content-trade-offers",children:a.jsx(Rte,{onAccept:j,onReject:R,onCancel:A})}),s==="messages"&&a.jsx("div",{"data-testid":"content-messages",children:a.jsx(Oe,{className:"h-[600px] overflow-hidden",children:a.jsxs("div",{className:"flex h-full",children:[a.jsx("div",{className:"w-1/3 border-r",children:a.jsx(S0,{onSelectConversation:b,selectedConversationId:g==null?void 0:g.id})}),a.jsx("div",{className:"w-2/3",children:g?a.jsx(I0,{otherUserId:g.otherUserId,otherUserName:g.otherUserName,conversationId:g.id,tradeOfferId:g.tradeOfferId}):a.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tn,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Konuşma Seçin"}),a.jsx("p",{className:"text-gray-600",children:"Mesajlaşmaya başlamak için sol taraftan bir konuşma seçin"})]})})})]})})})]})})}var t1="Avatar",[Ote,Tne]=wn(t1),[Mte,VL]=Ote(t1),FL=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return a.jsx(Mte,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Ee.span,{...r,ref:e})})});FL.displayName=t1;var UL="AvatarImage",zL=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=VL(UL,n),l=Lte(r,i),c=Lt(u=>{s(u),o.onImageLoadingStatusChange(u)});return Dt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Ee.img,{...i,ref:e,src:r}):null});zL.displayName=UL;var $L="AvatarFallback",BL=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=VL($L,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Ee.span,{...s,ref:e}):null});BL.displayName=$L;function iI(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Lte(t,{referrerPolicy:e,crossOrigin:n}){const r=Fte(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=p.useState(()=>iI(i,t));return Dt(()=>{l(iI(i,t))},[i,t]),Dt(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,n,e]),o}function Vte(){return()=>{}}function Fte(){return p.useSyncExternalStore(Vte,()=>!0,()=>!1)}var HL=FL,qL=zL,KL=BL;const C0=p.forwardRef(({className:t,...e},n)=>a.jsx(HL,{ref:n,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));C0.displayName=HL.displayName;const Ute=p.forwardRef(({className:t,...e},n)=>a.jsx(qL,{ref:n,className:_e("aspect-square h-full w-full",t),...e}));Ute.displayName=qL.displayName;const j0=p.forwardRef(({className:t,...e},n)=>a.jsx(KL,{ref:n,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));j0.displayName=KL.displayName;function zte(){const{id:t}=Zh(),{profile:e}=qn(),{toast:n}=pn(),[,r]=Rs(),[s,i]=p.useState(!1),[o,l]=p.useState(5),c=_o(),u=async E=>{try{const S=Qt(dt(he,"ratings"),Nt("ratedUserId","==",E)),R=(await zn(S)).docs.map(J=>J.data()),A=R.length,B=A>0?R.reduce((J,ae)=>J+ae.rating,0)/A:0,X=Ke(he,"users",E);await xn(X,{totalRatings:A,averageRating:Math.round(B*10)/10}),console.log(`User ${E} rating stats updated: ${A} ratings, avg: ${B}`)}catch(S){throw console.error("Error updating user rating stats:",S),S}},{data:h,isLoading:f}=tr({queryKey:["user",t],queryFn:async()=>{if(!t)return null;const E=await fn(Ke(he,"users",t));if(!E.exists())return null;const S=E.data();return{...S,id:E.id,createdAt:S.createdAt.toDate()}}}),{data:m=[],isLoading:v}=tr({queryKey:["user-items",t],queryFn:async()=>{if(!t)return[];const E=Qt(dt(he,"items"),Nt("ownerId","==",t));try{return(await zn(E)).docs.map(R=>{var B,X;const A=R.data();return{...A,id:R.id,createdAt:(B=A.createdAt)!=null&&B.toDate?A.createdAt.toDate():new Date(A.createdAt),updatedAt:(X=A.updatedAt)!=null&&X.toDate?A.updatedAt.toDate():new Date(A.updatedAt)}}).filter(R=>R.status==="aktif").sort((R,A)=>A.createdAt.getTime()-R.createdAt.getTime())}catch(S){return console.error("Query error:",S),[]}},enabled:!!t}),{data:w=[],isLoading:x}=tr({queryKey:["user-ratings",t],queryFn:async()=>{if(!t)return[];const E=Qt(dt(he,"ratings"),Nt("ratedUserId","==",t),TK("createdAt","desc")),S=await zn(E),j=[];for(const R of S.docs){const A=R.data(),X=(await fn(Ke(he,"users",A.raterUserId))).data();j.push({...A,id:R.id,createdAt:A.createdAt.toDate(),raterName:X?fu(`${X.firstName} ${X.lastName}`):"Kullanıcı"})}return j},enabled:!!t}),k=Jo({mutationFn:async E=>{const S=await ra(dt(he,"ratings"),{...E,createdAt:new Date});return await u(E.ratedUserId),S.id},onSuccess:()=>{c.invalidateQueries({queryKey:["user-ratings"]}),c.invalidateQueries({queryKey:["user"]}),c.invalidateQueries({queryKey:["users"]}),i(!1),l(5),n({title:"Değerlendirme Eklendi",description:"Kullanıcı değerlendirmeniz başarıyla kaydedildi."})},onError:E=>{n({title:"Hata",description:E.message||"Değerlendirme eklenemedi",variant:"destructive"})}}),_=async()=>{if(!(e!=null&&e.id)||!t){n({title:"Hata",description:"Giriş yapmalısınız.",variant:"destructive"});return}if(e.id===t){n({title:"Hata",description:"Kendinize mesaj gönderemezsiniz.",variant:"destructive"});return}try{console.log("Mesaj gönderilecek:",{from:e.id,to:t});const E=await Zk(e.id,t);console.log("Conversation ID:",E),await new Promise(S=>setTimeout(S,500)),r(`/messages?conversation=${E}`)}catch(E){console.error("Mesaj gönderme hatası:",E),n({title:"Hata",description:E.message||"Sohbet başlatılamadı",variant:"destructive"})}},g=()=>{if(!(e!=null&&e.id)||!t){n({title:"Hata",description:"Giriş yapmalısınız.",variant:"destructive"});return}if(e.id===t){n({title:"Hata",description:"Kendinizi değerlendiremezsiniz.",variant:"destructive"});return}if(w.some(S=>S.raterUserId===e.id&&S.ratedUserId===t)){n({title:"Hata",description:"Bu kullanıcıyı zaten değerlendirdiniz.",variant:"destructive"});return}console.log("Rating gönderiliyor:",{raterUserId:e.id,ratedUserId:t,rating:o}),k.mutate({raterUserId:e.id,ratedUserId:t,rating:o})},b=E=>{r(`/item/${E.id}`)},C=E=>{r(`/items/${E.id}/edit`)};if(f)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})});if(!h)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Kullanıcı Bulunamadı"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Aradığınız kullanıcı mevcut değil."}),a.jsx(tt,{href:"/items",children:a.jsxs(W,{children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),"İlanlara Dön"]})})]})});const D=(e==null?void 0:e.id)===t,O=h.averageRating||0,I=h.totalRatings||0,N=(w==null?void 0:w.some(E=>E.raterUserId===(e==null?void 0:e.id)&&E.ratedUserId===t))||!1;return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx(tt,{href:"/items",children:a.jsxs(W,{variant:"ghost",size:"sm",children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),"İlanlara Dön"]})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(Oe,{children:[a.jsxs(Ut,{className:"text-center",children:[a.jsx(C0,{className:"w-24 h-24 mx-auto mb-4",children:a.jsxs(j0,{className:"text-2xl bg-primary/10 text-primary",children:[h.firstName.charAt(0),h.lastName.charAt(0)]})}),a.jsx(zt,{className:"text-xl",children:fu(`${h.firstName} ${h.lastName}`)}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[a.jsx("div",{className:"flex",children:[1,2,3,4,5].map(E=>a.jsx(Hr,{className:`h-5 w-5 ${E<=O?"text-yellow-400 fill-current":"text-gray-300"}`},E))}),a.jsx("span",{className:"text-sm text-gray-600",children:O>0?O.toFixed(1):"Değerlendirme yok"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",I," değerlendirme)"]})]})]}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:v?"...":m.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Aktif İlan"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.totalListings||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Toplam İlan"})]})]}),a.jsx($i,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(bu,{className:"h-4 w-4"}),a.jsx("span",{children:h.city||"Belirtilmemiş"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(wu,{className:"h-4 w-4"}),a.jsxs("span",{children:["Üye: ",new Date(h.createdAt).toLocaleDateString("tr-TR")]})]})]}),!D&&e&&a.jsxs(a.Fragment,{children:[a.jsx($i,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(W,{onClick:_,className:"w-full",children:[a.jsx(tn,{className:"h-4 w-4 mr-2"}),"Mesaj Gönder"]}),N?a.jsxs(W,{variant:"outline",disabled:!0,className:"w-full opacity-50",children:[a.jsx(Hr,{className:"h-4 w-4 mr-2 text-yellow-400 fill-current"}),"Zaten Değerlendirdiniz"]}):a.jsxs(W,{variant:"outline",onClick:()=>i(!s),className:"w-full",children:[a.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Değerlendir"]})]}),s&&!N&&a.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Puan"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(E=>a.jsx("button",{onClick:()=>l(E),className:"focus:outline-none",children:a.jsx(Hr,{className:`h-6 w-6 ${E<=o?"text-yellow-400 fill-current":"text-gray-300"}`})},E))})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{onClick:g,disabled:k.isPending,className:"flex-1",children:k.isPending?"Gönderiliyor...":"Gönder"}),a.jsx(W,{variant:"outline",onClick:()=>i(!1),className:"flex-1",children:"İptal"})]})]})]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[a.jsx(Gr,{className:"h-6 w-6 mr-2"}),"Aktif İlanları (",m.length,")"]}),v?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((E,S)=>a.jsx("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"w-full h-48 bg-gray-200"}),a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})},S))}):m.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(E=>a.jsxs(Oe,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:E.images[0],alt:E.title,className:"w-full h-48 object-cover"}),a.jsx(ze,{variant:"secondary",className:"absolute top-2 left-2 bg-white/90",children:Bi[E.category]})]}),a.jsxs($e,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:E.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:E.description}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm text-gray-500",children:As[E.condition]}),a.jsx("span",{className:"text-sm text-gray-500",children:E.location})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{onClick:()=>b(E),variant:"outline",size:"sm",className:"flex-1",children:[a.jsx(ro,{className:"h-4 w-4 mr-1"}),"Detay"]}),D&&a.jsxs(W,{onClick:()=>C(E),variant:"default",size:"sm",className:"flex-1",children:[a.jsx(sU,{className:"h-4 w-4 mr-1"}),"Düzenle"]})]})]})]},E.id))}):a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(Gr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz aktif ilan yok"}),a.jsx("p",{className:"text-gray-600",children:"Bu kullanıcının şu anda aktif ilanı bulunmuyor."})]})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[a.jsx(ST,{className:"h-6 w-6 mr-2"}),"Değerlendirmeler (",I,")"]}),x?a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((E,S)=>a.jsx("div",{className:"animate-pulse bg-white p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})},S))}):I>0?a.jsx("div",{className:"space-y-4",children:w.map(E=>a.jsx(Oe,{children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx(C0,{children:a.jsx(j0,{className:"bg-primary/10 text-primary",children:E.raterName.charAt(0)})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:E.raterName}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex",children:[1,2,3,4,5].map(S=>a.jsx(Hr,{className:`h-4 w-4 ${S<=E.rating?"text-yellow-400 fill-current":"text-gray-300"}`},S))}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString("tr-TR")})]})]})})]})})},E.id))}):a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(ST,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz değerlendirme yok"}),a.jsx("p",{className:"text-gray-600",children:"Bu kullanıcı henüz değerlendirilmemiş."})]})]})]})]})]})}const $te=["abaza","abazan","ag","ağzına sıçayım","ahmak","allah","allahsız","am","amarım","ambiti","am biti","amcığı","amcığın","amcığını","amcığınızı","amcık","amcık hoşafı","amcıklama","amcıklandı","amcik","amck","amckl","amcklama","amcklaryla","amckta","amcktan","amcuk","amık","amına","amınako","amına koy","amına koyarım","amına koyayım","amınakoyim","amına koyyim","amına s","amına sikem","amına sokam","amın feryadı","amını","amını s","amın oglu","amınoğlu","amın oğlu","amısına","amısını","amina","amina g","amina k","aminako","aminakoyarim","amina koyarim","amina koyayım","amina koyayim","aminakoyim","aminda","amindan","amindayken","amini","aminiyarraaniskiim","aminoglu","amin oglu","amiyum","amk","amkafa","amk çocuğu","amlarnzn","amlı","amm","ammak","ammna","amn","amna","amnda","amndaki","amngtn","amnn","amona","amq","amsız","amsiz","amsz","amteri","amugaa","amuğa","amuna","ana","anaaann","anal","analarn","anam","anamla","anan","anana","anandan","ananı","ananın","ananın am","ananın amı","ananın dölü","ananınki","ananısikerim","ananı sikerim","ananısikeyim","ananı sikeyim","ananızın","ananızın am","anani","ananin","ananisikerim","anani sikerim","ananisikeyim","anani sikeyim","anann","ananz","anas","anasını","anasının am","anası orospu","anasi","anasinin","anay","anayin","angut","anneni","annenin","annesiz","anuna","aptal","aq","a.q","a.q.","aq.","ass","atkafası","atmık","attırdığım","attrrm","auzlu","avrat","ayklarmalrmsikerim","azdım","azdır","azdırıcı","babaannesi kaşar","babanı","babanın","babani","babası pezevenk","bacağına sıçayım","bacına","bacını","bacının","bacini","bacn","bacndan","bacy","bastard","basur","beyinsiz","bızır","bitch","biting","bok","boka","bokbok","bokça","bokhu","bokkkumu","boklar","boktan","boku","bokubokuna","bokum","bombok","boner","bosalmak","boşalmak","cenabet","cibiliyetsiz","cibilliyetini","cibilliyetsiz","cif","cikar","cim","çük","dalaksız","dallama","daltassak","dalyarak","dalyarrak","dangalak","dassagi","diktim","dildo","dingil","dingilini","dinsiz","dkerim","domal","domalan","domaldı","domaldın","domalık","domalıyor","domalmak","domalmış","domalsın","domalt","domaltarak","domaltıp","domaltır","domaltırım","domaltip","domaltmak","dölü","dönek","düdük","eben","ebeni","ebenin","ebeninki","ebleh","ecdadını","ecdadini","embesil","emi","fahise","fahişe","feriştah","ferre","fuck","fucker","fuckin","fucking","gavad","gavat","geber","geberik","gebermek","gebermiş","gebertir","gerızekalı","gerizekalı","gerizekali","gerzek","giberim","giberler","gibis","gibiş","gibmek","gibtiler","goddamn","godoş","godumun","gotelek","gotlalesi","gotlu","gotten","gotundeki","gotunden","gotune","gotunu","gotveren","goyiim","goyum","goyuyim","goyyim","göt","göt deliği","götelek","göt herif","götlalesi","götlek","götoğlanı","göt oğlanı","götoş","götten","götü","götün","götüne","götünekoyim","götüne koyim","götünü","götveren","göt veren","göt verir","gtelek","gtn","gtnde","gtnden","gtne","gtten","gtveren","hasiktir","hassikome","hassiktir","has siktir","hassittir","haysiyetsiz","hayvan herif","hoşafı","hödük","hsktr","huur","ıbnelık","ibina","ibine","ibinenin","ibne","ibnedir","ibneleri","ibnelik","ibnelri","ibneni","ibnenin","ibnerator","ibnesi","idiot","idiyot","imansz","ipne","iserim","işerim","itoğlu it","kafam girsin","kafasız","kafasiz","kahpe","kahpenin","kahpenin feryadı","kaka","kaltak","kancık","kancik","kappe","karhane","kaşar","kavat","kavatn","kaypak","kayyum","kerane","kerhane","kerhanelerde","kevase","kevaşe","kevvase","koca göt","koduğmun","koduğmunun","kodumun","kodumunun","koduumun","koyarm","koyayım","koyiim","koyiiym","koyim","koyum","koyyim","krar","kukudaym","laciye boyadım","lavuk","liboş","madafaka","mal","malafat","malak","manyak","mcik","meme","memelerini","mezveleli","minaamcık","mincikliyim","mna","monakkoluyum","motherfucker","mudik","oc","ocuu","ocuun","OÇ","oç","o. çocuğu","oğlan","oğlancı","oğlu it","orosbucocuu","orospu","orospucocugu","orospu cocugu","orospu çoc","orospuçocuğu","orospu çocuğu","orospu çocuğudur","orospu çocukları","orospudur","orospular","orospunun","orospunun evladı","orospuydu","orospuyuz","orostoban","orostopol","orrospu","oruspu","oruspuçocuğu","oruspu çocuğu","osbir","ossurduum","ossurmak","ossuruk","osur","osurduu","osuruk","osururum","otuzbir","öküz","öşex","patlak zar","penis","pezevek","pezeven","pezeveng","pezevengi","pezevengin evladı","pezevenk","pezo","pic","pici","picler","piç","piçin oğlu","piç kurusu","piçler","pipi","pipiş","pisliktir","porno","pussy","puşt","puşttur","rahminde","revizyonist","s1kerim","s1kerm","s1krm","sakso","saksofon","salaak","salak","saxo","sekis","serefsiz","sevgi koyarım","sevişelim","sexs","sıçarım","sıçtığım","sıecem","sicarsin","sie","sik","sikdi","sikdiğim","sike","sikecem","sikem","siken","sikenin","siker","sikerim","sikerler","sikersin","sikertir","sikertmek","sikesen","sikesicenin","sikey","sikeydim","sikeyim","sikeym","siki","sikicem","sikici","sikien","sikienler","sikiiim","sikiiimmm","sikiim","sikiir","sikiirken","sikik","sikil","sikildiini","sikilesice","sikilmi","sikilmie","sikilmis","sikilmiş","sikilsin","sikim","sikimde","sikimden","sikime","sikimi","sikimiin","sikimin","sikimle","sikimsonik","sikimtrak","sikin","sikinde","sikinden","sikine","sikini","sikip","sikis","sikisek","sikisen","sikish","sikismis","sikiş","sikişen","sikişme","sikitiin","sikiyim","sikiym","sikiyorum","sikkim","sikko","sikleri","sikleriii","sikli","sikm","sikmek","sikmem","sikmiler","sikmisligim","siksem","sikseydin","sikseyidin","siksin","siksinbaya","siksinler","siksiz","siksok","siksz","sikt","sikti","siktigimin","siktigiminin","siktiğim","siktiğimin","siktiğiminin","siktii","siktiim","siktiimin","siktiiminin","siktiler","siktim","siktimin","siktiminin","siktir","siktir et","siktirgit","siktir git","siktirir","siktiririm","siktiriyor","siktir lan","siktirolgit","siktir ol git","sittimin","sittir","skcem","skecem","skem","sker","skerim","skerm","skeyim","skiim","skik","skim","skime","skmek","sksin","sksn","sksz","sktiimin","sktrr","skyim","slaleni","sokam","sokarım","sokarim","sokarm","sokarmkoduumun","sokayım","sokaym","sokiim","soktuğumunun","sokuk","sokum","sokuş","sokuyum","soxum","sulaleni","sülaleni","sülalenizi","sürtük","şerefsiz","şıllık","taaklarn","taaklarna","tarrakimin","tasak","tassak","taşak","taşşak","tipini s.k","tipinizi s.keyim","tiyniyat","toplarm","topsun","totoş","vajina","vajinanı","veled","veledizina","veled i zina","verdiimin","weled","weledizina","whore","xikeyim","yaaraaa","yalama","yalarım","yalarun","yaraaam","yarak","yaraksız","yaraktr","yaram","yaraminbasi","yaramn","yararmorospunun","yarra","yarraaaa","yarraak","yarraam","yarraamı","yarragi","yarragimi","yarragina","yarragindan","yarragm","yarrağ","yarrağım","yarrağımı","yarraimin","yarrak","yarram","yarramin","yarraminbaşı","yarramn","yarran","yarrana","yarrrak","yavak","yavş","yavşak","yavşaktır","yavuşak","yılışık","yilisik","yogurtlayam","yoğurtlayam","yrrak","zıkkımım","zibidi","zigsin","zikeyim","zikiiim","zikiim","zikik","zikim","ziksiiin","ziksiin","zulliyetini","zviyetini"];function aI(t){if(!t)return!1;const e=t.toLowerCase().replace(/[ıİ]/g,"i").replace(/[ğĞ]/g,"g").replace(/[üÜ]/g,"u").replace(/[şŞ]/g,"s").replace(/[öÖ]/g,"o").replace(/[çÇ]/g,"c");return $te.some(n=>{const r=n.toLowerCase().replace(/[ıİ]/g,"i").replace(/[ğĞ]/g,"g").replace(/[üÜ]/g,"u").replace(/[şŞ]/g,"s").replace(/[öÖ]/g,"o").replace(/[çÇ]/g,"c");return new RegExp(`\\b${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(e)})}function oI(){return"Bu metinde uygunsuz kelimeler bulundu. Lütfen nezaket kurallarına uygun bir dil kullanın."}const Bte=q.object({title:q.string().min(3,"En az 3 karakter").max(100,"En fazla 100 karakter").refine(t=>!aI(t),{message:oI()}),description:q.string().min(10,"En az 10 karakter").max(1e3,"En fazla 1000 karakter").refine(t=>!aI(t),{message:oI()}),category:q.enum(N0,{required_error:"Kategori seçin"}),subcategory:q.string().optional(),carBrand:q.string().optional(),carModel:q.string().optional(),carKm:q.string().optional(),condition:q.enum(["yeni","cok_iyi","iyi","orta","kullanilmis"],{required_error:"Durum seçin"}),city:q.string().min(1,"İl seçin"),district:q.string().min(1,"İlçe seçin"),neighborhood:q.string().min(1,"Mahalle seçin")});function Hte(){const{user:t,profile:e,loading:n}=qn(),[,r]=Rs(),{toast:s}=pn(),i=_o(),{t:o}=Kn(),[l,c]=p.useState([]),[u,h]=p.useState([]),[f,m]=p.useState(!1),[v,w]=p.useState(""),[x,k]=p.useState(0),[_,g]=p.useState(!0);p.useEffect(()=>()=>{u.forEach(S=>{try{URL.revokeObjectURL(S)}catch{}})},[u]),p.useEffect(()=>{(async()=>{if(t)try{g(!0);const j=Qt(dt(he,"items"),Nt("ownerId","==",t.uid)),R=await zn(j);k(R.size)}finally{g(!1)}})()},[t]);const b=kh({resolver:Eh(Bte),defaultValues:{title:"",description:"",category:void 0,subcategory:"",carBrand:"",carModel:"",carKm:"",condition:void 0,city:"",district:"",neighborhood:""}}),C=S=>{const j=Array.from(S.target.files||[]);if(j.length===0)return;if(S.target.value="",j.length+l.length>5){s({title:"Çok fazla fotoğraf",description:"En fazla 5 fotoğraf ekleyebilirsiniz.",variant:"destructive"});return}if(j.filter(X=>X.size>10*1024*1024).length){s({title:"Dosya boyutu çok büyük",description:"Her fotoğraf en fazla 10MB olabilir.",variant:"destructive"});return}const A=["image/jpeg","image/jpg","image/png","image/webp"];if(j.filter(X=>!A.includes(X.type)).length){s({title:"Desteklenmeyen dosya türü",description:"Sadece JPG, PNG ve WebP formatları desteklenir.",variant:"destructive"});return}c(X=>[...X,...j]),j.forEach(X=>{try{const J=URL.createObjectURL(X);h(ae=>[...ae,J])}catch{s({title:"Fotoğraf önizleme hatası",description:"Bazı fotoğraflar önizlenemedi.",variant:"destructive"})}})},D=S=>{c(j=>j.filter((R,A)=>A!==S)),h(j=>{try{j[S]&&URL.revokeObjectURL(j[S])}catch{}return j.filter((R,A)=>A!==S)})},O=async()=>{if(l.length===0)throw new Error("En az 1 fotoğraf ekleyin");s({title:`${l.length} resim yükleniyor...`,description:"Lütfen bekleyin."});const S=[],j=3;for(let R=0;R<l.length;R+=j){const A=l.slice(R,R+j),B=await Promise.all(A.map(async X=>{const J=`items/${Date.now()}-${X.name}`,ae=lk(uk,J);return await ak(ae,X),await ok(ae)}));S.push(...B)}return S},I=async()=>{if(x>=5){s({title:"6. İlan İçin Ödeme Gerekli",description:"İlk 5 ilan ücretsiz! 6. ve sonrası 10 TL.",variant:"destructive"});return}return await N()},N=async()=>{if(!(!t||!e)){m(!0);try{s({title:"Resimler yükleniyor...",description:"Firebase'e yükleniyor."});const S=await O();s({title:"İlan kaydediliyor...",description:"Veritabanına yazılıyor."});const j=new Date;j.setDate(j.getDate()+30);const R=Date.now()+Math.floor(Math.random()*1e3)+5e5,A=new Date,B={...b.getValues(),itemNumber:R,location:`${b.getValues().city}, ${b.getValues().district}, ${b.getValues().neighborhood}`,images:S,ownerId:t.uid,ownerName:`${e.firstName} ${e.lastName}`,ownerAvatar:e.avatar||"",status:"pending",expireAt:j,createdAt:A,updatedAt:A};let X=!1,J=0;for(;!X&&J<3;)try{await ra(dt(he,"items"),B),X=!0}catch(H){if(J++,J>=3)throw new Error(`Veritabanı hatası: ${H.code||H.message}`);await new Promise(ne=>setTimeout(ne,1e3*J))}if(e.totalListings!==void 0){const H=Ke(he,"users",t.uid);xn(H,{totalListings:(e.totalListings||0)+1}).catch(()=>{})}const ae=Qt(dt(he,"items"),Nt("itemNumber","==",R),Nt("ownerId","==",t.uid));if((await zn(ae)).empty)throw new Error("İlan kaydedilemedi - veritabanında bulunamadı");i.invalidateQueries({queryKey:["user-items"]}),i.invalidateQueries({queryKey:["admin-pending-items"]}),s({title:"✅ İlanınız onay sürecindedir",description:"Onaydan sonra yayınlanacaktır."}),r("/profile")}catch(S){s({title:"❌ Hata",description:S.message||"İlan eklenirken hata oluştu.",variant:"destructive"})}finally{m(!1)}}},E=async S=>{await I()};return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center","data-testid":"loading-add-item",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Sayfa yükleniyor..."})]})}):t?a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs(Oe,{children:[a.jsxs(Ut,{children:[a.jsx(zt,{className:"text-2xl","data-testid":"title-add-item",children:o.addItem.title}),a.jsx("p",{className:"text-gray-600",children:o.addItem.subtitle})]}),a.jsx($e,{children:a.jsx(Ey,{...b,children:a.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[o.addItem.photos," ",o.addItem.required]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[u.map((S,j)=>a.jsxs("div",{className:"relative aspect-square","data-testid":`image-preview-${j}`,children:[a.jsx("img",{src:S,alt:`Preview ${j+1}`,className:"w-full h-full object-cover rounded-lg border"}),a.jsx("button",{type:"button",onClick:()=>D(j),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600","data-testid":`button-remove-image-${j}`,children:a.jsx(_s,{className:"h-3 w-3"})})]},j)),u.length<5&&a.jsx("div",{className:"aspect-square",children:a.jsxs("label",{className:"w-full h-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors",children:[a.jsx(ef,{className:"h-8 w-8 text-gray-400 mb-2"}),a.jsx("span",{className:"text-sm text-gray-500",children:o.addItem.addPhoto}),a.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",multiple:!0,onChange:C,className:"hidden","data-testid":"input-image-upload"})]})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:o.addItem.photoHint})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ot,{control:b.control,name:"category",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.category," ",o.addItem.required]}),a.jsx("div",{className:"block sm:hidden",children:a.jsx(mt,{children:a.jsxs("select",{...S,onChange:j=>{S.onChange(j.target.value),w(j.target.value)},className:"flex h-12 w-full rounded-md border px-3 py-2","data-testid":"select-category-mobile",children:[a.jsx("option",{value:"",children:"Kategori seçin"}),N0.map(j=>a.jsx("option",{value:j,children:Bi[j]},j))]})})}),a.jsx("div",{className:"hidden sm:block",children:a.jsxs(Ws,{onValueChange:j=>{S.onChange(j),w(j)},defaultValue:S.value,children:[a.jsx(mt,{children:a.jsx(fs,{"data-testid":"select-category-desktop",className:"h-10 text-sm",children:a.jsx(Gs,{placeholder:o.addItem.selectCategory})})}),a.jsx(ms,{children:N0.map(j=>a.jsx(bt,{value:j,children:Bi[j]},j))})]})}),a.jsx(Rt,{})]})}),v==="tasinmazlar"&&a.jsx(Ot,{control:b.control,name:"subcategory",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.subcategory," ",o.addItem.required]}),a.jsx("div",{className:"block sm:hidden",children:a.jsx(mt,{children:a.jsxs("select",{...S,className:"flex h-12 w-full rounded-md border px-3 py-2","data-testid":"select-subcategory-mobile",children:[a.jsx("option",{value:"",children:"Alt Kategori seçin"}),Object.entries(eI).map(([j,R])=>a.jsx("option",{value:j,children:R},j))]})})}),a.jsx("div",{className:"hidden sm:block",children:a.jsxs(Ws,{onValueChange:S.onChange,defaultValue:S.value,children:[a.jsx(mt,{children:a.jsx(fs,{"data-testid":"select-subcategory-desktop",children:a.jsx(Gs,{placeholder:o.addItem.selectSubcategory})})}),a.jsx(ms,{children:Object.entries(eI).map(([j,R])=>a.jsx(bt,{value:j,children:R},j))})]})}),a.jsx(Rt,{})]})})]}),v==="araba"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Ot,{control:b.control,name:"carBrand",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.carBrand," ",o.addItem.required]}),a.jsx("div",{className:"block sm:hidden",children:a.jsx(mt,{children:a.jsxs("select",{...S,className:"flex h-12 w-full rounded-md border px-3 py-2","data-testid":"select-car-brand-mobile",children:[a.jsx("option",{value:"",children:"Marka seçin"}),nI.map(j=>a.jsx("option",{value:j,children:j},j))]})})}),a.jsx("div",{className:"hidden sm:block",children:a.jsxs(Ws,{onValueChange:S.onChange,defaultValue:S.value,children:[a.jsx(mt,{children:a.jsx(fs,{"data-testid":"select-car-brand-desktop",children:a.jsx(Gs,{placeholder:o.addItem.selectCarBrand})})}),a.jsx(ms,{children:nI.map(j=>a.jsx(bt,{value:j,children:j},j))})]})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:b.control,name:"carModel",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.carModel," ",o.addItem.required]}),a.jsx(mt,{children:a.jsx(xt,{placeholder:o.addItem.enterCarModel,...S,"data-testid":"input-car-model"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:b.control,name:"carKm",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.carKm," ",o.addItem.required]}),a.jsx(mt,{children:a.jsx(xt,{placeholder:o.addItem.enterCarKm,type:"number",...S,"data-testid":"input-car-km"})}),a.jsx(Rt,{})]})})]}),a.jsx(Ot,{control:b.control,name:"condition",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.condition," ",o.addItem.required]}),a.jsx("div",{className:"block sm:hidden",children:a.jsx(mt,{children:a.jsxs("select",{...S,className:"flex h-12 w-full rounded-md border px-3 py-2","data-testid":"select-condition-mobile",children:[a.jsx("option",{value:"",children:"Durum seçin"}),Object.entries(As).map(([j,R])=>a.jsx("option",{value:j,children:R},j))]})})}),a.jsx("div",{className:"hidden sm:block",children:a.jsxs(Ws,{onValueChange:S.onChange,defaultValue:S.value,children:[a.jsx(mt,{children:a.jsx(fs,{"data-testid":"select-condition-desktop",children:a.jsx(Gs,{placeholder:o.addItem.selectCondition})})}),a.jsx(ms,{children:Object.entries(As).map(([j,R])=>a.jsx(bt,{value:j,children:R},j))})]})}),a.jsx(Rt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Ot,{control:b.control,name:"city",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.city," ",o.addItem.required]}),a.jsx("div",{className:"block sm:hidden",children:a.jsx(mt,{children:a.jsxs("select",{...S,className:"flex h-12 w-full rounded-md border px-3 py-2","data-testid":"select-city-mobile",children:[a.jsx("option",{value:"",children:"İl seçin"}),tI.map(j=>a.jsx("option",{value:j,children:j},j))]})})}),a.jsx("div",{className:"hidden sm:block",children:a.jsxs(Ws,{onValueChange:S.onChange,defaultValue:S.value,children:[a.jsx(mt,{children:a.jsx(fs,{"data-testid":"select-city-desktop",children:a.jsx(Gs,{placeholder:o.addItem.selectCity})})}),a.jsx(ms,{children:tI.map(j=>a.jsx(bt,{value:j,children:j},j))})]})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:b.control,name:"district",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.district," ",o.addItem.required]}),a.jsx(mt,{children:a.jsx(xt,{placeholder:o.addItem.enterDistrict,...S,"data-testid":"input-district"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:b.control,name:"neighborhood",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.neighborhood," ",o.addItem.required]}),a.jsx(mt,{children:a.jsx(xt,{placeholder:o.addItem.enterNeighborhood,...S,"data-testid":"input-neighborhood"})}),a.jsx(Rt,{})]})})]}),a.jsx(Ot,{control:b.control,name:"title",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.title_field," ",o.addItem.required]}),a.jsx(mt,{children:a.jsx(xt,{placeholder:o.addItem.enterTitle,...S,"data-testid":"input-title"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:b.control,name:"description",render:({field:S})=>a.jsxs(jt,{children:[a.jsxs(At,{children:[o.addItem.description," ",o.addItem.required]}),a.jsx(mt,{children:a.jsx(zi,{placeholder:o.addItem.enterDescription,rows:4,...S,"data-testid":"textarea-description"})}),a.jsx(Rt,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(W,{type:"submit",className:"flex-1",disabled:f||_,"data-testid":"button-submit-add-item",children:f?a.jsxs(a.Fragment,{children:[a.jsx(RA,{className:"h-4 w-4 mr-2 animate-spin"}),o.common.loading,"..."]}):o.addItem.submitButton}),a.jsx(W,{type:"button",variant:"outline",onClick:()=>r("/profile"),"data-testid":"button-cancel",children:o.addItem.cancel})]})]})})})]})})}):a.jsx(Ib,{to:"/"})}function qte(){const[t]=Rs();Kn();const[e,n]=p.useState(null),[r,s]=p.useState(window.innerWidth<768);p.useEffect(()=>{const c=new URLSearchParams(t.split("?")[1]||"").get("conversation");c&&(e==null?void 0:e.id)!==c&&console.log("Messages page: URL'den conversation ID tespit edildi:",c)},[t,e]),p.useEffect(()=>{const l=()=>{s(window.innerWidth<768)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const i=l=>{n(l)},o=()=>{n(null)};return a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(tn,{className:"h-8 w-8 text-primary"}),"Mesajlarım"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Diğer kullanıcılarla sohbet edin ve takas detaylarını konuşun"})]}),a.jsx(Oe,{className:"h-[calc(100vh-200px)] overflow-hidden",children:a.jsx("div",{className:"flex h-full",children:r?a.jsx(a.Fragment,{children:e?a.jsx("div",{className:"w-full h-full",children:a.jsx(I0,{otherUserId:e.otherUserId,otherUserName:e.otherUserName,conversationId:e.id,tradeOfferId:e.tradeOfferId,onBack:o})}):a.jsx("div",{className:"w-full h-full",children:a.jsx(S0,{onSelectConversation:i,selectedConversationId:null})})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-1/3 border-r",children:a.jsx(S0,{onSelectConversation:i,selectedConversationId:(e==null?void 0:e.id)??null})}),a.jsx("div",{className:"w-2/3",children:e?a.jsx(I0,{otherUserId:e.otherUserId,otherUserName:e.otherUserName,conversationId:e.id,tradeOfferId:e.tradeOfferId}):a.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tn,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Konuşma Seçin"}),a.jsx("p",{className:"text-gray-600",children:"Mesajlaşmaya başlamak için sol taraftan bir konuşma seçin"})]})})})]})})})]})})}function Kte(){const[t,e]=p.useState([]),[n,r]=p.useState(null),[s,i]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(null),{toast:m}=pn();p.useEffect(()=>{const g=Qt(dt(he,"chatMessages")),b=Au(g,C=>{const D=[];C.forEach(N=>{var S;const E=N.data();D.push({id:N.id,text:E.text,imageUrl:E.imageUrl,messageType:E.messageType||"text",sender:E.sender,senderName:E.senderName,userId:E.userId,timestamp:E.timestamp,createdAt:((S=E.timestamp)==null?void 0:S.toDate())||new Date})});const O=new Map;D.forEach(N=>{if(!N.userId)return;O.has(N.userId)||O.set(N.userId,{userId:N.userId,userName:N.senderName||"Kullanıcı",lastMessage:N.messageType==="image"?"📷 Resim gönderildi":N.text||"",lastMessageTime:N.createdAt,unreadCount:N.sender==="user"?1:0,messages:[]});const E=O.get(N.userId);E.messages.push(N),N.createdAt>E.lastMessageTime&&(E.lastMessage=N.messageType==="image"?"📷 Resim gönderildi":N.text||"",E.lastMessageTime=N.createdAt)}),O.forEach(N=>{N.messages.sort((E,S)=>E.createdAt.getTime()-S.createdAt.getTime())});const I=Array.from(O.values()).sort((N,E)=>E.lastMessageTime.getTime()-N.lastMessageTime.getTime());e(I)});return()=>b()},[]);const v=async g=>{if(!(!g||h)){f(g);try{await lu(Ke(he,"chatMessages",g)),m({title:"Mesaj silindi",description:"Mesaj başarıyla silindi"})}catch(b){m({title:"Hata",description:b.message||"Mesaj silinirken hata oluştu",variant:"destructive"})}finally{f(null)}}},w=async g=>{if(!(!g||o)){l(!0);try{const b=Qt(dt(he,"chatMessages"),Nt("userId","==",g)),D=(await zn(b)).docs.map(O=>lu(O.ref));await Promise.all(D),m({title:"Tüm Mesajlar Silindi",description:"Kullanıcının tüm sohbet geçmişi silindi"}),r(null)}catch{m({title:"Hata",description:"Mesajlar silinirken hata oluştu",variant:"destructive"})}finally{l(!1)}}},x=async()=>{if(!(!s.trim()||!n||o)){l(!0);try{await ra(dt(he,"chatMessages"),{text:s,messageType:"text",sender:"admin",senderName:"Destek Ekibi",userId:n,timestamp:Cr()}),i(""),m({title:"Mesaj gönderildi",description:"Kullanıcıya yanıtınız iletildi"})}catch(g){m({title:"Hata",description:g.message,variant:"destructive"})}finally{l(!1)}}},k=async g=>{if(!(!n||o)){l(!0);try{await ra(dt(he,"chatMessages"),{imageUrl:g,messageType:"image",sender:"admin",senderName:"Destek Ekibi",userId:n,timestamp:Cr()}),u(!1),m({title:"Resim gönderildi",description:"Kullanıcıya resim iletildi"})}catch(b){m({title:"Hata",description:b.message,variant:"destructive"})}finally{l(!1)}}},_=t.find(g=>g.userId===n);return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[600px]",children:[a.jsxs(Oe,{className:"lg:col-span-1",children:[a.jsx(Ut,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-5 w-5"}),"Canlı Destek (",t.length,")"]})}),a.jsx($e,{className:"p-0",children:a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:t.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(tn,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"Henüz mesaj yok"})]}):t.map(g=>a.jsx("div",{onClick:()=>r(g.userId),className:`p-4 border-b cursor-pointer hover:bg-gray-50 ${n===g.userId?"bg-blue-50 border-blue-200":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(pr,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium truncate",children:g.userName}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:g.lastMessage})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:g.lastMessageTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),g.unreadCount>0&&a.jsx(ze,{variant:"default",className:"text-xs",children:g.unreadCount})]})]})},g.userId))})})]}),a.jsxs(Oe,{className:"lg:col-span-2",children:[a.jsx(Ut,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(zt,{children:_?`${_.userName} ile Sohbet`:"Bir konuşma seçin"}),_&&a.jsxs(W,{onClick:()=>w(_.userId),disabled:o,variant:"destructive",size:"sm",className:"ml-2",children:[a.jsx(bs,{className:"h-4 w-4 mr-1"}),"Tüm Sohbeti Sil"]})]})}),a.jsx($e,{className:"flex flex-col h-[500px] p-0",children:_?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:_.messages.map(g=>a.jsx("div",{className:`flex ${g.sender==="admin"?"justify-end":"justify-start"} group`,children:a.jsxs("div",{className:"flex items-start gap-2 max-w-[70%]",children:[a.jsxs("div",{className:`rounded-lg px-3 py-2 ${g.sender==="admin"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[g.messageType==="image"&&g.imageUrl?a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:g.imageUrl,alt:"Gönderilen resim",className:"max-w-full max-h-48 rounded object-cover"}),g.text&&a.jsx("p",{className:"text-sm",children:g.text})]}):a.jsx("p",{className:"text-sm",children:g.text}),a.jsx("p",{className:`text-xs mt-1 ${g.sender==="admin"?"text-blue-100":"text-gray-500"}`,children:g.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>v(g.id),disabled:h===g.id,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 h-auto w-auto text-red-500 hover:text-red-700 hover:bg-red-50","data-testid":`button-delete-message-${g.id}`,children:a.jsx(bs,{className:"h-3 w-3"})})]})},g.id))}),a.jsx("div",{className:"p-4 border-t bg-gray-50",children:c?a.jsx(Kk,{onImageUpload:k,onCancel:()=>u(!1),buttonText:"Admin Resim Gönder"}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(zi,{placeholder:"Kullanıcıya yanıt yazın...",value:s,onChange:g=>i(g.target.value),className:"flex-1 min-h-[40px] max-h-[100px] resize-none",rows:2,onKeyDown:g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),x())}}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(W,{onClick:x,disabled:!s.trim()||o,size:"sm",children:a.jsx(uh,{className:"h-4 w-4"})}),a.jsx(W,{onClick:()=>u(!0),variant:"outline",size:"sm",disabled:o,children:a.jsx(ef,{className:"h-4 w-4"})})]})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"Bir kullanıcı konuşması seçin"})]})})})]})]})}function Wte(){const{toast:t}=pn(),e=_o(),[n,r]=p.useState(null),[s,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(new Set),[h,f]=p.useState(!1),[m,v]=p.useState(""),[w,x]=p.useState(""),[k,_]=p.useState(!1),[g,b]=p.useState(""),[C,D]=p.useState(null),[O,I]=p.useState(""),[N,E]=p.useState(""),[S,j]=p.useState(!1),[R,A]=p.useState(null),[B,X]=p.useState([]),[J,ae]=p.useState(!1),[z,H]=p.useState(""),[ne,xe]=p.useState(""),[be,Ie]=p.useState("info"),[Je,yt]=p.useState(!1),[ht,me]=p.useState("pending");if(!(localStorage.getItem("adminLoggedIn")==="true"))return a.jsx(Ib,{to:"/admin"});const{data:He=[],isLoading:$}=tr({queryKey:["admin-pending-items"],queryFn:async()=>{try{const F=Qt(dt(he,"items"),Nt("status","==","pending"));return(await zn(F)).docs.map(it=>{var or,wr,Lr;const Pe=it.data();return{...Pe,id:it.id,createdAt:(or=Pe.createdAt)!=null&&or.toDate?Pe.createdAt.toDate():new Date(Pe.createdAt),updatedAt:(wr=Pe.updatedAt)!=null&&wr.toDate?Pe.updatedAt.toDate():new Date(Pe.updatedAt),approvedAt:(Lr=Pe.approvedAt)!=null&&Lr.toDate?Pe.approvedAt.toDate():void 0}}).sort((it,Pe)=>Pe.createdAt.getTime()-it.createdAt.getTime())}catch(F){throw console.error("Error fetching pending items:",F),F}},enabled:!0}),{data:de=[],isLoading:Re}=tr({queryKey:["admin-approved-items"],queryFn:async()=>{try{const F=Qt(dt(he,"items"),Nt("status","==","aktif"));return(await zn(F)).docs.map(it=>{var or,wr,Lr;const Pe=it.data();return{...Pe,id:it.id,createdAt:(or=Pe.createdAt)!=null&&or.toDate?Pe.createdAt.toDate():new Date(Pe.createdAt),updatedAt:(wr=Pe.updatedAt)!=null&&wr.toDate?Pe.updatedAt.toDate():new Date(Pe.updatedAt),approvedAt:(Lr=Pe.approvedAt)!=null&&Lr.toDate?Pe.approvedAt.toDate():void 0}}).sort((it,Pe)=>Pe.createdAt.getTime()-it.createdAt.getTime())}catch(F){throw console.error("Error fetching approved items:",F),F}},enabled:!0}),{data:Ue=[],isLoading:Ye}=tr({queryKey:["admin-users"],queryFn:async()=>{const F=await fetch("/api/admin/users");if(!F.ok)throw new Error("Failed to fetch users");return F.json()}}),ln=Ue.filter(F=>{var Ve,vt;return((Ve=F.name)==null?void 0:Ve.toLowerCase().includes(g.toLowerCase()))||((vt=F.email)==null?void 0:vt.toLowerCase().includes(g.toLowerCase()))}),An=async()=>{if(!C||!O.trim()||!N.trim()){t({title:"Hata",description:"Lütfen tüm alanları doldurun",variant:"destructive"});return}j(!0);try{if(!(await fetch("/api/admin/send-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:C.id,title:O,message:N})})).ok)throw new Error("Failed to send message");t({title:"Başarılı",description:"Mesaj başarıyla gönderildi"}),I(""),E(""),D(null)}catch{t({title:"Hata",description:"Mesaj gönderilirken hata oluştu",variant:"destructive"})}finally{j(!1)}},Wn=async F=>{A(F),ae(!0);try{const Ve=await fetch(`/api/admin/users/${F.id}/items`);if(Ve.ok){const vt=await Ve.json();X(vt)}else X([])}catch(Ve){console.error("Error fetching user items:",Ve),X([])}finally{ae(!1)}},ca=()=>{A(null),X([]),ae(!1)},ns=async()=>{if(!z.trim()||!ne.trim()){t({title:"Hata",description:"Başlık ve mesaj alanları zorunludur",variant:"destructive"});return}yt(!0);try{const F=await fetch("/api/admin/broadcast-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:z,message:ne,type:be})}),Ve=await F.json();if(F.ok)t({title:"Başarılı",description:Ve.message}),H(""),xe(""),Ie("info");else throw new Error(Ve.error||"Bildirim gönderilirken hata oluştu")}catch(F){t({title:"Hata",description:F.message||"Bildirim gönderilirken hata oluştu",variant:"destructive"})}finally{yt(!1)}},{data:Ms=[],isLoading:Co}=tr({queryKey:["admin-rejected-items"],queryFn:async()=>{try{const F=Qt(dt(he,"items"),Nt("status","==","reddedildi"));return(await zn(F)).docs.map(it=>{var or,wr,Lr;const Pe=it.data();return{...Pe,id:it.id,createdAt:(or=Pe.createdAt)!=null&&or.toDate?Pe.createdAt.toDate():new Date(Pe.createdAt),updatedAt:(wr=Pe.updatedAt)!=null&&wr.toDate?Pe.updatedAt.toDate():new Date(Pe.updatedAt),approvedAt:(Lr=Pe.approvedAt)!=null&&Lr.toDate?Pe.approvedAt.toDate():void 0}}).sort((it,Pe)=>Pe.createdAt.getTime()-it.createdAt.getTime())}catch(F){throw console.error("Error fetching rejected items:",F),F}},enabled:!0}),M=async(F,Ve="")=>{try{l(F);const vt=Ke(he,"items",F);await xn(vt,{status:"aktif",adminNotes:Ve,approvedAt:Cr(),approvedBy:"admin",updatedAt:Cr()}),t({title:"İlan onaylandı",description:"İlan başarıyla yayınlandı"}),e.invalidateQueries({queryKey:["admin-pending-items"]}),e.invalidateQueries({queryKey:["admin-approved-items"]}),i(""),r(null)}catch(vt){t({title:"Hata",description:vt.message||"İlan onaylanırken hata oluştu",variant:"destructive"})}finally{l(null)}},U=async(F,Ve="")=>{try{l(F);const vt=Ke(he,"items",F);await xn(vt,{status:"reddedildi",adminNotes:Ve,approvedAt:Cr(),approvedBy:"admin",updatedAt:Cr()}),t({title:"İlan reddedildi",description:"İlan reddedildi ve yayınlanmayacak"}),e.invalidateQueries({queryKey:["admin-pending-items"]}),e.invalidateQueries({queryKey:["admin-rejected-items"]}),i(""),r(null)}catch(vt){t({title:"Hata",description:vt.message||"İlan reddedilirken hata oluştu",variant:"destructive"})}finally{l(null)}},G=()=>{localStorage.removeItem("adminLoggedIn"),window.location.href="/admin"},le=async()=>{if(c.size===0){t({title:"Uyarı",description:"Lütfen silinecek ilanları seçin",variant:"destructive"});return}f(!0);try{const F=Array.from(c).map(Ve=>lu(Ke(he,"items",Ve)));await Promise.all(F),t({title:"Başarılı",description:`${c.size} ilan başarıyla silindi`}),u(new Set),e.invalidateQueries({queryKey:["admin-pending-items"]}),e.invalidateQueries({queryKey:["admin-approved-items"]}),e.invalidateQueries({queryKey:["admin-rejected-items"]})}catch(F){t({title:"Hata",description:F.message||"İlanlar silinirken hata oluştu",variant:"destructive"})}finally{f(!1)}},ee=(F,Ve)=>{u(vt=>{const it=new Set(vt);return Ve?it.add(F):it.delete(F),it})},Z=(F,Ve)=>{u(vt=>{const it=new Set(vt);return F.forEach(Pe=>{Ve?it.add(Pe.id):it.delete(Pe.id)}),it})},pe=async()=>{if(!m||!w){t({title:"Hata",description:"Tüm alanları doldurun",variant:"destructive"});return}if(m!==w){t({title:"Hata",description:"Şifreler eşleşmiyor",variant:"destructive"});return}if(m.length<6){t({title:"Hata",description:"Şifre en az 6 karakter olmalı",variant:"destructive"});return}_(!0);try{localStorage.setItem("adminPassword",m),t({title:"Başarılı",description:"Admin şifresi başarıyla değiştirildi"}),v(""),x("")}catch{t({title:"Hata",description:"Şifre değiştirilemedi",variant:"destructive"})}finally{_(!1)}},Qe=({item:F,showActions:Ve=!1,showCheckbox:vt=!1})=>a.jsxs(Oe,{className:"mb-4",children:[a.jsx(Ut,{className:"pb-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[vt&&a.jsx("div",{className:"mr-3 mt-1",children:a.jsx(Br,{checked:c.has(F.id),onCheckedChange:it=>ee(F.id,it),"data-testid":`checkbox-item-${F.id}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(zt,{className:"text-lg",children:F.title}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ze,{variant:"outline",children:Bi[F.category]}),a.jsx(ze,{variant:"outline",children:As[F.condition]}),a.jsx(ze,{variant:F.status==="pending"?"secondary":F.status==="aktif"?"default":"destructive",children:F.status==="pending"?"Bekliyor":F.status==="aktif"?"Onaylandı":"Reddedildi"}),F.isPaid&&a.jsx(ze,{variant:"outline",children:"Ücretli"})]})]}),a.jsxs(Ui,{children:[a.jsx(a0,{asChild:!0,children:a.jsxs(W,{variant:"outline",size:"sm",children:[a.jsx(ro,{className:"h-4 w-4 mr-2"}),"Detay"]})}),a.jsxs(li,{className:"max-w-2xl",children:[a.jsx(ci,{children:a.jsx(ui,{children:F.title})}),a.jsxs("div",{className:"space-y-4",children:[F.images&&F.images.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-2",children:F.images.slice(0,4).map((it,Pe)=>a.jsx("img",{src:it,alt:`${F.title} ${Pe+1}`,className:"w-full h-32 object-cover rounded"},Pe))}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Açıklama"}),a.jsx("p",{className:"text-gray-600",children:F.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Sahip:"})," ",F.ownerName]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Konum:"})," ",F.location]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Durum:"})," ",As[F.condition]]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Kategori:"})," ",Bi[F.category]]})]}),F.adminNotes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Admin Notları"}),a.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded",children:F.adminNotes})]})]})]})]})]})}),Ve&&a.jsx($e,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Admin Notu (isteğe bağlı)"}),a.jsx(zi,{placeholder:"İlan hakkında not ekleyin...",value:s,onChange:it=>i(it.target.value),rows:2})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{onClick:()=>M(F.id,s),disabled:o===F.id,className:"flex-1",size:"sm",children:[a.jsx(bc,{className:"h-4 w-4 mr-2"}),"Onayla"]}),a.jsxs(W,{onClick:()=>U(F.id,s),disabled:o===F.id,variant:"destructive",className:"flex-1",size:"sm",children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),"Reddet"]})]})]})})]});return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(AA,{className:"h-6 w-6 text-blue-600"}),a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Paneli"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>me("settings"),className:`flex items-center gap-2 ${ht==="settings"?"bg-gray-100":""}`,"data-testid":"button-admin-settings",children:[a.jsx(nU,{className:"h-4 w-4"}),"Ayarlar"]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-2","data-testid":"button-admin-logout",children:[a.jsx(ww,{className:"h-4 w-4"}),"Çıkış Yap"]})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx("p",{className:"text-gray-600 mt-2",children:"İlanları yönetin ve onaylayın"})}),a.jsxs(LL,{value:ht,onValueChange:me,className:"space-y-6",children:[a.jsxs(e1,{className:"grid w-full grid-cols-5",children:[a.jsxs(Ci,{value:"pending",className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-4 w-4"}),"Bekleyen İlanlar (",He.length,")"]}),a.jsxs(Ci,{value:"approved",className:"flex items-center gap-2",children:[a.jsx(bc,{className:"h-4 w-4"}),"Onaylanan İlanlar (",de.length,")"]}),a.jsxs(Ci,{value:"rejected",className:"flex items-center gap-2",children:[a.jsx(_s,{className:"h-4 w-4"}),"Reddedilen İlanlar (",Ms.length,")"]}),a.jsxs(Ci,{value:"users",className:"flex items-center gap-2",children:[a.jsx(nm,{className:"h-4 w-4"}),"Kullanıcılar"]}),a.jsxs(Ci,{value:"chat",className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-4 w-4"}),"Canlı Destek"]}),a.jsxs(Ci,{value:"broadcast",className:"flex items-center gap-2",children:[a.jsx(ed,{className:"h-4 w-4"}),"Toplu Bildirim"]})]}),a.jsx(Us,{value:"pending",className:"space-y-4",children:$?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Bekleyen ilanlar yükleniyor..."})]}):He.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Bekleyen ilan bulunmuyor"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Br,{checked:He.every(F=>c.has(F.id)),onCheckedChange:F=>Z(He,F),"data-testid":"checkbox-select-all-pending"}),a.jsx("span",{className:"text-sm text-gray-600",children:c.size>0?`${c.size} ilan seçildi`:"Tümünü seç"})]}),c.size>0&&a.jsxs(W,{onClick:le,disabled:h,variant:"destructive",size:"sm","data-testid":"button-bulk-delete-pending",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),h?"Siliniyor...":"Seçilenleri Sil"]})]}),He.map(F=>a.jsx(Qe,{item:F,showActions:!0,showCheckbox:!0},F.id))]})}),a.jsx(Us,{value:"approved",className:"space-y-4",children:Re?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Onaylanan ilanlar yükleniyor..."})]}):de.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(bc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Onaylanan ilan bulunmuyor"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Br,{checked:de.every(F=>c.has(F.id)),onCheckedChange:F=>Z(de,F),"data-testid":"checkbox-select-all-approved"}),a.jsx("span",{className:"text-sm text-gray-600",children:c.size>0?`${c.size} ilan seçildi`:"Tümünü seç"})]}),c.size>0&&a.jsxs(W,{onClick:le,disabled:h,variant:"destructive",size:"sm","data-testid":"button-bulk-delete-approved",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),h?"Siliniyor...":"Seçilenleri Sil"]})]}),de.map(F=>a.jsx(Qe,{item:F,showCheckbox:!0},F.id))]})}),a.jsx(Us,{value:"rejected",className:"space-y-4",children:Co?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Reddedilen ilanlar yükleniyor..."})]}):Ms.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(_s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Reddedilen ilan bulunmuyor"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Br,{checked:Ms.every(F=>c.has(F.id)),onCheckedChange:F=>Z(Ms,F),"data-testid":"checkbox-select-all-rejected"}),a.jsx("span",{className:"text-sm text-gray-600",children:c.size>0?`${c.size} ilan seçildi`:"Tümünü seç"})]}),c.size>0&&a.jsxs(W,{onClick:le,disabled:h,variant:"destructive",size:"sm","data-testid":"button-bulk-delete-rejected",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),h?"Siliniyor...":"Seçilenleri Sil"]})]}),Ms.map(F=>a.jsx(Qe,{item:F,showCheckbox:!0},F.id))]})}),a.jsxs(Us,{value:"users",className:"space-y-4",children:[a.jsxs(Oe,{children:[a.jsx(Ut,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(nm,{className:"h-5 w-5"}),"Kullanıcı Yönetimi"]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsx("div",{className:"w-full max-w-md",children:a.jsx(xt,{placeholder:"Kullanıcı ara...",value:g,onChange:F=>b(F.target.value),"data-testid":"input-search-users"})}),Ye?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Kullanıcılar yükleniyor..."})]}):ln.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:g?"Kullanıcı bulunamadı":"Henüz kullanıcı yok"})]}):a.jsx("div",{className:"space-y-3",children:ln.map(F=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50","data-testid":`user-card-${F.id}`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(nm,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:F.name||F.email}),a.jsx("p",{className:"text-sm text-gray-600",children:F.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Katılma: ",F.createdAt?new Date(F.createdAt).toLocaleDateString("tr-TR"):"N/A"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{onClick:()=>Wn(F),size:"sm",variant:"outline","data-testid":`button-view-profile-${F.id}`,children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),"Profil Görüntüle"]}),a.jsxs(W,{onClick:()=>D(F),size:"sm","data-testid":`button-message-${F.id}`,children:[a.jsx(uh,{className:"h-4 w-4 mr-2"}),"Mesaj Gönder"]})]})]},F.id))})]})]}),C&&a.jsx(Ui,{open:!!C,onOpenChange:()=>D(null),children:a.jsxs(li,{children:[a.jsx(ci,{children:a.jsxs(ui,{children:[C.name||C.email," adlı kullanıcıya mesaj gönder"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mesaj Başlığı"}),a.jsx(xt,{placeholder:"Mesaj başlığı girin",value:O,onChange:F=>I(F.target.value),"data-testid":"input-message-title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mesaj İçeriği"}),a.jsx(zi,{placeholder:"Mesaj içeriğini girin",value:N,onChange:F=>E(F.target.value),rows:4,"data-testid":"textarea-message-content"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(W,{variant:"outline",onClick:()=>D(null),"data-testid":"button-cancel-message",children:"İptal"}),a.jsx(W,{onClick:An,disabled:S,"data-testid":"button-send-message",children:S?"Gönderiliyor...":"Gönder"})]})]})]})}),R&&a.jsx(Ui,{open:!!R,onOpenChange:ca,children:a.jsxs(li,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(ci,{children:a.jsxs(ui,{className:"flex items-center gap-2",children:[a.jsx(pr,{className:"h-5 w-5"}),"Kullanıcı Profili: ",R.name||R.email]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Oe,{children:[a.jsx(Ut,{children:a.jsxs(zt,{className:"text-lg flex items-center gap-2",children:[a.jsx(pr,{className:"h-5 w-5"}),"Kullanıcı Bilgileri"]})}),a.jsxs($e,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pr,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:"Ad Soyad:"}),a.jsx("span",{children:R.name||"Belirtilmemiş"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:"E-posta:"}),a.jsx("span",{children:R.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tU,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:"Telefon:"}),a.jsx("span",{children:R.phone||"Belirtilmemiş"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wu,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:"Katılma Tarihi:"}),a.jsx("span",{children:R.createdAt?new Date(R.createdAt).toLocaleDateString("tr-TR"):"Bilinmiyor"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bu,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:"Şehir:"}),a.jsx("span",{children:R.city||"Belirtilmemiş"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ze,{variant:"outline",children:["ID: ",R.id]})})]})]})]}),a.jsxs(Oe,{children:[a.jsx(Ut,{children:a.jsxs(zt,{className:"text-lg flex items-center gap-2",children:[a.jsx(Gr,{className:"h-5 w-5"}),"Kullanıcının İlanları (",B.length,")"]})}),a.jsx($e,{children:J?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"İlanlar yükleniyor..."})]}):B.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Bu kullanıcının henüz ilanı bulunmuyor"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(F=>a.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow","data-testid":`user-item-${F.id}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:F.title}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ze,{variant:F.status==="active"?"default":F.status==="pending"?"secondary":"destructive",children:F.status==="active"?"Aktif":F.status==="pending"?"Beklemede":F.status==="rejected"?"Reddedildi":F.status}),a.jsx("span",{className:"text-xs text-gray-500",children:Bi[F.category]||F.category})]}),a.jsx("p",{className:"text-xs text-gray-600",children:F.createdAt?new Date(F.createdAt).toLocaleDateString("tr-TR"):"Tarih yok"})]})},F.id))})})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:()=>D(R),"data-testid":"button-send-message-from-profile",children:[a.jsx(uh,{className:"h-4 w-4 mr-2"}),"Mesaj Gönder"]}),a.jsx(W,{onClick:ca,"data-testid":"button-close-profile",children:"Kapat"})]})]})]})})]}),a.jsx(Us,{value:"chat",children:a.jsx(Kte,{})}),a.jsx(Us,{value:"broadcast",children:a.jsxs(Oe,{children:[a.jsxs(Ut,{children:[a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(ed,{className:"h-5 w-5"}),"Tüm Kullanıcılara Toplu Bildirim Gönder"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Buradan tüm kayıtlı kullanıcılara aynı anda bildirim gönderebilirsiniz."})]}),a.jsxs($e,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Bildirim Türü"}),a.jsxs(Ws,{value:be,onValueChange:Ie,children:[a.jsx(fs,{"data-testid":"select-broadcast-type",children:a.jsx(Gs,{})}),a.jsxs(ms,{children:[a.jsx(bt,{value:"info",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(NT,{className:"h-4 w-4 text-blue-500"}),"Bilgi"]})}),a.jsx(bt,{value:"warning",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bw,{className:"h-4 w-4 text-yellow-500"}),"Uyarı"]})}),a.jsx(bt,{value:"announcement",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ed,{className:"h-4 w-4 text-green-500"}),"Duyuru"]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"broadcast-title",className:"text-sm font-medium",children:"Başlık *"}),a.jsx(xt,{id:"broadcast-title",value:z,onChange:F=>H(F.target.value),placeholder:"Bildirim başlığını yazın",maxLength:100,"data-testid":"input-broadcast-title"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[z.length,"/100 karakter"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"broadcast-message",className:"text-sm font-medium",children:"Mesaj *"}),a.jsx(zi,{id:"broadcast-message",value:ne,onChange:F=>xe(F.target.value),placeholder:"Bildirim mesajını yazın",rows:5,maxLength:500,"data-testid":"textarea-broadcast-message"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[ne.length,"/500 karakter"]})]}),(z||ne)&&a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Önizleme:"}),a.jsxs("div",{className:"bg-white border rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[be==="info"&&a.jsx(NT,{className:"h-4 w-4 text-blue-500"}),be==="warning"&&a.jsx(bw,{className:"h-4 w-4 text-yellow-500"}),be==="announcement"&&a.jsx(ed,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-medium text-sm",children:z||"Başlık"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:ne||"Mesaj içeriği"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(W,{onClick:ns,disabled:Je||!z.trim()||!ne.trim(),className:"flex items-center gap-2","data-testid":"button-send-broadcast",children:[a.jsx(ed,{className:"h-4 w-4"}),Je?"Gönderiliyor...":"Tüm Kullanıcılara Gönder"]})})]})]})}),a.jsx(Us,{value:"settings",children:a.jsx("div",{className:"space-y-6",children:a.jsxs(Oe,{children:[a.jsx(Ut,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(X5,{className:"h-5 w-5"}),"Şifre Değiştir"]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Yeni Şifre"}),a.jsx("input",{type:"password",value:m,onChange:F=>v(F.target.value),placeholder:"Yeni şifrenizi girin",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","data-testid":"input-new-password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Şifre Tekrarı"}),a.jsx("input",{type:"password",value:w,onChange:F=>x(F.target.value),placeholder:"Şifrenizi tekrar girin",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","data-testid":"input-confirm-password"})]}),a.jsx(W,{onClick:pe,disabled:k,"data-testid":"button-change-password",children:k?"Değiştiriliyor...":"Şifre Değiştir"})]})]})})})]})]})]})})}const lI={username:"admin",password:"admin123"};function Gte(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),{toast:c}=pn(),[,u]=Rs();if(localStorage.getItem("adminLoggedIn")==="true")return u("/admin-panel"),null;const f=async m=>{m.preventDefault(),l(!0);try{t===lI.username&&n===lI.password?(localStorage.setItem("adminLoggedIn","true"),c({title:"Giriş başarılı",description:"Admin paneline yönlendiriliyorsunuz..."}),u("/admin-panel")):c({title:"Giriş başarısız",description:"Kullanıcı adı veya şifre yanlış",variant:"destructive"})}catch(v){c({title:"Hata",description:v.message,variant:"destructive"})}finally{l(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(Oe,{className:"w-full max-w-md",children:[a.jsxs(Ut,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(AA,{className:"h-8 w-8 text-blue-600"})}),a.jsx(zt,{className:"text-2xl font-bold",children:"Admin Girişi"}),a.jsx("p",{className:"text-gray-600",children:"Admin paneline erişim için giriş yapın"})]}),a.jsx($e,{children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ys,{htmlFor:"username",children:"Kullanıcı Adı"}),a.jsx(xt,{id:"username",type:"text",value:t,onChange:m=>e(m.target.value),placeholder:"Admin kullanıcı adınızı girin",required:!0,"data-testid":"input-admin-username"})]}),a.jsxs("div",{children:[a.jsx(ys,{htmlFor:"password",children:"Şifre"}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{id:"password",type:s?"text":"password",value:n,onChange:m=>r(m.target.value),placeholder:"Admin şifrenizi girin",required:!0,"data-testid":"input-admin-password"}),a.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),"data-testid":"button-toggle-password",children:s?a.jsx(Vb,{className:"h-4 w-4 text-gray-400"}):a.jsx(ro,{className:"h-4 w-4 text-gray-400"})})]})]}),a.jsx(W,{type:"submit",className:"w-full",disabled:o,"data-testid":"button-admin-login",children:o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Giriş yapılıyor..."]}):"Giriş Yap"})]})})]})}),a.jsx(iM,{})]})}function Qte(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(Oe,{className:"w-full max-w-md mx-4",children:a.jsxs($e,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(Y5,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Yte(){const{id:t}=Zh(),{profile:e}=qn(),{toast:n}=pn(),[,r]=Rs(),s=_o(),{data:i,isLoading:o}=tr({queryKey:["item",t],queryFn:async()=>{var m,v,w;if(!t)return null;const h=await fn(Ke(he,"items",t));if(!h.exists())return null;const f=h.data();return{...f,id:h.id,createdAt:f.createdAt.toDate(),updatedAt:f.updatedAt.toDate(),approvedAt:(m=f.approvedAt)==null?void 0:m.toDate(),originalPublishDate:(v=f.originalPublishDate)==null?void 0:v.toDate(),expiresAt:(w=f.expiresAt)==null?void 0:w.toDate()}},enabled:!!t}),l=kh({resolver:Eh(mte),defaultValues:i?{itemNumber:i.itemNumber,title:i.title,description:i.description,category:i.category,condition:i.condition,images:i.images,ownerId:i.ownerId,location:i.location,adminNotes:i.adminNotes}:void 0});p.useEffect(()=>{i&&l.reset({itemNumber:i.itemNumber,title:i.title,description:i.description,category:i.category,condition:i.condition,images:i.images,ownerId:i.ownerId,location:i.location,adminNotes:i.adminNotes})},[i,l]);const c=Jo({mutationFn:async h=>{if(!t||!i)throw new Error("Item not found");const f=Ke(he,"items",t);return await xn(f,{...h,status:"pending",updatedAt:new Date,approvedAt:null,approvedBy:null}),t},onSuccess:()=>{s.invalidateQueries({queryKey:["item"]}),s.invalidateQueries({queryKey:["user-items"]}),s.invalidateQueries({queryKey:["items"]}),n({title:"İlan Güncellendi",description:"İlanınız başarıyla güncellendi. Admin onayından sonra yayınlanacaktır."}),r(`/item/${t}`)},onError:h=>{console.error("Edit error:",h),n({title:"Hata",description:"İlan güncellenirken hata oluştu. Lütfen tekrar deneyin.",variant:"destructive"})}}),u=h=>{c.mutate(h)};return o?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):i?!e||i.ownerId!==e.id?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Yetkisiz Erişim"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Bu ilanı düzenleme yetkiniz yok."}),a.jsx(tt,{href:"/profile",children:a.jsxs(W,{children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),"Profile Dön"]})})]})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(tt,{href:`/item/${t}`,children:a.jsxs(W,{variant:"ghost",className:"mb-4",children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),"İlan Detayına Dön"]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"İlan Düzenle"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"İlanınızı düzenleyebilirsiniz. Düzenleme sonrası admin onayından sonra yayınlanacaktır."})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Oe,{children:[a.jsx(Ut,{children:a.jsx(zt,{children:"İlan Bilgileri"})}),a.jsx($e,{children:a.jsx(Ey,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-6",children:[a.jsx(Ot,{control:l.control,name:"title",render:({field:h})=>a.jsxs(jt,{children:[a.jsx(At,{children:"İlan Başlığı"}),a.jsx(mt,{children:a.jsx(xt,{...h,placeholder:"İlanınız için açıklayıcı bir başlık"})}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:l.control,name:"description",render:({field:h})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Açıklama"}),a.jsx(mt,{children:a.jsx(zi,{...h,placeholder:"İlanınızın detaylı açıklaması",rows:4})}),a.jsx(Rt,{})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(Ot,{control:l.control,name:"category",render:({field:h})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Kategori"}),a.jsxs(Ws,{onValueChange:h.onChange,defaultValue:h.value,children:[a.jsx(mt,{children:a.jsx(fs,{children:a.jsx(Gs,{placeholder:"Kategori seçin"})})}),a.jsx(ms,{children:Object.entries(Bi).map(([f,m])=>a.jsx(bt,{value:f,children:m},f))})]}),a.jsx(Rt,{})]})}),a.jsx(Ot,{control:l.control,name:"condition",render:({field:h})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Durum"}),a.jsxs(Ws,{onValueChange:h.onChange,defaultValue:h.value,children:[a.jsx(mt,{children:a.jsx(fs,{children:a.jsx(Gs,{placeholder:"Durum seçin"})})}),a.jsx(ms,{children:Object.entries(As).map(([f,m])=>a.jsx(bt,{value:f,children:m},f))})]}),a.jsx(Rt,{})]})})]}),a.jsx(Ot,{control:l.control,name:"location",render:({field:h})=>a.jsxs(jt,{children:[a.jsx(At,{children:"Konum"}),a.jsx(mt,{children:a.jsx(xt,{...h,placeholder:"Şehir"})}),a.jsx(Rt,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(W,{type:"submit",disabled:c.isPending,className:"flex-1",children:c.isPending?"Güncelleniyor...":"İlanı Güncelle"}),a.jsx(tt,{href:`/item/${t}`,children:a.jsx(W,{type:"button",variant:"outline",children:"İptal"})})]})]})})})]})}),a.jsxs("div",{children:[a.jsxs(Oe,{children:[a.jsx(Ut,{children:a.jsx(zt,{children:"Mevcut Resimler"})}),a.jsxs($e,{children:[a.jsx("div",{className:"space-y-4",children:i.images.map((h,f)=>a.jsx("div",{className:"relative",children:a.jsx("img",{src:h,alt:`İlan resmi ${f+1}`,className:"w-full h-32 object-cover rounded-lg"})},f))}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Resim değiştirmek için müşteri hizmetleriyle iletişime geçin."})]})]}),a.jsxs(Oe,{className:"mt-6",children:[a.jsx(Ut,{children:a.jsx(zt,{children:"Önemli Bilgiler"})}),a.jsxs($e,{className:"space-y-3 text-sm text-gray-600",children:[a.jsx("p",{children:"• Düzenlemeden sonra ilanınız admin onayı bekleyecek"}),a.jsx("p",{children:"• İlan tarihi değişmeyecek, süre aynı kalacak"}),a.jsx("p",{children:"• Onay sonrası ilan tekrar yayınlanacak"}),i.originalPublishDate&&a.jsxs("p",{children:["• İlk yayın: ",i.originalPublishDate.toLocaleDateString("tr-TR")]}),i.expiresAt&&a.jsxs("p",{children:["• Son tarih: ",i.expiresAt.toLocaleDateString("tr-TR")]})]})]})]})]})]}):a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"İlan Bulunamadı"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Düzenlemek istediğiniz ilan mevcut değil."}),a.jsx(tt,{href:"/profile",children:a.jsxs(W,{children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),"Profile Dön"]})})]})})}function Zte(t){return[{id:"1",title:t.blog.recyclingTitle,slug:"geri-donusum-neden-onemli",excerpt:t.blog.recyclingSubtitle,content:"",publishedAt:"2024-01-15",readTime:"5 dakika",tags:["Geri Dönüşüm","Çevre","Sürdürülebilirlik","Takas"],seoKeywords:["geri dönüşüm","çevre dostu yaşam","sürdürülebilirlik","takas","atık yönetimi","yeşil yaşam","doğa koruma","ekonomik fayda","sıfır atık","plastik geri dönüşüm","metal geri dönüşüm","elektronik atık"]},{id:"2",title:t.blog.nationalCapitalTitle,slug:"milli-sermaye-nedir",excerpt:t.blog.nationalCapitalExcerpt,content:"",publishedAt:"2024-01-20",readTime:"7 dakika",tags:["Ekonomi","Milli Sermaye","Tasarruf","İsraf"],seoKeywords:["milli sermaye","ekonomi","yerli üretim","tasarruf","israf","doğal kaynaklar","insan kaynağı","ekonomik kalkınma","bağımsızlık","ithalat","ihracat","beyin göçü","ar-ge","teknoloji","yatırım"]}]}function Xte(){const{language:t,t:e}=Kn(),n=Zte(e);return a.jsxs(a.Fragment,{children:[a.jsxs(fM,{children:[a.jsx("title",{children:"Blog - Takas Çemberi | Geri Dönüşüm ve Sürdürülebilir Yaşam Rehberi"}),a.jsx("meta",{name:"description",content:"Geri dönüşüm, çevre dostu yaşam ve sürdürülebilirlik hakkında değerli bilgiler. Takas yaparak doğayı koruma, atık azaltma ve ekonomik fayda sağlama rehberleri."}),a.jsx("meta",{name:"keywords",content:"geri dönüşüm blog, çevre dostu yaşam, sürdürülebilirlik, takas rehberi, yeşil yaşam, atık yönetimi, doğa koruma, sıfır atık, plastik geri dönüşüm, metal geri dönüşüm, elektronik atık, ekonomik fayda, çevre bilinci, milli sermaye, ekonomi, yerli üretim, tasarruf, israf, doğal kaynaklar, insan kaynağı, ekonomik kalkınma, bağımsızlık, ithalat, ihracat, beyin göçü, ar-ge, teknoloji, yatırım, ekonomik bağımsızlık, milli ekonomi, kaynak yönetimi, sürdürülebilir ekonomi"}),a.jsx("meta",{property:"og:title",content:"Blog - Takas Çemberi | Geri Dönüşüm Rehberi"}),a.jsx("meta",{property:"og:description",content:"Geri dönüşüm ve sürdürülebilir yaşam hakkında değerli bilgiler. Takas yaparak doğayı koruma rehberleri."}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:`${window.location.origin}/blog`}),a.jsx("meta",{property:"og:image",content:`${window.location.origin}/og-blog-image.jpg`}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:"Blog - Takas Çemberi | Geri Dönüşüm Rehberi"}),a.jsx("meta",{name:"twitter:description",content:"Geri dönüşüm ve sürdürülebilir yaşam hakkında değerli bilgiler."}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Blog",name:"Takas Çemberi Blog",description:"Geri dönüşüm, çevre dostu yaşam ve sürdürülebilirlik hakkında blog yazıları",url:`${window.location.origin}/blog`,publisher:{"@type":"Organization",name:"Takas Çemberi",url:window.location.origin},blogPost:n.map(r=>({"@type":"BlogPosting",headline:r.title,datePublished:r.publishedAt,url:`${window.location.origin}/blog/${r.slug}`,keywords:r.seoKeywords.join(", ")}))})})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex justify-center items-center gap-2 mb-4",children:[a.jsx(Fb,{className:"h-8 w-8 text-green-500"}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:e.blog.blogTitle}),a.jsx(Np,{className:"h-8 w-8 text-blue-500"})]}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:e.blog.blogSubtitle})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:n.map(r=>a.jsxs(Oe,{className:"hover:shadow-lg transition-shadow duration-300 group",children:[a.jsxs(Ut,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[a.jsx(wu,{className:"h-4 w-4"}),new Date(r.publishedAt).toLocaleDateString("tr-TR"),a.jsx("span",{children:"•"}),a.jsx("span",{children:r.readTime})]}),a.jsx(zt,{className:"group-hover:text-green-600 transition-colors",children:r.title}),a.jsx(sM,{className:"text-gray-600",children:r.excerpt})]}),a.jsxs($e,{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map(s=>a.jsx(ze,{variant:"secondary",className:"bg-green-50 text-green-700 hover:bg-green-100",children:s},s))}),a.jsx(tt,{href:`/blog/${r.slug}`,children:a.jsxs(W,{variant:"outline",className:"w-full group-hover:bg-green-50 group-hover:border-green-300 group-hover:text-green-700",children:[e.blog.readMore,a.jsx(el,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]},r.id))}),a.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 rounded-2xl p-8 text-center",children:[a.jsx(Jc,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.blog.environmentContribution}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:e.blog.environmentContributionDesc}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(tt,{href:"/add-item",children:a.jsxs(W,{className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(jA,{className:"h-4 w-4 mr-2"}),e.blog.addItem]})}),a.jsx(tt,{href:"/items",children:a.jsxs(W,{variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",children:[a.jsx(Np,{className:"h-4 w-4 mr-2"}),e.blog.browseItems]})})]})]})]})]})}function Jte(t){return[{id:"1",title:t.blog.recyclingTitle,slug:"geri-donusum-neden-onemli",excerpt:t.blog.recyclingSubtitle,content:`# ${t.blog.recyclingTitle} 🌍♻️

Hepimizin evinde, iş yerinde ya da çevremizde artık kullanmadığımız pek çok eşya var. Bu eşyaların çoğu ya çöpe gidiyor ya da köşede unutuluyor. Oysa geri dönüşüm sayesinde hem doğayı koruyabilir, hem de milli ekonomiye katkı sağlayabiliriz.

## 1. ${t.blog.protectNatureTitle}

${t.blog.protectNatureDesc}

* **${t.blog.plasticBottle}**
* **${t.blog.aluminumCan}**
* **${t.blog.glassBottle}**

Geri dönüşüm, bu materyallerin yeniden kullanılmasını sağlayarak doğanın yükünü hafifletir.

## 2. ${t.blog.economyTitle}

${t.blog.economyDesc}

* ${t.blog.rawMaterial}
* ${t.blog.energyConsumption}
* ${t.blog.economicContribution}

## 3. Çevre Dostu Yaşam Tarzı

Geri dönüşüm sadece doğayı korumak değil, aynı zamanda yaşam tarzımızı da dönüştürmektir. Paylaşım kültürü, ihtiyaç fazlasını değerlendirme ve sıfır atık bilinci hayatımıza değer katar.

## 4. ${t.blog.easiestWayTitle}

${t.blog.easiestWayDesc}

* ${t.blog.phoneExample}
* ${t.blog.furnitureExample}
* ${t.blog.electronicExample}

İşte bu kadar basit!

---

### Sonuç

Geri dönüşüm; doğayı korumanın, israfı önlemenin ve geleceğe daha temiz bir dünya bırakmanın en etkili yollarından biridir. Sen de bugün bir adım atarak kullanmadığın eşyaları takas etmeyi deneyebilirsin. 🌱`,publishedAt:"2024-01-15",readTime:"5 dakika",tags:["Geri Dönüşüm","Çevre","Sürdürülebilirlik","Takas"],seoKeywords:["geri dönüşüm","çevre dostu yaşam","sürdürülebilirlik","takas","atık yönetimi","yeşil yaşam","doğa koruma","ekonomik fayda","sıfır atık","plastik geri dönüşüm","metal geri dönüşüm","elektronik atık","doğa koruma","çevre bilinci","sürdürülebilir yaşam","yeşil teknoloji"],author:"Takas Çemberi Editörü"},{id:"2",title:t.blog.nationalCapitalTitle,slug:"milli-sermaye-nedir",excerpt:t.blog.nationalCapitalExcerpt,content:`# ${t.blog.nationalCapitalTitle} 💰🇹🇷

Milli sermaye, bir ülkenin sahip olduğu **maddi ve manevi tüm kaynakların toplamı**dır. Kısaca; ülkenin üretim gücü, doğal zenginlikleri, insan kaynağı, bilgi birikimi ve ekonomik değerleri milli sermayeyi oluşturur.

## Milli Sermaye Nasıl Oluşur?

Milli sermaye tek bir kaynaktan değil, pek çok farklı faktörün birleşiminden ortaya çıkar:

* **Doğal Kaynaklar:** Madenler, tarım alanları, su kaynakları.
* **Üretim ve Sanayi:** Fabrikalar, işletmeler, teknolojik yatırımlar.
* **İnsan Kaynağı:** Eğitimli ve üretken iş gücü.
* **Tasarruf ve Yatırımlar:** Bireylerin ve devletin birikimleri.
* **Bilgi ve Teknoloji:** Yenilikçi fikirler, yazılım, AR-GE çalışmaları.

Kısacası, hem devletin hem de halkın elindeki tüm değerler milli sermayeyi besler.

## Milli Sermaye Nasıl Tükenir?

Bir ülkenin sermayesini kaybetmesi, geleceğini de riske atar. Milli sermayenin tükenmesine yol açan başlıca nedenler:

* **İsraf:** Kullanılabilir ürünlerin çöpe gitmesi.
* **İthalata Aşırı Bağımlılık:** Yerli üretim yerine sürekli dışarıdan almak.
* **Doğal Kaynakların Tahribatı:** Ormanların yok edilmesi, su kaynaklarının kirlenmesi.
* **Beyin Göçü:** Eğitimli insanların başka ülkelere gitmesi.
* **Borçlanma ve Dışa Bağımlılık:** Ekonominin dış kaynaklara teslim olması.

## Neden Korumalıyız?

Milli sermaye, bir ülkenin bağımsızlığının teminatıdır. Ne kadar güçlü bir sermayemiz olursa, o kadar az dışa bağımlı oluruz. Geri dönüşüm, yerli üretimi desteklemek, tasarruf yapmak ve bilgiyi korumak milli sermayemizi güçlendirir.

## Takas ve Milli Sermaye

Kullanmadığımız eşyaları takas etmek, aslında milli sermayeyi koruma yollarından biridir:

* **İsrafı engelleriz:** Çöpe giden eşyalar yerine ihtiyaç sahipleriyle buluşturuz.
* **Yerli değeri koruruz:** İthalat yerine mevcut kaynaklarımızı değerlendiririz.
* **Ekonomik döngüyü güçlendiririz:** Para harcamak yerine değiş-tokuş yaparız.

---

### Sonuç

Milli sermaye sadece para değildir; doğamız, insanımız, kültürümüz ve üretim gücümüzdür. Eğer israf etmez, bilinçli tüketir ve paylaşım kültürünü geliştirirsek milli sermayemizi koruyabiliriz. 🌱`,publishedAt:"2024-01-20",readTime:"7 dakika",tags:["Ekonomi","Milli Sermaye","Tasarruf","İsraf"],seoKeywords:["milli sermaye","ekonomi","yerli üretim","tasarruf","israf","doğal kaynaklar","insan kaynağı","ekonomik kalkınma","bağımsızlık","ithalat","ihracat","beyin göçü","ar-ge","teknoloji","yatırım","ekonomik bağımsızlık","milli ekonomi","kaynak yönetimi","sürdürülebilir ekonomi"],author:"Takas Çemberi Editörü"}]}function ene(t){return t.replace(/^# (.*$)/gm,'<h1 class="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-2">$1</h1>').replace(/^## (.*$)/gm,'<h2 class="text-2xl font-semibold text-gray-800 mb-4 mt-8 flex items-center gap-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span>$1</h2>').replace(/^### (.*$)/gm,'<h3 class="text-xl font-semibold text-gray-700 mb-3 mt-6">$1</h3>').replace(/^\* \*\*(.*?):\*\* (.*$)/gm,'<li class="flex items-start gap-3 mb-2"><CheckCircle class="h-5 w-5 text-green-500 mt-0.5 flex-shrink-0" /><span><strong class="text-gray-900">$1:</strong> <span class="text-gray-700">$2</span></span></li>').replace(/^\* (.*$)/gm,'<li class="flex items-start gap-3 mb-2"><div class="w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div><span class="text-gray-700">$1</span></li>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-gray-900">$1</strong>').replace(/^---$/gm,'<hr class="my-8 border-gray-200" />').replace(/\n\n/g,'</p><p class="text-gray-700 leading-relaxed mb-4">').replace(/^(?!<[h|l|hr])(.*$)/gm,'<p class="text-gray-700 leading-relaxed mb-4">$1</p>').replace(/<p class="text-gray-700 leading-relaxed mb-4"><\/p>/g,"")}function tne(){const t=Zh(),{language:e,t:n}=Kn(),r=t.slug,i=Jte(n).find(l=>l.slug===r);if(!i)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.blog.notFound}),a.jsx(tt,{href:"/blog",children:a.jsxs(W,{children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),"Blog'a Dön"]})})]});const o=`${window.location.origin}/blog/${i.slug}`;return a.jsxs(a.Fragment,{children:[a.jsxs(fM,{children:[a.jsxs("title",{children:[i.title," | Takas Çemberi Blog"]}),a.jsx("meta",{name:"description",content:i.excerpt}),a.jsx("meta",{name:"keywords",content:i.seoKeywords.join(", ")}),a.jsx("meta",{name:"author",content:i.author}),a.jsx("meta",{property:"og:title",content:`${i.title} | Takas Çemberi`}),a.jsx("meta",{property:"og:description",content:i.excerpt}),a.jsx("meta",{property:"og:type",content:"article"}),a.jsx("meta",{property:"og:url",content:o}),a.jsx("meta",{property:"og:image",content:`${window.location.origin}/og-blog-recycling.jpg`}),a.jsx("meta",{property:"article:published_time",content:i.publishedAt}),a.jsx("meta",{property:"article:author",content:i.author}),a.jsx("meta",{property:"article:tag",content:i.tags.join(", ")}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:`${i.title} | Takas Çemberi`}),a.jsx("meta",{name:"twitter:description",content:i.excerpt}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:i.title,description:i.excerpt,datePublished:i.publishedAt,author:{"@type":"Organization",name:i.author},publisher:{"@type":"Organization",name:"Takas Çemberi",url:window.location.origin},url:o,keywords:i.seoKeywords.join(", "),articleSection:"Geri Dönüşüm ve Sürdürülebilirlik",wordCount:i.content.length,mainEntityOfPage:{"@type":"WebPage","@id":o}})})]}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx(tt,{href:"/blog",children:a.jsxs(W,{variant:"ghost",className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[a.jsx(Js,{className:"h-4 w-4 mr-2"}),n.blog.backToBlog]})})}),a.jsxs("header",{className:"mb-8",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tags.map(l=>a.jsx(ze,{variant:"secondary",className:"bg-green-50 text-green-700",children:l},l))}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 leading-tight",children:i.title}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wu,{className:"h-4 w-4"}),new Date(i.publishedAt).toLocaleDateString("tr-TR")]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Tp,{className:"h-4 w-4"}),i.readTime]})]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>navigator.share?navigator.share({title:i.title,text:i.excerpt,url:o}):navigator.clipboard.writeText(o),className:"border-green-300 text-green-700 hover:bg-green-50",children:[a.jsx(rU,{className:"h-4 w-4 mr-2"}),n.blog.share]})]})]}),a.jsx(Oe,{className:"mb-8",children:a.jsx($e,{className:"prose prose-lg max-w-none p-8",children:a.jsx("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:ene(i.content)}})})}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-8 text-center",children:[a.jsxs("div",{className:"flex justify-center items-center gap-2 mb-4",children:[a.jsx(Np,{className:"h-8 w-8 text-green-600"}),a.jsx(jA,{className:"h-6 w-6 text-red-500"}),a.jsx(Jc,{className:"h-8 w-8 text-blue-600"})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.blog.startTradingNow}),a.jsx("p",{className:"text-gray-600 mb-6",children:n.blog.startTradingDesc}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(tt,{href:"/add-item",children:a.jsxs(W,{className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(Fb,{className:"h-4 w-4 mr-2"}),n.blog.addItem]})}),a.jsx(tt,{href:"/items",children:a.jsxs(W,{variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",children:[a.jsx(Np,{className:"h-4 w-4 mr-2"}),n.blog.browseItems]})})]})]})]})]})}function nne(){const[t,e]=p.useState(!1),[n,r]=p.useState(!1),{toast:s}=pn();p.useEffect(()=>{(()=>{if("Notification"in window&&!tL()&&Notification.permission==="default"){const c=setTimeout(()=>{e(!0)},3e3);return()=>clearTimeout(c)}})()},[]);const i=async()=>{r(!0);try{const l=await eL();l==="granted"?(s({title:"Bildirimler Aktif!",description:"Takas teklifleri için bildirim alacaksınız"}),e(!1)):l==="denied"&&(s({title:"Bildirim İzni Reddedildi",description:"Tarayıcı ayarlarından izni açabilirsiniz",variant:"destructive"}),e(!1))}catch{s({title:"Hata",description:"Bildirim izni istenirken hata oluştu",variant:"destructive"})}finally{r(!1)}},o=()=>{e(!1),localStorage.setItem("notification-banner-dismissed",Date.now().toString())};return p.useEffect(()=>{const l=localStorage.getItem("notification-banner-dismissed");l&&(Date.now()-parseInt(l))/36e5<24&&e(!1)},[]),t?a.jsx(Oe,{className:"mx-4 my-2 border-blue-200 bg-blue-50",children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:a.jsx(fd,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Takas Bildirimlerini Aç"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Yeni takas teklifleri ve cevaplar için anlık bildirim alın"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx(W,{onClick:i,size:"sm",disabled:n,"data-testid":"button-enable-notifications",children:n?"İzin İsteniyor...":"Bildirimlerini Aç"}),a.jsx(W,{onClick:o,variant:"ghost",size:"sm",className:"p-1 h-8 w-8","data-testid":"button-dismiss-banner",children:a.jsx(_s,{className:"h-4 w-4"})})]})]})})}):null}function WL(){return a.jsxs(x6,{children:[a.jsx(_r,{path:"/",component:pee}),a.jsx(_r,{path:"/items",component:qee}),a.jsx(_r,{path:"/item/:id",component:Nte}),a.jsx(_r,{path:"/items/:id/edit",component:Yte}),a.jsx(_r,{path:"/profile",component:Dte}),a.jsx(_r,{path:"/user/:id",component:zte}),a.jsx(_r,{path:"/add-item",component:Hte}),a.jsx(_r,{path:"/messages",component:qte}),a.jsx(_r,{path:"/blog",component:Xte}),a.jsx(_r,{path:"/blog/:slug",component:tne}),a.jsx(_r,{path:"/admin",component:Gte}),a.jsx(_r,{path:"/admin-panel",component:Wte}),a.jsx(_r,{component:Qte})]})}function rne(){const[t]=Rs();return t==="/admin"||t==="/admin-panel"?a.jsx(gT,{client:Pd,children:a.jsxs(xR,{children:[a.jsx("div",{className:"min-h-screen",children:a.jsx(WL,{})}),a.jsx(BA,{})]})}):a.jsx(gT,{client:Pd,children:a.jsx(hM,{children:a.jsx(GW,{children:a.jsx(KW,{children:a.jsx(sne,{})})})})})}function sne(){const{user:t}=qn();return a.jsxs(xR,{children:[a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(MX,{}),t&&a.jsx(nne,{}),a.jsx("main",{className:"flex-1",children:a.jsx(WL,{})}),a.jsx(IJ,{})]}),t&&a.jsx(iM,{}),a.jsx(BA,{})]})}Aj(document.getElementById("root")).render(a.jsx(rne,{}));
